window.create=function(t){function e(e){for(var r,a,u=e[0],s=e[1],c=e[2],f=0,d=[];f<u.length;f++)a=u[f],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&d.push(o[a][0]),o[a]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(t[r]=s[r]);for(l&&l(e);d.length;)d.shift()();return i.push.apply(i,c||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],r=!0,u=1;u<n.length;u++){var s=n[u];0!==o[s]&&(r=!1)}r&&(i.splice(e--,1),t=a(a.s=n[0]))}return t}var r={},o={5:0},i=[];function a(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=t,a.c=r,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)a.d(n,r,function(e){return t[e]}.bind(null,r));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="";var u=window.webpackJsonp_name_=window.webpackJsonp_name_||[],s=u.push.bind(u);u.push=e,u=u.slice();for(var c=0;c<u.length;c++)e(u[c]);var l=s;return i.push([132,0,1]),n()}([function(t,e,n){"use strict";n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return a})),n.d(e,"d",(function(){return u})),n.d(e,"e",(function(){return s}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function o(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var i=function(){return(i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function a(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function u(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,u)}s((r=r.apply(t,e||[])).next())}))}function u(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}function s(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),o=0;for(e=0;e<n;e++)for(var i=arguments[e],a=0,u=i.length;a<u;a++,o++)r[o]=i[a];return r}},,,function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return u}));var r=n(0),o=Object.setPrototypeOf,i=void 0===o?function(t,e){return t.__proto__=e,t}:o,a=function(t){function e(n){void 0===n&&(n="Invariant Violation");var r=t.call(this,"number"==typeof n?"Invariant Violation: "+n+" (see https://github.com/apollographql/invariant-packages)":n)||this;return r.framesToPop=1,r.name="Invariant Violation",i(r,e.prototype),r}return Object(r.c)(e,t),e}(Error);function u(t,e){if(!t)throw new a(e)}function s(t){return function(){return console[t].apply(console,arguments)}}!function(t){t.warn=s("warn"),t.error=s("error")}(u||(u={}));var c={env:{}};if("object"==typeof t)c=t;else try{Function("stub","process = stub")(c)}catch(t){}}).call(this,n(22))},function(t,e,n){"use strict";function r(t,e,n,r,o,i,a,u){var s,c="function"==typeof t?t.options:t;if(e&&(c.render=e,c.staticRenderFns=n,c._compiled=!0),r&&(c.functional=!0),i&&(c._scopeId="data-v-"+i),a?(s=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),o&&o.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},c._ssrRegister=s):o&&(s=u?function(){o.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:o),s)if(c.functional){c._injectStyles=s;var l=c.render;c.render=function(t,e){return s.call(e),l(t,e)}}else{var f=c.beforeCreate;c.beforeCreate=f?[].concat(f,s):[s]}return{exports:t,options:c}}n.d(e,"a",(function(){return r}))},,,,,,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(35)),o=i(n(30));function i(t){return t&&t.__esModule?t:{default:t}}
/**
 * 2007-2020 PrestaShop and Contributors
 *
 * NOTICE OF LICENSE
 *
 * This source file is subject to the Academic Free License 3.0 (AFL-3.0)
 * that is bundled with this package in the file LICENSE.txt.
 * It is also available through the world-wide-web at this URL:
 * https://opensource.org/licenses/AFL-3.0
 * If you did not receive a copy of the license and are unable to
 * obtain it through the world-wide-web, please send an email
 * to license@prestashop.com so we can send you a copy immediately.
 *
 * @author    PrestaShop SA <contact@prestashop.com>
 * @copyright 2007-2020 PrestaShop SA and Contributors
 * @license   https://opensource.org/licenses/AFL-3.0 Academic Free License 3.0 (AFL-3.0)
 * International Registered Trademark & Property of PrestaShop SA
 */var a=new r.default;window.WishlistEventBus=a,o.default.emit("wishlistEventBusInit"),e.default=a},,function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},,function(t,e,n){t.exports=n(31)},function(t,e,n){"use strict";e.__esModule=!0;var r,o=n(33),i=(r=o)&&r.__esModule?r:{default:r};e.default=function(t){return function(){var e=t.apply(this,arguments);return new i.default((function(t,n){return function r(o,a){try{var u=e[o](a),s=u.value}catch(t){return void n(t)}if(!u.done)return i.default.resolve(s).then((function(t){r("next",t)}),(function(t){r("throw",t)}));t(s)}("next")}))}}},function(t,e,n){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=function(t,e){var n=t[1]||"",r=t[3];if(!r)return n;if(e&&"function"==typeof btoa){var o=(a=r,u=btoa(unescape(encodeURIComponent(JSON.stringify(a)))),s="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(u),"/*# ".concat(s," */")),i=r.sources.map((function(t){return"/*# sourceURL=".concat(r.sourceRoot||"").concat(t," */")}));return[n].concat(i).concat([o]).join("\n")}var a,u,s;return[n].join("\n")}(e,t);return e[2]?"@media ".concat(e[2]," {").concat(n,"}"):n})).join("")},e.i=function(t,n,r){"string"==typeof t&&(t=[[null,t,""]]);var o={};if(r)for(var i=0;i<this.length;i++){var a=this[i][0];null!=a&&(o[a]=!0)}for(var u=0;u<t.length;u++){var s=[].concat(t[u]);r&&o[s[0]]||(n&&(s[2]?s[2]="".concat(n," and ").concat(s[2]):s[2]=n),e.push(s))}},e}},function(t,e,n){"use strict";function r(t,e){for(var n=[],r={},o=0;o<e.length;o++){var i=e[o],a=i[0],u={id:t+":"+o,css:i[1],media:i[2],sourceMap:i[3]};r[a]?r[a].parts.push(u):n.push(r[a]={id:a,parts:[u]})}return n}n.r(e),n.d(e,"default",(function(){return p}));var o="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!o)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var i={},a=o&&(document.head||document.getElementsByTagName("head")[0]),u=null,s=0,c=!1,l=function(){},f=null,d="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function p(t,e,n,o){c=n,f=o||{};var a=r(t,e);return h(a),function(e){for(var n=[],o=0;o<a.length;o++){var u=a[o];(s=i[u.id]).refs--,n.push(s)}e?h(a=r(t,e)):a=[];for(o=0;o<n.length;o++){var s;if(0===(s=n[o]).refs){for(var c=0;c<s.parts.length;c++)s.parts[c]();delete i[s.id]}}}}function h(t){for(var e=0;e<t.length;e++){var n=t[e],r=i[n.id];if(r){r.refs++;for(var o=0;o<r.parts.length;o++)r.parts[o](n.parts[o]);for(;o<n.parts.length;o++)r.parts.push(y(n.parts[o]));r.parts.length>n.parts.length&&(r.parts.length=n.parts.length)}else{var a=[];for(o=0;o<n.parts.length;o++)a.push(y(n.parts[o]));i[n.id]={id:n.id,refs:1,parts:a}}}}function v(){var t=document.createElement("style");return t.type="text/css",a.appendChild(t),t}function y(t){var e,n,r=document.querySelector('style[data-vue-ssr-id~="'+t.id+'"]');if(r){if(c)return l;r.parentNode.removeChild(r)}if(d){var o=s++;r=u||(u=v()),e=b.bind(null,r,o,!1),n=b.bind(null,r,o,!0)}else r=v(),e=w.bind(null,r),n=function(){r.parentNode.removeChild(r)};return e(t),function(r){if(r){if(r.css===t.css&&r.media===t.media&&r.sourceMap===t.sourceMap)return;e(t=r)}else n()}}var m,g=(m=[],function(t,e){return m[t]=e,m.filter(Boolean).join("\n")});function b(t,e,n,r){var o=n?"":r.css;if(t.styleSheet)t.styleSheet.cssText=g(e,o);else{var i=document.createTextNode(o),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(i,a[e]):t.appendChild(i)}}function w(t,e){var n=e.css,r=e.media,o=e.sourceMap;if(r&&t.setAttribute("media",r),f.ssrId&&t.setAttribute("data-vue-ssr-id",e.id),o&&(n+="\n/*# sourceURL="+o.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */"),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}},,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=u(n(42));e.default=function(t,e,n){o.default.use(i.default);var u=new i.default({defaultClient:a.default}),s=document.querySelectorAll(e),c=o.default.extend(t),l={};s.forEach((function(t){var e=!0,o=!1,i=void 0;try{for(var a,s=(0,r.default)(n);!(e=(a=s.next()).done);e=!0){var f=a.value;t.dataset[f.name]&&(f.type===Number?l[f.name]=parseInt(t.dataset[f.name],10):f.type===Boolean?l[f.name]="true"===t.dataset[f.name]:l[f.name]=t.dataset[f.name])}}catch(t){o=!0,i=t}finally{try{!e&&s.return&&s.return()}finally{if(o)throw i}}new c({el:t,delimiters:["((","))"],apolloProvider:u,propsData:l})}))}
/**
   * 2007-2020 PrestaShop and Contributors
   *
   * NOTICE OF LICENSE
   *
   * This source file is subject to the Academic Free License 3.0 (AFL-3.0)
   * that is bundled with this package in the file LICENSE.txt.
   * It is also available through the world-wide-web at this URL:
   * https://opensource.org/licenses/AFL-3.0
   * If you did not receive a copy of the license and are unable to
   * obtain it through the world-wide-web, please send an email
   * to license@prestashop.com so we can send you a copy immediately.
   *
   * @author    PrestaShop SA <contact@prestashop.com>
   * @copyright 2007-2020 PrestaShop SA and Contributors
   * @license   https://opensource.org/licenses/AFL-3.0 Academic Free License 3.0 (AFL-3.0)
   * International Registered Trademark & Property of PrestaShop SA
   */;var o=u(n(35)),i=u(n(91)),a=u(n(44));function u(t){return t&&t.__esModule?t:{default:t}}},function(t,e,n){"use strict";var r=n(27),o=n.n(r).a;e.a=o},function(t,e,n){"use strict";e.__esModule=!0;var r=i(n(56)),o=i(n(57));function i(t){return t&&t.__esModule?t:{default:t}}e.default=function(t,e){return(0,o.default)((0,r.default)(t,{raw:{value:(0,o.default)(e)}}))}},function(t,e){var n,r,o=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function u(t){if(n===setTimeout)return setTimeout(t,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(t){n=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var s,c=[],l=!1,f=-1;function d(){l&&s&&(l=!1,s.length?c=s.concat(c):f=-1,c.length&&p())}function p(){if(!l){var t=u(d);l=!0;for(var e=c.length;e;){for(s=c,c=[];++f<e;)s&&s[f].run();f=-1,e=c.length}s=null,l=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function h(t,e){this.fun=t,this.array=e}function v(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new h(t,e)),1!==c.length||l||u(p)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=v,o.addListener=v,o.once=v,o.off=v,o.removeListener=v,o.removeAllListeners=v,o.emit=v,o.prependListener=v,o.prependOnceListener=v,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},,function(t,e){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var r=new Uint8Array(16);t.exports=function(){return n(r),r}}else{var o=new Array(16);t.exports=function(){for(var t,e=0;e<16;e++)0==(3&e)&&(t=4294967296*Math.random()),o[e]=t>>>((3&e)<<3)&255;return o}}},function(t,e){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);t.exports=function(t,e){var r=e||0,o=n;return[o[t[r++]],o[t[r++]],o[t[r++]],o[t[r++]],"-",o[t[r++]],o[t[r++]],"-",o[t[r++]],o[t[r++]],"-",o[t[r++]],o[t[r++]],"-",o[t[r++]],o[t[r++]],o[t[r++]],o[t[r++]],o[t[r++]],o[t[r++]]].join("")}},function(t,e,n){"use strict";function r(t){var e,n=t.Symbol;return"function"==typeof n?n.observable?e=n.observable:(e=n("observable"),n.observable=e):e="@@observable",e}n.d(e,"a",(function(){return r}))},function(t,e,n){t.exports=n(46).Observable},,function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=Object.prototype,o=r.toString,i=r.hasOwnProperty,a=new Map;function u(t,e){try{return function t(e,n){if(e===n)return!0;var r=o.call(e),a=o.call(n);if(r!==a)return!1;switch(r){case"[object Array]":if(e.length!==n.length)return!1;case"[object Object]":if(s(e,n))return!0;var u=Object.keys(e),c=Object.keys(n),l=u.length;if(l!==c.length)return!1;for(var f=0;f<l;++f)if(!i.call(n,u[f]))return!1;for(f=0;f<l;++f){var d=u[f];if(!t(e[d],n[d]))return!1}return!0;case"[object Error]":return e.name===n.name&&e.message===n.message;case"[object Number]":if(e!=e)return n!=n;case"[object Boolean]":case"[object Date]":return+e==+n;case"[object RegExp]":case"[object String]":return e==""+n;case"[object Map]":case"[object Set]":if(e.size!==n.size)return!1;if(s(e,n))return!0;for(var p=e.entries(),h="[object Map]"===r;;){var v=p.next();if(v.done)break;var y=v.value,m=y[0],g=y[1];if(!n.has(m))return!1;if(h&&!t(g,n.get(m)))return!1}return!0}return!1}(t,e)}finally{a.clear()}}function s(t,e){var n=a.get(t);if(n){if(n.has(e))return!0}else a.set(t,n=new Set);return n.add(e),!1}},function(t,e){t.exports=window.prestashop},function(t,e,n){var r=function(){return this}()||Function("return this")(),o=r.regeneratorRuntime&&Object.getOwnPropertyNames(r).indexOf("regeneratorRuntime")>=0,i=o&&r.regeneratorRuntime;if(r.regeneratorRuntime=void 0,t.exports=n(32),o)r.regeneratorRuntime=i;else try{delete r.regeneratorRuntime}catch(t){r.regeneratorRuntime=void 0}},function(t,e){!function(e){"use strict";var n=Object.prototype,r=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag",s="object"==typeof t,c=e.regeneratorRuntime;if(c)s&&(t.exports=c);else{(c=e.regeneratorRuntime=s?t.exports:{}).wrap=v;var l={},f={};f[i]=function(){return this};var d=Object.getPrototypeOf,p=d&&d(d(k([])));p&&p!==n&&r.call(p,i)&&(f=p);var h=b.prototype=m.prototype=Object.create(f);g.prototype=h.constructor=b,b.constructor=g,b[u]=g.displayName="GeneratorFunction",c.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},c.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u in t||(t[u]="GeneratorFunction")),t.prototype=Object.create(h),t},c.awrap=function(t){return{__await:t}},w(_.prototype),_.prototype[a]=function(){return this},c.AsyncIterator=_,c.async=function(t,e,n,r){var o=new _(v(t,e,n,r));return c.isGeneratorFunction(e)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},w(h),h[u]="Generator",h[i]=function(){return this},h.toString=function(){return"[object Generator]"},c.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},c.values=k,j.prototype={constructor:j,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(u&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),S(n),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;S(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:k(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}}}function v(t,e,n,r){var o=e&&e.prototype instanceof m?e:m,i=Object.create(o.prototype),a=new j(r||[]);return i._invoke=function(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return T()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var u=x(a,n);if(u){if(u===l)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=y(t,e,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(t,n,a),i}function y(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}function m(){}function g(){}function b(){}function w(t){["next","throw","return"].forEach((function(e){t[e]=function(t){return this._invoke(e,t)}}))}function _(t){var e;this._invoke=function(n,o){function i(){return new Promise((function(e,i){!function e(n,o,i,a){var u=y(t[n],t,o);if("throw"!==u.type){var s=u.arg,c=s.value;return c&&"object"==typeof c&&r.call(c,"__await")?Promise.resolve(c.__await).then((function(t){e("next",t,i,a)}),(function(t){e("throw",t,i,a)})):Promise.resolve(c).then((function(t){s.value=t,i(s)}),a)}a(u.arg)}(n,o,e,i)}))}return e=e?e.then(i,i):i()}}function x(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,x(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=y(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,l;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function j(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function k(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:T}}function T(){return{value:void 0,done:!0}}}(function(){return this}()||Function("return this")())},function(t,e,n){t.exports={default:n(82),__esModule:!0}},,,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default={addToCart:{Accept:"application/json, text/javascript"},products:{"Content-Type":"application/json",Accept:"application/json, text/javascript, */*; q=0.01"}}},function(t,e,n){"use strict";n.r(e);var r=n(38),o=n.n(r);for(var i in r)["default"].indexOf(i)<0&&function(t){n.d(e,t,(function(){return r[t]}))}(i);e.default=o.a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o=s(n(14)),i=s(n(15)),a=s(n(134)),u=s(n(10));function s(t){return t&&t.__esModule?t:{default:t}}e.default={name:"Create",props:{url:{type:String,required:!0,default:"#"},title:{type:String,required:!0,default:"New wishlist"},label:{type:String,required:!0,default:"Wishlist name"},placeholder:{type:String,required:!0,default:"Add name"},cancelText:{type:String,required:!0,default:"Cancel"},lengthText:{type:String,required:!0,default:"List title is too short"},createText:{type:String,required:!0,default:"Create"}},data:function(){return{value:"",isHidden:!0}},methods:{toggleModal:function(){this.isHidden=!this.isHidden},createWishlist:(r=(0,i.default)(o.default.mark((function t(){var e,n;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(this.value.replace(/ /g,"")<1)){t.next=4;break}return u.default.$emit("showToast",{detail:{type:"error",message:this.lengthText}}),t.abrupt("return",!1);case 4:return t.next=6,this.$apollo.mutate({mutation:a.default,variables:{name:this.value,url:this.url}});case 6:return e=t.sent,n=e.data,u.default.$emit("showToast",{detail:{type:n.createList.success?"success":"error",message:n.createList.message}}),u.default.$emit("refetchList"),this.toggleModal(),u.default.$emit("showAddToWishList",{detail:{forceOpen:!0}}),t.abrupt("return",!0);case 13:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})},mounted:function(){var t=this;u.default.$on("showCreateWishlist",(function(){t.value="",t.toggleModal()}))}}},,,function(t,e,n){"use strict";n.d(e,"a",(function(){return T})),n.d(e,"b",(function(){return C}));var r=null,o={},i=1,a=Array,u=a["@wry/context:Slot"]||function(){var t=function(){function t(){this.id=["slot",i++,Date.now(),Math.random().toString(36).slice(2)].join(":")}return t.prototype.hasValue=function(){for(var t=r;t;t=t.parent)if(this.id in t.slots){var e=t.slots[this.id];if(e===o)break;return t!==r&&(r.slots[this.id]=e),!0}return r&&(r.slots[this.id]=o),!1},t.prototype.getValue=function(){if(this.hasValue())return r.slots[this.id]},t.prototype.withValue=function(t,e,n,o){var i,a=((i={__proto__:null})[this.id]=t,i),u=r;r={parent:u,slots:a};try{return e.apply(o,n)}finally{r=u}},t.bind=function(t){var e=r;return function(){var n=r;try{return r=e,t.apply(this,arguments)}finally{r=n}}},t.noContext=function(t,e,n){if(!r)return t.apply(n,e);var o=r;try{return r=null,t.apply(n,e)}finally{r=o}},t}();try{Object.defineProperty(a,"@wry/context:Slot",{value:a["@wry/context:Slot"]=t,enumerable:!1,writable:!1,configurable:!1})}finally{return t}}();u.bind,u.noContext;function s(){}var c=function(){function t(t,e){void 0===t&&(t=1/0),void 0===e&&(e=s),this.max=t,this.dispose=e,this.map=new Map,this.newest=null,this.oldest=null}return t.prototype.has=function(t){return this.map.has(t)},t.prototype.get=function(t){var e=this.getEntry(t);return e&&e.value},t.prototype.getEntry=function(t){var e=this.map.get(t);if(e&&e!==this.newest){var n=e.older,r=e.newer;r&&(r.older=n),n&&(n.newer=r),e.older=this.newest,e.older.newer=e,e.newer=null,this.newest=e,e===this.oldest&&(this.oldest=r)}return e},t.prototype.set=function(t,e){var n=this.getEntry(t);return n?n.value=e:(n={key:t,value:e,newer:null,older:this.newest},this.newest&&(this.newest.newer=n),this.newest=n,this.oldest=this.oldest||n,this.map.set(t,n),n.value)},t.prototype.clean=function(){for(;this.oldest&&this.map.size>this.max;)this.delete(this.oldest.key)},t.prototype.delete=function(t){var e=this.map.get(t);return!!e&&(e===this.newest&&(this.newest=e.older),e===this.oldest&&(this.oldest=e.newer),e.newer&&(e.newer.older=e.older),e.older&&(e.older.newer=e.newer),this.map.delete(t),this.dispose(e.value,t),!0)},t}(),l=new u,f=[],d=[];function p(t,e){if(!t)throw new Error(e||"assertion failure")}function h(t){switch(t.length){case 0:throw new Error("unknown value");case 1:return t[0];case 2:throw t[1]}}var v=function(){function t(e,n){this.fn=e,this.args=n,this.parents=new Set,this.childValues=new Map,this.dirtyChildren=null,this.dirty=!0,this.recomputing=!1,this.value=[],++t.count}return t.prototype.recompute=function(){if(p(!this.recomputing,"already recomputing"),function(t){var e=l.getValue();if(e)return t.parents.add(e),e.childValues.has(t)||e.childValues.set(t,[]),m(t)?w(e,t):_(e,t),e}(this)||!O(this))return m(this)?function(t){var e=S(t);l.withValue(t,y,[t]),function(t){if("function"==typeof t.subscribe)try{k(t),t.unsubscribe=t.subscribe.apply(null,t.args)}catch(e){return t.setDirty(),!1}return!0}(t)&&function(t){if(t.dirty=!1,m(t))return;b(t)}(t);return e.forEach(O),h(t.value)}(this):h(this.value)},t.prototype.setDirty=function(){this.dirty||(this.dirty=!0,this.value.length=0,g(this),k(this))},t.prototype.dispose=function(){var t=this;S(this).forEach(O),k(this),this.parents.forEach((function(e){e.setDirty(),j(e,t)}))},t.count=0,t}();function y(t){t.recomputing=!0,t.value.length=0;try{t.value[0]=t.fn.apply(null,t.args)}catch(e){t.value[1]=e}t.recomputing=!1}function m(t){return t.dirty||!(!t.dirtyChildren||!t.dirtyChildren.size)}function g(t){t.parents.forEach((function(e){return w(e,t)}))}function b(t){t.parents.forEach((function(e){return _(e,t)}))}function w(t,e){if(p(t.childValues.has(e)),p(m(e)),t.dirtyChildren){if(t.dirtyChildren.has(e))return}else t.dirtyChildren=d.pop()||new Set;t.dirtyChildren.add(e),g(t)}function _(t,e){p(t.childValues.has(e)),p(!m(e));var n,r,o,i=t.childValues.get(e);0===i.length?t.childValues.set(e,e.value.slice(0)):(n=i,r=e.value,(o=n.length)>0&&o===r.length&&n[o-1]===r[o-1]||t.setDirty()),x(t,e),m(t)||b(t)}function x(t,e){var n=t.dirtyChildren;n&&(n.delete(e),0===n.size&&(d.length<100&&d.push(n),t.dirtyChildren=null))}function O(t){return 0===t.parents.size&&"function"==typeof t.reportOrphan&&!0===t.reportOrphan()}function S(t){var e=f;return t.childValues.size>0&&(e=[],t.childValues.forEach((function(n,r){j(t,r),e.push(r)}))),p(null===t.dirtyChildren),e}function j(t,e){e.parents.delete(t),t.childValues.delete(e),x(t,e)}function k(t){var e=t.unsubscribe;"function"==typeof e&&(t.unsubscribe=void 0,e())}var T=function(){function t(t){this.weakness=t}return t.prototype.lookup=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this.lookupArray(t)},t.prototype.lookupArray=function(t){var e=this;return t.forEach((function(t){return e=e.getChildTrie(t)})),e.data||(e.data=Object.create(null))},t.prototype.getChildTrie=function(e){var n=this.weakness&&function(t){switch(typeof t){case"object":if(null===t)break;case"function":return!0}return!1}(e)?this.weak||(this.weak=new WeakMap):this.strong||(this.strong=new Map),r=n.get(e);return r||n.set(e,r=new t(this.weakness)),r},t}();var E=new T("function"==typeof WeakMap);function I(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return E.lookupArray(t)}var L=new Set;function C(t,e){void 0===e&&(e=Object.create(null));var n=new c(e.max||Math.pow(2,16),(function(t){return t.dispose()})),r=!!e.disposable,o=e.makeCacheKey||I;function i(){if(!r||l.hasValue()){var i=o.apply(null,arguments);if(void 0===i)return t.apply(null,arguments);var a=Array.prototype.slice.call(arguments),u=n.get(i);u?u.args=a:(u=new v(t,a),n.set(i,u),u.subscribe=e.subscribe,r&&(u.reportOrphan=function(){return n.delete(i)}));var s=u.recompute();return n.set(i,u),L.add(n),l.hasValue()||(L.forEach((function(t){return t.clean()})),L.clear()),r?void 0:s}}return i.dirty=function(){var t=o.apply(null,arguments),e=void 0!==t&&n.get(t);e&&e.setDirty()},i}},function(t,e,n){t.exports={default:n(88),__esModule:!0}},function(t,e,n){(function(t,e){!function(t,n){"use strict";if(!t.setImmediate){var r,o,i,a,u,s=1,c={},l=!1,f=t.document,d=Object.getPrototypeOf&&Object.getPrototypeOf(t);d=d&&d.setTimeout?d:t,"[object process]"==={}.toString.call(t.process)?r=function(t){e.nextTick((function(){h(t)}))}:!function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?t.MessageChannel?((i=new MessageChannel).port1.onmessage=function(t){h(t.data)},r=function(t){i.port2.postMessage(t)}):f&&"onreadystatechange"in f.createElement("script")?(o=f.documentElement,r=function(t){var e=f.createElement("script");e.onreadystatechange=function(){h(t),e.onreadystatechange=null,o.removeChild(e),e=null},o.appendChild(e)}):r=function(t){setTimeout(h,0,t)}:(a="setImmediate$"+Math.random()+"$",u=function(e){e.source===t&&"string"==typeof e.data&&0===e.data.indexOf(a)&&h(+e.data.slice(a.length))},t.addEventListener?t.addEventListener("message",u,!1):t.attachEvent("onmessage",u),r=function(e){t.postMessage(a+e,"*")}),d.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var o={callback:t,args:e};return c[s]=o,r(s),s++},d.clearImmediate=p}function p(t){delete c[t]}function h(t){if(l)setTimeout(h,0,t);else{var e=c[t];if(e){l=!0;try{!function(t){var e=t.callback,n=t.args;switch(n.length){case 0:e();break;case 1:e(n[0]);break;case 2:e(n[0],n[1]);break;case 3:e(n[0],n[1],n[2]);break;default:e.apply(void 0,n)}}(e)}finally{p(t),l=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,n(12),n(22))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o=n(92),i=n(93),a=n(96),u=n(51),s=(r=u)&&r.__esModule?r:{default:r};
/**
 * 2007-2020 PrestaShop and Contributors
 *
 * NOTICE OF LICENSE
 *
 * This source file is subject to the Academic Free License 3.0 (AFL-3.0)
 * that is bundled with this package in the file LICENSE.txt.
 * It is also available through the world-wide-web at this URL:
 * https://opensource.org/licenses/AFL-3.0
 * If you did not receive a copy of the license and are unable to
 * obtain it through the world-wide-web, please send an email
 * to license@prestashop.com so we can send you a copy immediately.
 *
 * @author    PrestaShop SA <contact@prestashop.com>
 * @copyright 2007-2020 PrestaShop SA and Contributors
 * @license   https://opensource.org/licenses/AFL-3.0 Academic Free License 3.0 (AFL-3.0)
 * International Registered Trademark & Property of PrestaShop SA
 */
var c=new a.InMemoryCache;e.default=new o.ApolloClient({link:new i.SchemaLink({schema:s.default}),cache:c})},function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t}Object.defineProperty(e,"__esModule",{value:!0}),e.Observable=void 0;var a=function(){return"function"==typeof Symbol},u=function(t){return a()&&Boolean(Symbol[t])},s=function(t){return u(t)?Symbol[t]:"@@"+t};a()&&!u("observable")&&(Symbol.observable=Symbol("observable"));var c=s("iterator"),l=s("observable"),f=s("species");function d(t,e){var n=t[e];if(null!=n){if("function"!=typeof n)throw new TypeError(n+" is not a function");return n}}function p(t){var e=t.constructor;return void 0!==e&&null===(e=e[f])&&(e=void 0),void 0!==e?e:O}function h(t){return t instanceof O}function v(t){v.log?v.log(t):setTimeout((function(){throw t}))}function y(t){Promise.resolve().then((function(){try{t()}catch(t){v(t)}}))}function m(t){var e=t._cleanup;if(void 0!==e&&(t._cleanup=void 0,e))try{if("function"==typeof e)e();else{var n=d(e,"unsubscribe");n&&n.call(e)}}catch(t){v(t)}}function g(t){t._observer=void 0,t._queue=void 0,t._state="closed"}function b(t,e,n){t._state="running";var r=t._observer;try{var o=d(r,e);switch(e){case"next":o&&o.call(r,n);break;case"error":if(g(t),!o)throw n;o.call(r,n);break;case"complete":g(t),o&&o.call(r)}}catch(t){v(t)}"closed"===t._state?m(t):"running"===t._state&&(t._state="ready")}function w(t,e,n){if("closed"!==t._state){if("buffering"!==t._state)return"ready"!==t._state?(t._state="buffering",t._queue=[{type:e,value:n}],void y((function(){return function(t){var e=t._queue;if(e){t._queue=void 0,t._state="ready";for(var n=0;n<e.length&&(b(t,e[n].type,e[n].value),"closed"!==t._state);++n);}}(t)}))):void b(t,e,n);t._queue.push({type:e,value:n})}}var _=function(){function t(e,n){r(this,t),this._cleanup=void 0,this._observer=e,this._queue=void 0,this._state="initializing";var o=new x(this);try{this._cleanup=n.call(void 0,o)}catch(t){o.error(t)}"initializing"===this._state&&(this._state="ready")}return i(t,[{key:"unsubscribe",value:function(){"closed"!==this._state&&(g(this),m(this))}},{key:"closed",get:function(){return"closed"===this._state}}]),t}(),x=function(){function t(e){r(this,t),this._subscription=e}return i(t,[{key:"next",value:function(t){w(this._subscription,"next",t)}},{key:"error",value:function(t){w(this._subscription,"error",t)}},{key:"complete",value:function(){w(this._subscription,"complete")}},{key:"closed",get:function(){return"closed"===this._subscription._state}}]),t}(),O=function(){function t(e){if(r(this,t),!(this instanceof t))throw new TypeError("Observable cannot be called as a function");if("function"!=typeof e)throw new TypeError("Observable initializer must be a function");this._subscriber=e}return i(t,[{key:"subscribe",value:function(t){return"object"==typeof t&&null!==t||(t={next:t,error:arguments[1],complete:arguments[2]}),new _(t,this._subscriber)}},{key:"forEach",value:function(t){var e=this;return new Promise((function(n,r){if("function"==typeof t)var o=e.subscribe({next:function(e){try{t(e,i)}catch(t){r(t),o.unsubscribe()}},error:r,complete:n});else r(new TypeError(t+" is not a function"));function i(){o.unsubscribe(),n()}}))}},{key:"map",value:function(t){var e=this;if("function"!=typeof t)throw new TypeError(t+" is not a function");return new(p(this))((function(n){return e.subscribe({next:function(e){try{e=t(e)}catch(t){return n.error(t)}n.next(e)},error:function(t){n.error(t)},complete:function(){n.complete()}})}))}},{key:"filter",value:function(t){var e=this;if("function"!=typeof t)throw new TypeError(t+" is not a function");return new(p(this))((function(n){return e.subscribe({next:function(e){try{if(!t(e))return}catch(t){return n.error(t)}n.next(e)},error:function(t){n.error(t)},complete:function(){n.complete()}})}))}},{key:"reduce",value:function(t){var e=this;if("function"!=typeof t)throw new TypeError(t+" is not a function");var n=p(this),r=arguments.length>1,o=!1,i=arguments[1],a=i;return new n((function(n){return e.subscribe({next:function(e){var i=!o;if(o=!0,!i||r)try{a=t(a,e)}catch(t){return n.error(t)}else a=e},error:function(t){n.error(t)},complete:function(){if(!o&&!r)return n.error(new TypeError("Cannot reduce an empty sequence"));n.next(a),n.complete()}})}))}},{key:"concat",value:function(){for(var t=this,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var o=p(this);return new o((function(e){var r,i=0;return function t(a){r=a.subscribe({next:function(t){e.next(t)},error:function(t){e.error(t)},complete:function(){i===n.length?(r=void 0,e.complete()):t(o.from(n[i++]))}})}(t),function(){r&&(r.unsubscribe(),r=void 0)}}))}},{key:"flatMap",value:function(t){var e=this;if("function"!=typeof t)throw new TypeError(t+" is not a function");var n=p(this);return new n((function(r){var o=[],i=e.subscribe({next:function(e){if(t)try{e=t(e)}catch(t){return r.error(t)}var i=n.from(e).subscribe({next:function(t){r.next(t)},error:function(t){r.error(t)},complete:function(){var t=o.indexOf(i);t>=0&&o.splice(t,1),a()}});o.push(i)},error:function(t){r.error(t)},complete:function(){a()}});function a(){i.closed&&0===o.length&&r.complete()}return function(){o.forEach((function(t){return t.unsubscribe()})),i.unsubscribe()}}))}},{key:l,value:function(){return this}}],[{key:"from",value:function(e){var n="function"==typeof this?this:t;if(null==e)throw new TypeError(e+" is not an object");var r=d(e,l);if(r){var o=r.call(e);if(Object(o)!==o)throw new TypeError(o+" is not an object");return h(o)&&o.constructor===n?o:new n((function(t){return o.subscribe(t)}))}if(u("iterator")&&(r=d(e,c)))return new n((function(t){y((function(){if(!t.closed){var n=!0,o=!1,i=void 0;try{for(var a,u=r.call(e)[Symbol.iterator]();!(n=(a=u.next()).done);n=!0){var s=a.value;if(t.next(s),t.closed)return}}catch(t){o=!0,i=t}finally{try{n||null==u.return||u.return()}finally{if(o)throw i}}t.complete()}}))}));if(Array.isArray(e))return new n((function(t){y((function(){if(!t.closed){for(var n=0;n<e.length;++n)if(t.next(e[n]),t.closed)return;t.complete()}}))}));throw new TypeError(e+" is not observable")}},{key:"of",value:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var o="function"==typeof this?this:t;return new o((function(t){y((function(){if(!t.closed){for(var e=0;e<n.length;++e)if(t.next(n[e]),t.closed)return;t.complete()}}))}))}},{key:f,get:function(){return this}}]),t}();e.Observable=O,a()&&Object.defineProperty(O,Symbol("extensions"),{value:{symbol:l,hostReportError:v},configurable:!0})},function(t,e,n){"use strict";n.r(e),n.d(e,"$$iterator",(function(){return i})),n.d(e,"isIterable",(function(){return a})),n.d(e,"isArrayLike",(function(){return u})),n.d(e,"isCollection",(function(){return s})),n.d(e,"getIterator",(function(){return c})),n.d(e,"getIteratorMethod",(function(){return l})),n.d(e,"createIterator",(function(){return f})),n.d(e,"forEach",(function(){return p})),n.d(e,"$$asyncIterator",(function(){return v})),n.d(e,"isAsyncIterable",(function(){return y})),n.d(e,"getAsyncIterator",(function(){return m})),n.d(e,"getAsyncIteratorMethod",(function(){return g})),n.d(e,"createAsyncIterator",(function(){return b})),n.d(e,"forAwaitEach",(function(){return x}));var r="function"==typeof Symbol?Symbol:void 0,o=r&&r.iterator,i=o||"@@iterator";function a(t){return!!l(t)}function u(t){var e=null!=t&&t.length;return"number"==typeof e&&e>=0&&e%1==0}function s(t){return Object(t)===t&&(u(t)||a(t))}function c(t){var e=l(t);if(e)return e.call(t)}function l(t){if(null!=t){var e=o&&t[o]||t["@@iterator"];if("function"==typeof e)return e}}function f(t){if(null!=t){var e=c(t);if(e)return e;if(u(t))return new d(t)}}function d(t){this._o=t,this._i=0}function p(t,e,n){if(null!=t){if("function"==typeof t.forEach)return t.forEach(e,n);var r=0,o=c(t);if(o){for(var i;!(i=o.next()).done;)if(e.call(n,i.value,r++,t),r>9999999)throw new TypeError("Near-infinite iteration.")}else if(u(t))for(;r<t.length;r++)t.hasOwnProperty(r)&&e.call(n,t[r],r,t)}}d.prototype[i]=function(){return this},d.prototype.next=function(){return void 0===this._o||this._i>=this._o.length?(this._o=void 0,{value:void 0,done:!0}):{value:this._o[this._i++],done:!1}};var h=r&&r.asyncIterator,v=h||"@@asyncIterator";function y(t){return!!g(t)}function m(t){var e=g(t);if(e)return e.call(t)}function g(t){if(null!=t){var e=h&&t[h]||t["@@asyncIterator"];if("function"==typeof e)return e}}function b(t){if(null!=t){var e=m(t);if(e)return e;var n=f(t);if(n)return new w(n)}}function w(t){this._i=t}function _(t,e,n){var r;return new Promise((function(o){o((r=t[e](n)).value)})).then((function(t){return{value:t,done:r.done}}))}function x(t,e,n){var r=b(t);if(r){var o=0;return new Promise((function(i,a){!function u(){return r.next().then((function(r){return r.done?i():Promise.resolve(e.call(n,r.value,o++,t)).then(u).catch(a),null})).catch(a),null}()}))}}w.prototype[v]=function(){return this},w.prototype.next=function(t){return _(this._i,"next",t)},w.prototype.return=function(t){return this._i.return?_(this._i,"return",t):Promise.resolve({value:t,done:!0})},w.prototype.throw=function(t){return this._i.throw?_(this._i,"throw",t):Promise.reject(t)}},,,,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(97),o=a(n(54)),i=a(n(55));function a(t){return t&&t.__esModule?t:{default:t}}e.default=(0,r.makeExecutableSchema)({typeDefs:i.default,resolvers:o.default})},function(t,e,n){var r,o,i=n(24),a=n(25),u=0,s=0;t.exports=function(t,e,n){var c=e&&n||0,l=e||[],f=(t=t||{}).node||r,d=void 0!==t.clockseq?t.clockseq:o;if(null==f||null==d){var p=i();null==f&&(f=r=[1|p[0],p[1],p[2],p[3],p[4],p[5]]),null==d&&(d=o=16383&(p[6]<<8|p[7]))}var h=void 0!==t.msecs?t.msecs:(new Date).getTime(),v=void 0!==t.nsecs?t.nsecs:s+1,y=h-u+(v-s)/1e4;if(y<0&&void 0===t.clockseq&&(d=d+1&16383),(y<0||h>u)&&void 0===t.nsecs&&(v=0),v>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");u=h,s=v,o=d;var m=(1e4*(268435455&(h+=122192928e5))+v)%4294967296;l[c++]=m>>>24&255,l[c++]=m>>>16&255,l[c++]=m>>>8&255,l[c++]=255&m;var g=h/4294967296*1e4&268435455;l[c++]=g>>>8&255,l[c++]=255&g,l[c++]=g>>>24&15|16,l[c++]=g>>>16&255,l[c++]=d>>>8|128,l[c++]=255&d;for(var b=0;b<6;++b)l[c+b]=f[b];return e||a(l)}},function(t,e,n){var r=n(24),o=n(25);t.exports=function(t,e,n){var i=e&&n||0;"string"==typeof t&&(e="binary"===t?new Array(16):null,t=null);var a=(t=t||{}).random||(t.rng||r)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,e)for(var u=0;u<16;++u)e[i+u]=a[u];return e||o(a)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o,i,a,u,s,c,l=y(n(14)),f=y(n(15)),d=y(n(10)),p=y(n(36)),h=n(100),v=y(h);function y(t){return t&&t.__esModule?t:{default:t}}e.default={JSON:v.default,JSONObject:h.GraphQLJSONObject,Query:{products:(c=(0,f.default)(l.default.mark((function t(e,n){var r,o,i=n.url;return l.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(i+"&from-xhr",{headers:p.default.products});case 2:return r=t.sent,t.next=5,r.json();case 5:return o=t.sent,d.default.$emit("paginate",{detail:{total:o.pagination.total_items,minShown:o.pagination.items_shown_from,maxShown:o.pagination.items_shown_to,pageNumber:o.pagination.pages_count,pages:o.pagination.pages,display:o.pagination.should_be_displayed,currentPage:o.pagination.current_page}}),window.history.pushState(o,document.title,o.current_url),window.scrollTo(0,0),t.abrupt("return",{datas:{products:o.products,pagination:o.pagination,current_url:o.current_url,sort_orders:o.sort_orders,sort_selected:o.sort_selected}});case 10:case"end":return t.stop()}}),t,void 0)}))),function(t,e){return c.apply(this,arguments)}),lists:(s=(0,f.default)(l.default.mark((function t(e,n){var r,o,i=n.url;return l.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(i);case 2:return r=t.sent,t.next=5,r.json();case 5:return o=t.sent,t.abrupt("return",o.wishlists);case 7:case"end":return t.stop()}}),t,void 0)}))),function(t,e){return s.apply(this,arguments)})},Mutation:{createList:(u=(0,f.default)(l.default.mark((function t(e,n){var r,o,i,a=n.name,u=n.url;return l.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=encodeURIComponent(a),t.next=3,fetch(u+"&params[name]="+r,{method:"POST"});case 3:return o=t.sent,t.next=6,o.json();case 6:return i=t.sent,t.abrupt("return",i);case 8:case"end":return t.stop()}}),t,void 0)}))),function(t,e){return u.apply(this,arguments)}),renameList:(a=(0,f.default)(l.default.mark((function t(e,n){var r,o,i=n.name,a=n.listId,u=n.url;return l.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(u+"&params[name]="+i+"&params[idWishList]="+a,{method:"POST"});case 2:return r=t.sent,t.next=5,r.json();case 5:return o=t.sent,t.abrupt("return",o);case 7:case"end":return t.stop()}}),t,void 0)}))),function(t,e){return a.apply(this,arguments)}),addToList:(i=(0,f.default)(l.default.mark((function t(e,n){var r,o,i=n.listId,a=n.url,u=n.productId,s=n.quantity,c=n.productAttributeId;return l.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(a+"&params[id_product]="+u+"&params[idWishList]="+i+"&params[quantity]="+s+"&params[id_product_attribute]="+c,{method:"POST"});case 2:return r=t.sent,t.next=5,r.json();case 5:return(o=t.sent).success&&productsAlreadyTagged.push({id_product:u.toString(),id_wishlist:i.toString(),quantity:s.toString(),id_product_attribute:c.toString()}),t.abrupt("return",o);case 8:case"end":return t.stop()}}),t,void 0)}))),function(t,e){return i.apply(this,arguments)}),removeFromList:(o=(0,f.default)(l.default.mark((function t(e,n){var r,o,i=n.listId,a=n.productId,u=n.url,s=n.productAttributeId;return l.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(u+"&params[id_product]="+a+"&params[idWishList]="+i+"&params[id_product_attribute]="+s,{method:"POST"});case 2:return r=t.sent,t.next=5,r.json();case 5:return(o=t.sent).success&&(productsAlreadyTagged=productsAlreadyTagged.filter((function(t){return t.id_product!==a.toString()||t.id_product_attribute!==s.toString()&&t.id_product===a.toString()||t.id_wishlist!==i.toString()}))),t.abrupt("return",o);case 8:case"end":return t.stop()}}),t,void 0)}))),function(t,e){return o.apply(this,arguments)}),deleteList:(r=(0,f.default)(l.default.mark((function t(e,n){var r,o,i=n.listId,a=n.url;return l.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(a+"&params[idWishList]="+i,{method:"POST"});case 2:return r=t.sent,t.next=5,r.json();case 5:return o=t.sent,t.abrupt("return",o);case 7:case"end":return t.stop()}}),t,void 0)}))),function(t,e){return r.apply(this,arguments)})}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),
/**
 * 2007-2020 PrestaShop and Contributors
 *
 * NOTICE OF LICENSE
 *
 * This source file is subject to the Academic Free License 3.0 (AFL-3.0)
 * that is bundled with this package in the file LICENSE.txt.
 * It is also available through the world-wide-web at this URL:
 * https://opensource.org/licenses/AFL-3.0
 * If you did not receive a copy of the license and are unable to
 * obtain it through the world-wide-web, please send an email
 * to license@prestashop.com so we can send you a copy immediately.
 *
 * @author    PrestaShop SA <contact@prestashop.com>
 * @copyright 2007-2020 PrestaShop SA and Contributors
 * @license   https://opensource.org/licenses/AFL-3.0 Academic Free License 3.0 (AFL-3.0)
 * International Registered Trademark & Property of PrestaShop SA
 */
e.default="\n  scalar JSON\n  scalar JSONObject\n\n  type List {\n    id_wishlist: Int\n    name: String\n    listUrl: String\n    shareUrl: String\n    default: Int\n    nbProducts: Int\n  }\n\n  type ShareUrl {\n    url: String\n  }\n\n  type CreateResponse {\n    datas: List\n    success: Boolean!\n    message: String!\n  }\n\n  type ProductListResponse {\n    datas: JSONObject\n  }\n\n  type Response {\n    success: Boolean!\n    message: String!\n  }\n\n  type Query {\n    products(listId: Int!, url: String!): ProductListResponse\n    lists(url: String!): [List]\n  }\n\n  type Mutation {\n    createList(name: String!, url: String!): CreateResponse\n    shareList(listId: String!, userId: Int!): ShareUrl\n    renameList(name: String!, url: String!, listId: Int!): Response\n    addToList(listId: Int!, productId: Int!, quantity: Int!, productAttributeId: Int!, url: String!): Response\n    removeFromList(listId: Int!, productId: Int!, productAttributeId: Int!, url: String!): Response\n    deleteList(listId: Int!, url: String!): Response\n  }\n"},function(t,e,n){t.exports={default:n(102),__esModule:!0}},function(t,e,n){t.exports={default:n(103),__esModule:!0}},,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){var r=n(136);r.__esModule&&(r=r.default),"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);(0,n(17).default)("79d679a6",r,!1,{})},,function(t,e,n){"use strict";(function(t,r){var o,i=n(26);o="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==t?t:r;var a=Object(i.a)(o);e.a=a}).call(this,n(12),n(45)(t))},function(t,e,n){"use strict";t.exports=function(t,e){e||(e={}),"function"==typeof e&&(e={cmp:e});var n,r="boolean"==typeof e.cycles&&e.cycles,o=e.cmp&&(n=e.cmp,function(t){return function(e,r){var o={key:e,value:t[e]},i={key:r,value:t[r]};return n(o,i)}}),i=[];return function t(e){if(e&&e.toJSON&&"function"==typeof e.toJSON&&(e=e.toJSON()),void 0!==e){if("number"==typeof e)return isFinite(e)?""+e:"null";if("object"!=typeof e)return JSON.stringify(e);var n,a;if(Array.isArray(e)){for(a="[",n=0;n<e.length;n++)n&&(a+=","),a+=t(e[n])||"null";return a+"]"}if(null===e)return"null";if(-1!==i.indexOf(e)){if(r)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var u=i.push(e)-1,s=Object.keys(e).sort(o&&o(e));for(a="",n=0;n<s.length;n++){var c=s[n],l=t(e[c]);l&&(a&&(a+=","),a+=JSON.stringify(c)+":"+l)}return i.splice(u,1),"{"+a+"}"}}(t)}},function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n(1);function o(t){return{kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GeneratedClientQuery"},selectionSet:i(t)}]}}function i(t){if("number"==typeof t||"boolean"==typeof t||"string"==typeof t||null==t)return null;if(Array.isArray(t))return i(t[0]);var e=[];return Object.keys(t).forEach((function(n){var r={kind:"Field",name:{kind:"Name",value:n},selectionSet:i(t[n])||void 0};e.push(r)})),{kind:"SelectionSet",selections:e}}var a,u={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:null,variableDefinitions:null,directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:null,name:{kind:"Name",value:"__typename"},arguments:[],directives:[],selectionSet:null}]}}]},s=function(){function t(){}return t.prototype.transformDocument=function(t){return t},t.prototype.transformForLink=function(t){return t},t.prototype.readQuery=function(t,e){return void 0===e&&(e=!1),this.read({query:t.query,variables:t.variables,optimistic:e})},t.prototype.readFragment=function(t,e){return void 0===e&&(e=!1),this.read({query:Object(r.k)(t.fragment,t.fragmentName),variables:t.variables,rootId:t.id,optimistic:e})},t.prototype.writeQuery=function(t){this.write({dataId:"ROOT_QUERY",result:t.data,query:t.query,variables:t.variables})},t.prototype.writeFragment=function(t){this.write({dataId:t.id,result:t.data,variables:t.variables,query:Object(r.k)(t.fragment,t.fragmentName)})},t.prototype.writeData=function(t){var e,n,r=t.id,a=t.data;if(void 0!==r){var s=null;try{s=this.read({rootId:r,optimistic:!1,query:u})}catch(t){}var c=s&&s.__typename||"__ClientData",l=Object.assign({__typename:c},a);this.writeFragment({id:r,fragment:(e=l,n=c,{kind:"Document",definitions:[{kind:"FragmentDefinition",typeCondition:{kind:"NamedType",name:{kind:"Name",value:n||"__FakeType"}},name:{kind:"Name",value:"GeneratedClientQuery"},selectionSet:i(e)}]}),data:l})}else this.writeQuery({query:o(a),data:a})},t}();a||(a={})},,,function(t,e,n){(function(t){var r=void 0!==t&&t||"undefined"!=typeof self&&self||window,o=Function.prototype.apply;function i(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new i(o.call(setTimeout,r,arguments),clearTimeout)},e.setInterval=function(){return new i(o.call(setInterval,r,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(r,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),e))},n(43),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,n(12))},,,,,,,,function(t,e,n){"use strict";function r(t,e,n,r,o){var i={};return function(){var a=(((new Error).stack||"").match(/(?:\s+at\s.+){2}\s+at\s(.+)/)||[void 0,""])[1];if(!((a=/\)$/.test(a)?a.match(/[^(]+(?=\)$)/)[0]:a.trim())in i)){var u;switch(i[a]=!0,t){case"class":u="Class";break;case"property":u="Property";break;case"method":u="Method";break;case"function":u="Function"}u+=" `"+e+"` has been deprecated",r&&(u+=" since version "+r),n&&(u+=", use `"+n+"` instead"),u+=".",a&&(u+="\n    at "+a),o&&(u+="\nCheck out "+o+" for more information."),console.warn(u)}}}function o(t,n,o,i,a,u){var s=(e.options.getWarner||r)(t,n,i,a,u),c={enumerable:(o=o||{writable:!0,enumerable:!1,configurable:!0}).enumerable,configurable:o.configurable};if(o.get||o.set)o.get&&(c.get=function(){return s(),o.get.call(this)}),o.set&&(c.set=function(t){return s(),o.set.call(this,t)});else{var l=o.value;c.get=function(){return s(),l},o.writable&&(c.set=function(t){s(),l=t})}return c}function i(t,n,o,i,a){for(var u=n.name,s=(e.options.getWarner||r)(t,u,o,i,a),c=function(){return s(),n.apply(this,arguments)},l=0,f=Object.getOwnPropertyNames(n);l<f.length;l++){var d=f[l],p=Object.getOwnPropertyDescriptor(n,d);p.writable?c[d]=n[d]:p.configurable&&Object.defineProperty(c,d,p)}return c}function a(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var n=t[t.length-1];n="function"==typeof n?t.pop():void 0;var r,a,u,s=t[0];return"string"==typeof s?(r=s,a=t[1],u=t[2]):s&&(r=s.alternative,a=s.version,u=s.url),n?i("function",n,r,a,u):function(t,e,n){if("string"==typeof e)return o(n&&"function"==typeof n.value?"method":"property",e,n,r,a,u);if("function"==typeof t){for(var s=i("class",t,r,a,u),c=t.name,l=0,f=Object.getOwnPropertyNames(s);l<f.length;l++){var d=f[l],p=Object.getOwnPropertyDescriptor(s,d);(p=o("class",c,p,r,a,u)).writable?s[d]=t[d]:p.configurable&&Object.defineProperty(s,d,p)}return s}}}e.options={getWarner:void 0},e.deprecated=a,Object.defineProperty(e,"__esModule",{value:!0}),e.default=a},function(t,e,n){var r=n(52),o=n(53),i=o;i.v1=r,i.v4=o,t.exports=i},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";var r=i(n(19)),o=i(n(133));function i(t){return t&&t.__esModule?t:{default:t}}
/**
 * 2007-2020 PrestaShop and Contributors
 *
 * NOTICE OF LICENSE
 *
 * This source file is subject to the Academic Free License 3.0 (AFL-3.0)
 * that is bundled with this package in the file LICENSE.txt.
 * It is also available through the world-wide-web at this URL:
 * https://opensource.org/licenses/AFL-3.0
 * If you did not receive a copy of the license and are unable to
 * obtain it through the world-wide-web, please send an email
 * to license@prestashop.com so we can send you a copy immediately.
 *
 * @author    PrestaShop SA <contact@prestashop.com>
 * @copyright 2007-2020 PrestaShop SA and Contributors
 * @license   https://opensource.org/licenses/AFL-3.0 Academic Free License 3.0 (AFL-3.0)
 * International Registered Trademark & Property of PrestaShop SA
 */var a=[{name:"url",type:String},{name:"title",type:String},{name:"label",type:String},{name:"productId",type:Number},{name:"placeholder",type:String},{name:"cancelText",type:String},{name:"lengthText",type:String},{name:"createText",type:String}];(0,r.default)(o.default,".wishlist-create",a)},function(t,e,n){"use strict";n.r(e);var r=n(37);for(var o in r)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return r[t]}))}(o);n(135);var i=n(4),a=Object(i.a)(r.default,void 0,void 0,!1,null,null,null);a.options.__file="_dev/front/js/components/Create/Create.vue",e.default=a.exports},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=(0,i(n(21)).default)(["\n  mutation createList($name: String!, $url: String!) {\n    createList(name: $name, url: $url) {\n      message\n      datas {\n        name\n        id_wishlist\n      }\n      success\n    }\n  }\n"],["\n  mutation createList($name: String!, $url: String!) {\n    createList(name: $name, url: $url) {\n      message\n      datas {\n        name\n        id_wishlist\n      }\n      success\n    }\n  }\n"]),o=i(n(23));function i(t){return t&&t.__esModule?t:{default:t}}e.default=(0,o.default)(r)},function(t,e,n){"use strict";n(83)},function(t,e,n){(e=n(16)(!1)).push([t.i,".wishlist-create .wishlist-modal{opacity:0;pointer-events:none;z-index:0}.wishlist-create .wishlist-modal.show{opacity:1;pointer-events:all;z-index:1053}\n",""]),t.exports=e}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9bbmFtZV0vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vW25hbWVdLy4vbm9kZV9tb2R1bGVzL3RzbGliL3RzbGliLmVzNi5qcyIsIndlYnBhY2s6Ly9bbmFtZV0vLi9ub2RlX21vZHVsZXMvdHMtaW52YXJpYW50L2xpYi9pbnZhcmlhbnQuZXNtLmpzIiwid2VicGFjazovL1tuYW1lXS8uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9ydW50aW1lL2NvbXBvbmVudE5vcm1hbGl6ZXIuanMiLCJ3ZWJwYWNrOi8vW25hbWVdLy4vX2Rldi9mcm9udC9qcy9jb21wb25lbnRzL0V2ZW50QnVzL2luZGV4LmpzIiwid2VicGFjazovL1tuYW1lXS8od2VicGFjaykvYnVpbGRpbi9nbG9iYWwuanMiLCJ3ZWJwYWNrOi8vW25hbWVdLy4vbm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvcmVnZW5lcmF0b3IvaW5kZXguanMiLCJ3ZWJwYWNrOi8vW25hbWVdLy4vbm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvaGVscGVycy9hc3luY1RvR2VuZXJhdG9yLmpzIiwid2VicGFjazovL1tuYW1lXS8uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanMiLCJ3ZWJwYWNrOi8vW25hbWVdLy4vbm9kZV9tb2R1bGVzL3Z1ZS1zdHlsZS1sb2FkZXIvbGliL2xpc3RUb1N0eWxlcy5qcyIsIndlYnBhY2s6Ly9bbmFtZV0vLi9ub2RlX21vZHVsZXMvdnVlLXN0eWxlLWxvYWRlci9saWIvYWRkU3R5bGVzQ2xpZW50LmpzIiwid2VicGFjazovL1tuYW1lXS8uL19kZXYvZnJvbnQvanMvY29tcG9uZW50cy9pbml0LmpzIiwid2VicGFjazovL1tuYW1lXS8uL25vZGVfbW9kdWxlcy96ZW4tb2JzZXJ2YWJsZS10cy9saWIvYnVuZGxlLmVzbS5qcyIsIndlYnBhY2s6Ly9bbmFtZV0vLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9oZWxwZXJzL3RhZ2dlZFRlbXBsYXRlTGl0ZXJhbC5qcyIsIndlYnBhY2s6Ly9bbmFtZV0vLi9ub2RlX21vZHVsZXMvcHJvY2Vzcy9icm93c2VyLmpzIiwid2VicGFjazovL1tuYW1lXS8uL25vZGVfbW9kdWxlcy91dWlkL2xpYi9ybmctYnJvd3Nlci5qcyIsIndlYnBhY2s6Ly9bbmFtZV0vLi9ub2RlX21vZHVsZXMvdXVpZC9saWIvYnl0ZXNUb1V1aWQuanMiLCJ3ZWJwYWNrOi8vW25hbWVdLy4vbm9kZV9tb2R1bGVzL3N5bWJvbC1vYnNlcnZhYmxlL2VzL3BvbnlmaWxsLmpzIiwid2VicGFjazovL1tuYW1lXS8uL25vZGVfbW9kdWxlcy96ZW4tb2JzZXJ2YWJsZS9pbmRleC5qcyIsIndlYnBhY2s6Ly9bbmFtZV0vLi9ub2RlX21vZHVsZXMvQHdyeS9lcXVhbGl0eS9saWIvZXF1YWxpdHkuZXNtLmpzIiwid2VicGFjazovL1tuYW1lXS9leHRlcm5hbCBcInByZXN0YXNob3BcIiIsIndlYnBhY2s6Ly9bbmFtZV0vLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9ub2RlX21vZHVsZXMvcmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLW1vZHVsZS5qcyIsIndlYnBhY2s6Ly9bbmFtZV0vLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9ub2RlX21vZHVsZXMvcmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIiwid2VicGFjazovL1tuYW1lXS8uL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2NvcmUtanMvcHJvbWlzZS5qcyIsIndlYnBhY2s6Ly9bbmFtZV0vLi9fZGV2L2Zyb250L2pzL2NvbnN0YW50cy9oZWFkZXJzLmpzIiwid2VicGFjazovL1tuYW1lXS8uL19kZXYvZnJvbnQvanMvY29tcG9uZW50cy9DcmVhdGUvQ3JlYXRlLnZ1ZT8wNmI5Iiwid2VicGFjazovL1tuYW1lXS9fZGV2L2Zyb250L2pzL2NvbXBvbmVudHMvQ3JlYXRlL0NyZWF0ZS52dWUiLCJ3ZWJwYWNrOi8vW25hbWVdLy4vbm9kZV9tb2R1bGVzL0B3cnkvY29udGV4dC9saWIvY29udGV4dC5lc20uanMiLCJ3ZWJwYWNrOi8vW25hbWVdLy4vbm9kZV9tb2R1bGVzL29wdGltaXNtL2xpYi9idW5kbGUuZXNtLmpzIiwid2VicGFjazovL1tuYW1lXS8uL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2NvcmUtanMvZ2V0LWl0ZXJhdG9yLmpzIiwid2VicGFjazovL1tuYW1lXS8uL25vZGVfbW9kdWxlcy9zZXRpbW1lZGlhdGUvc2V0SW1tZWRpYXRlLmpzIiwid2VicGFjazovL1tuYW1lXS8uL19kZXYvZnJvbnQvanMvZ3JhcGhxbC9jbGllbnQuanMiLCJ3ZWJwYWNrOi8vW25hbWVdLyh3ZWJwYWNrKS9idWlsZGluL2hhcm1vbnktbW9kdWxlLmpzIiwid2VicGFjazovL1tuYW1lXS8uL25vZGVfbW9kdWxlcy96ZW4tb2JzZXJ2YWJsZS9saWIvT2JzZXJ2YWJsZS5qcyIsIndlYnBhY2s6Ly9bbmFtZV0vLi9ub2RlX21vZHVsZXMvaXRlcmFsbC9pbmRleC5tanMiLCJ3ZWJwYWNrOi8vW25hbWVdLy4vX2Rldi9mcm9udC9qcy9ncmFwaHFsL2xpbmsuanMiLCJ3ZWJwYWNrOi8vW25hbWVdLy4vbm9kZV9tb2R1bGVzL3V1aWQvdjEuanMiLCJ3ZWJwYWNrOi8vW25hbWVdLy4vbm9kZV9tb2R1bGVzL3V1aWQvdjQuanMiLCJ3ZWJwYWNrOi8vW25hbWVdLy4vX2Rldi9mcm9udC9qcy9ncmFwaHFsL3Jlc29sdmVycy5qcyIsIndlYnBhY2s6Ly9bbmFtZV0vLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9kZWZpbmUtcHJvcGVydGllcy5qcyIsIndlYnBhY2s6Ly9bbmFtZV0vLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9mcmVlemUuanMiLCJ3ZWJwYWNrOi8vW25hbWVdLy4vX2Rldi9mcm9udC9qcy9jb21wb25lbnRzL0NyZWF0ZS9DcmVhdGUudnVlP2ZiNTMiLCJ3ZWJwYWNrOi8vW25hbWVdLy4vbm9kZV9tb2R1bGVzL3N5bWJvbC1vYnNlcnZhYmxlL2VzL2luZGV4LmpzIiwid2VicGFjazovL1tuYW1lXS8uL25vZGVfbW9kdWxlcy9mYXN0LWpzb24tc3RhYmxlLXN0cmluZ2lmeS9pbmRleC5qcyIsIndlYnBhY2s6Ly9bbmFtZV0vLi9ub2RlX21vZHVsZXMvYXBvbGxvLWNhY2hlL2xpYi9idW5kbGUuZXNtLmpzIiwid2VicGFjazovL1tuYW1lXS8uL25vZGVfbW9kdWxlcy90aW1lcnMtYnJvd3NlcmlmeS9tYWluLmpzIiwid2VicGFjazovL1tuYW1lXS8uL25vZGVfbW9kdWxlcy9kZXByZWNhdGVkLWRlY29yYXRvci9ibGQvaW5kZXguanMiLCJ3ZWJwYWNrOi8vW25hbWVdLy4vbm9kZV9tb2R1bGVzL3V1aWQvaW5kZXguanMiLCJ3ZWJwYWNrOi8vW25hbWVdLy4vX2Rldi9mcm9udC9qcy9jb21wb25lbnRzL0NyZWF0ZS9pbmRleC5qcyIsIndlYnBhY2s6Ly9bbmFtZV0vLi9fZGV2L2Zyb250L2pzL2NvbXBvbmVudHMvQ3JlYXRlL0NyZWF0ZS52dWUiLCJ3ZWJwYWNrOi8vW25hbWVdLy4vX2Rldi9mcm9udC9qcy9ncmFwaHFsL211dGF0aW9ucy9jcmVhdGVsaXN0LmpzIiwid2VicGFjazovL1tuYW1lXS8uL19kZXYvZnJvbnQvanMvY29tcG9uZW50cy9DcmVhdGUvQ3JlYXRlLnZ1ZT9lNDg0Iiwid2VicGFjazovL1tuYW1lXS8uL19kZXYvZnJvbnQvanMvY29tcG9uZW50cy9DcmVhdGUvQ3JlYXRlLnZ1ZT81ODk0Il0sIm5hbWVzIjpbIndlYnBhY2tKc29ucENhbGxiYWNrIiwiZGF0YSIsIm1vZHVsZUlkIiwiY2h1bmtJZCIsImNodW5rSWRzIiwibW9yZU1vZHVsZXMiLCJleGVjdXRlTW9kdWxlcyIsImkiLCJyZXNvbHZlcyIsImxlbmd0aCIsIk9iamVjdCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImluc3RhbGxlZENodW5rcyIsInB1c2giLCJtb2R1bGVzIiwicGFyZW50SnNvbnBGdW5jdGlvbiIsInNoaWZ0IiwiZGVmZXJyZWRNb2R1bGVzIiwiYXBwbHkiLCJjaGVja0RlZmVycmVkTW9kdWxlcyIsInJlc3VsdCIsImRlZmVycmVkTW9kdWxlIiwiZnVsZmlsbGVkIiwiaiIsImRlcElkIiwic3BsaWNlIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsInMiLCJpbnN0YWxsZWRNb2R1bGVzIiwiNSIsImV4cG9ydHMiLCJtb2R1bGUiLCJsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInAiLCJqc29ucEFycmF5Iiwid2luZG93Iiwib2xkSnNvbnBGdW5jdGlvbiIsInNsaWNlIiwiZXh0ZW5kU3RhdGljcyIsImIiLCJzZXRQcm90b3R5cGVPZiIsIl9fcHJvdG9fXyIsIkFycmF5IiwiX19leHRlbmRzIiwiX18iLCJ0aGlzIiwiY29uc3RydWN0b3IiLCJfX2Fzc2lnbiIsImFzc2lnbiIsImFyZ3VtZW50cyIsIl9fYXdhaXRlciIsInRoaXNBcmciLCJfYXJndW1lbnRzIiwiUCIsImdlbmVyYXRvciIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0Iiwic3RlcCIsIm5leHQiLCJlIiwicmVqZWN0ZWQiLCJkb25lIiwidGhlbiIsIl9fZ2VuZXJhdG9yIiwiYm9keSIsImYiLCJ5IiwiZyIsIl8iLCJsYWJlbCIsInNlbnQiLCJ0cnlzIiwib3BzIiwidmVyYiIsIml0ZXJhdG9yIiwidiIsIm9wIiwiVHlwZUVycm9yIiwicG9wIiwiX19zcHJlYWRBcnJheXMiLCJpbCIsImsiLCJhIiwiamwiLCJfYSIsIm9iaiIsInByb3RvIiwiSW52YXJpYW50RXJyb3IiLCJfc3VwZXIiLCJtZXNzYWdlIiwiX3RoaXMiLCJnZW5lcmljTWVzc2FnZSIsImZyYW1lc1RvUG9wIiwiRXJyb3IiLCJpbnZhcmlhbnQiLCJjb25kaXRpb24iLCJ3cmFwQ29uc29sZU1ldGhvZCIsIm1ldGhvZCIsImNvbnNvbGUiLCJ3YXJuIiwiZXJyb3IiLCJwcm9jZXNzU3R1YiIsImVudiIsInByb2Nlc3MiLCJGdW5jdGlvbiIsImF0TGVhc3RXZVRyaWVkIiwibm9ybWFsaXplQ29tcG9uZW50Iiwic2NyaXB0RXhwb3J0cyIsInJlbmRlciIsInN0YXRpY1JlbmRlckZucyIsImZ1bmN0aW9uYWxUZW1wbGF0ZSIsImluamVjdFN0eWxlcyIsInNjb3BlSWQiLCJtb2R1bGVJZGVudGlmaWVyIiwic2hhZG93TW9kZSIsImhvb2siLCJvcHRpb25zIiwiX2NvbXBpbGVkIiwiZnVuY3Rpb25hbCIsIl9zY29wZUlkIiwiY29udGV4dCIsIiR2bm9kZSIsInNzckNvbnRleHQiLCJwYXJlbnQiLCJfX1ZVRV9TU1JfQ09OVEVYVF9fIiwiX3JlZ2lzdGVyZWRDb21wb25lbnRzIiwiYWRkIiwiX3NzclJlZ2lzdGVyIiwiJHJvb3QiLCIkb3B0aW9ucyIsInNoYWRvd1Jvb3QiLCJfaW5qZWN0U3R5bGVzIiwib3JpZ2luYWxSZW5kZXIiLCJoIiwiZXhpc3RpbmciLCJiZWZvcmVDcmVhdGUiLCJjb25jYXQiLCJFdmVudEJ1cyIsIlZ1ZSIsIldpc2hsaXN0RXZlbnRCdXMiLCJwcmVzdGFzaG9wIiwiZW1pdCIsIl9wcm9taXNlIiwiX3Byb21pc2UyIiwiZGVmYXVsdCIsImZuIiwiZ2VuIiwiYXJnIiwiaW5mbyIsImVyciIsInVzZVNvdXJjZU1hcCIsImxpc3QiLCJ0b1N0cmluZyIsIm1hcCIsIml0ZW0iLCJjb250ZW50IiwiY3NzTWFwcGluZyIsImJ0b2EiLCJzb3VyY2VNYXBwaW5nIiwic291cmNlTWFwIiwiYmFzZTY0IiwidW5lc2NhcGUiLCJlbmNvZGVVUklDb21wb25lbnQiLCJKU09OIiwic3RyaW5naWZ5Iiwic291cmNlVVJMcyIsInNvdXJjZXMiLCJzb3VyY2UiLCJzb3VyY2VSb290Iiwiam9pbiIsImNzc1dpdGhNYXBwaW5nVG9TdHJpbmciLCJtZWRpYVF1ZXJ5IiwiZGVkdXBlIiwiYWxyZWFkeUltcG9ydGVkTW9kdWxlcyIsImlkIiwiX2kiLCJsaXN0VG9TdHlsZXMiLCJwYXJlbnRJZCIsInN0eWxlcyIsIm5ld1N0eWxlcyIsInBhcnQiLCJjc3MiLCJtZWRpYSIsInBhcnRzIiwiaGFzRG9jdW1lbnQiLCJkb2N1bWVudCIsIkRFQlVHIiwic3R5bGVzSW5Eb20iLCJoZWFkIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJzaW5nbGV0b25FbGVtZW50Iiwic2luZ2xldG9uQ291bnRlciIsImlzUHJvZHVjdGlvbiIsIm5vb3AiLCJpc09sZElFIiwibmF2aWdhdG9yIiwidGVzdCIsInVzZXJBZ2VudCIsInRvTG93ZXJDYXNlIiwiYWRkU3R5bGVzQ2xpZW50IiwiX2lzUHJvZHVjdGlvbiIsIl9vcHRpb25zIiwiYWRkU3R5bGVzVG9Eb20iLCJuZXdMaXN0IiwibWF5UmVtb3ZlIiwiZG9tU3R5bGUiLCJyZWZzIiwiYWRkU3R5bGUiLCJjcmVhdGVTdHlsZUVsZW1lbnQiLCJzdHlsZUVsZW1lbnQiLCJjcmVhdGVFbGVtZW50IiwidHlwZSIsImFwcGVuZENoaWxkIiwidXBkYXRlIiwicmVtb3ZlIiwicXVlcnlTZWxlY3RvciIsInBhcmVudE5vZGUiLCJyZW1vdmVDaGlsZCIsInN0eWxlSW5kZXgiLCJhcHBseVRvU2luZ2xldG9uVGFnIiwiYXBwbHlUb1RhZyIsIm5ld09iaiIsInRleHRTdG9yZSIsInJlcGxhY2VUZXh0IiwiaW5kZXgiLCJyZXBsYWNlbWVudCIsImZpbHRlciIsIkJvb2xlYW4iLCJzdHlsZVNoZWV0IiwiY3NzVGV4dCIsImNzc05vZGUiLCJjcmVhdGVUZXh0Tm9kZSIsImNoaWxkTm9kZXMiLCJpbnNlcnRCZWZvcmUiLCJzZXRBdHRyaWJ1dGUiLCJzc3JJZCIsImZpcnN0Q2hpbGQiLCJjb21wb25lbnQiLCJjb21wb25lbnRTZWxlY3RvciIsInByb3BzIiwidXNlIiwiVnVlQXBvbGxvIiwiYXBvbGxvUHJvdmlkZXIiLCJkZWZhdWx0Q2xpZW50IiwiYXBvbGxvQ2xpZW50IiwiY29tcG9uZW50RWxlbWVudHMiLCJxdWVyeVNlbGVjdG9yQWxsIiwiQ29tcG9uZW50Um9vdCIsImV4dGVuZCIsInByb3BzRGF0YSIsImZvckVhY2giLCJwcm9wIiwiZGF0YXNldCIsIk51bWJlciIsInBhcnNlSW50IiwiZWwiLCJkZWxpbWl0ZXJzIiwiT2JzZXJ2YWJsZSIsIl9kZWZpbmVQcm9wZXJ0aWVzMiIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJfZnJlZXplMiIsInN0cmluZ3MiLCJyYXciLCJjYWNoZWRTZXRUaW1lb3V0IiwiY2FjaGVkQ2xlYXJUaW1lb3V0IiwiZGVmYXVsdFNldFRpbW91dCIsImRlZmF1bHRDbGVhclRpbWVvdXQiLCJydW5UaW1lb3V0IiwiZnVuIiwic2V0VGltZW91dCIsImNsZWFyVGltZW91dCIsImN1cnJlbnRRdWV1ZSIsInF1ZXVlIiwiZHJhaW5pbmciLCJxdWV1ZUluZGV4IiwiY2xlYW5VcE5leHRUaWNrIiwiZHJhaW5RdWV1ZSIsInRpbWVvdXQiLCJsZW4iLCJydW4iLCJtYXJrZXIiLCJydW5DbGVhclRpbWVvdXQiLCJJdGVtIiwiYXJyYXkiLCJuZXh0VGljayIsImFyZ3MiLCJ0aXRsZSIsImJyb3dzZXIiLCJhcmd2IiwidmVyc2lvbiIsInZlcnNpb25zIiwib24iLCJhZGRMaXN0ZW5lciIsIm9uY2UiLCJvZmYiLCJyZW1vdmVMaXN0ZW5lciIsInJlbW92ZUFsbExpc3RlbmVycyIsInByZXBlbmRMaXN0ZW5lciIsInByZXBlbmRPbmNlTGlzdGVuZXIiLCJsaXN0ZW5lcnMiLCJiaW5kaW5nIiwiY3dkIiwiY2hkaXIiLCJkaXIiLCJ1bWFzayIsImdldFJhbmRvbVZhbHVlcyIsImNyeXB0byIsIm1zQ3J5cHRvIiwicm5kczgiLCJVaW50OEFycmF5Iiwicm5kcyIsIk1hdGgiLCJyYW5kb20iLCJieXRlVG9IZXgiLCJzdWJzdHIiLCJidWYiLCJvZmZzZXQiLCJidGgiLCJzeW1ib2xPYnNlcnZhYmxlUG9ueWZpbGwiLCJyb290Iiwib2JzZXJ2YWJsZSIsInByZXZpb3VzQ29tcGFyaXNvbnMiLCJNYXAiLCJlcXVhbCIsImNoZWNrIiwiYVRhZyIsImJUYWciLCJwcmV2aW91c2x5Q29tcGFyZWQiLCJhS2V5cyIsImtleXMiLCJiS2V5cyIsImtleUNvdW50Iiwic2l6ZSIsImFJdGVyYXRvciIsImVudHJpZXMiLCJpc01hcCIsImFLZXkiLCJhVmFsdWUiLCJoYXMiLCJjbGVhciIsImJTZXQiLCJzZXQiLCJTZXQiLCJoYWRSdW50aW1lIiwicmVnZW5lcmF0b3JSdW50aW1lIiwiZ2V0T3duUHJvcGVydHlOYW1lcyIsImluZGV4T2YiLCJvbGRSdW50aW1lIiwidW5kZWZpbmVkIiwiZ2xvYmFsIiwiT3AiLCJoYXNPd24iLCIkU3ltYm9sIiwiaXRlcmF0b3JTeW1ib2wiLCJhc3luY0l0ZXJhdG9yU3ltYm9sIiwiYXN5bmNJdGVyYXRvciIsInRvU3RyaW5nVGFnU3ltYm9sIiwiaW5Nb2R1bGUiLCJydW50aW1lIiwid3JhcCIsIkNvbnRpbnVlU2VudGluZWwiLCJJdGVyYXRvclByb3RvdHlwZSIsImdldFByb3RvIiwiZ2V0UHJvdG90eXBlT2YiLCJOYXRpdmVJdGVyYXRvclByb3RvdHlwZSIsInZhbHVlcyIsIkdwIiwiR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUiLCJHZW5lcmF0b3IiLCJHZW5lcmF0b3JGdW5jdGlvbiIsImRpc3BsYXlOYW1lIiwiaXNHZW5lcmF0b3JGdW5jdGlvbiIsImdlbkZ1biIsImN0b3IiLCJtYXJrIiwiYXdyYXAiLCJfX2F3YWl0IiwiZGVmaW5lSXRlcmF0b3JNZXRob2RzIiwiQXN5bmNJdGVyYXRvciIsImFzeW5jIiwiaW5uZXJGbiIsIm91dGVyRm4iLCJzZWxmIiwidHJ5TG9jc0xpc3QiLCJpdGVyIiwicmV2ZXJzZSIsIkNvbnRleHQiLCJyZXNldCIsInNraXBUZW1wUmVzZXQiLCJwcmV2IiwiX3NlbnQiLCJkZWxlZ2F0ZSIsInRyeUVudHJpZXMiLCJyZXNldFRyeUVudHJ5IiwiY2hhckF0IiwiaXNOYU4iLCJzdG9wIiwicm9vdFJlY29yZCIsImNvbXBsZXRpb24iLCJydmFsIiwiZGlzcGF0Y2hFeGNlcHRpb24iLCJleGNlcHRpb24iLCJoYW5kbGUiLCJsb2MiLCJjYXVnaHQiLCJyZWNvcmQiLCJlbnRyeSIsInRyeUxvYyIsImhhc0NhdGNoIiwiaGFzRmluYWxseSIsImNhdGNoTG9jIiwiZmluYWxseUxvYyIsImFicnVwdCIsImZpbmFsbHlFbnRyeSIsImNvbXBsZXRlIiwiYWZ0ZXJMb2MiLCJmaW5pc2giLCJ0aHJvd24iLCJkZWxlZ2F0ZVlpZWxkIiwiaXRlcmFibGUiLCJyZXN1bHROYW1lIiwibmV4dExvYyIsInByb3RvR2VuZXJhdG9yIiwiX2ludm9rZSIsInN0YXRlIiwiZG9uZVJlc3VsdCIsImRlbGVnYXRlUmVzdWx0IiwibWF5YmVJbnZva2VEZWxlZ2F0ZSIsInRyeUNhdGNoIiwibWFrZUludm9rZU1ldGhvZCIsInByZXZpb3VzUHJvbWlzZSIsImNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnIiwiaW52b2tlIiwidW53cmFwcGVkIiwicmV0dXJuIiwicHVzaFRyeUVudHJ5IiwibG9jcyIsIml0ZXJhdG9yTWV0aG9kIiwiYWRkVG9DYXJ0IiwiQWNjZXB0IiwicHJvZHVjdHMiLCJjdXJyZW50Q29udGV4dCIsIk1JU1NJTkdfVkFMVUUiLCJpZENvdW50ZXIiLCJob3N0IiwiU2xvdCIsIkRhdGUiLCJub3ciLCJoYXNWYWx1ZSIsImNvbnRleHRfMSIsInNsb3RzIiwiZ2V0VmFsdWUiLCJ3aXRoVmFsdWUiLCJjYWxsYmFjayIsInNhdmVkIiwibm9Db250ZXh0Iiwid3JpdGFibGUiLCJjb25maWd1cmFibGUiLCJkZWZhdWx0RGlzcG9zZSIsIkNhY2hlIiwibWF4IiwiZGlzcG9zZSIsIkluZmluaXR5IiwibmV3ZXN0Iiwib2xkZXN0IiwiZ2V0RW50cnkiLCJvbGRlciIsIm5ld2VyIiwiY2xlYW4iLCJkZWxldGUiLCJwYXJlbnRFbnRyeVNsb3QiLCJyZXVzYWJsZUVtcHR5QXJyYXkiLCJlbXB0eVNldFBvb2wiLCJhc3NlcnQiLCJvcHRpb25hbE1lc3NhZ2UiLCJ2YWx1ZUdldCIsIkVudHJ5IiwicGFyZW50cyIsImNoaWxkVmFsdWVzIiwiZGlydHlDaGlsZHJlbiIsImRpcnR5IiwicmVjb21wdXRpbmciLCJjb3VudCIsInJlY29tcHV0ZSIsImNoaWxkIiwibWlnaHRCZURpcnR5IiwicmVwb3J0RGlydHlDaGlsZCIsInJlcG9ydENsZWFuQ2hpbGQiLCJyZW1lbWJlclBhcmVudCIsIm1heWJlUmVwb3J0T3JwaGFuIiwib3JpZ2luYWxDaGlsZHJlbiIsImZvcmdldENoaWxkcmVuIiwicmVjb21wdXRlTmV3VmFsdWUiLCJzdWJzY3JpYmUiLCJtYXliZVVuc3Vic2NyaWJlIiwidW5zdWJzY3JpYmUiLCJzZXREaXJ0eSIsIm1heWJlU3Vic2NyaWJlIiwicmVwb3J0Q2xlYW4iLCJzZXRDbGVhbiIsInJlYWxseVJlY29tcHV0ZSIsInJlcG9ydERpcnR5IiwiZm9yZ2V0Q2hpbGQiLCJjaGlsZFZhbHVlIiwicmVtb3ZlRGlydHlDaGlsZCIsImRjIiwicmVwb3J0T3JwaGFuIiwiY2hpbGRyZW4iLCJfdmFsdWUiLCJLZXlUcmllIiwid2Vha25lc3MiLCJsb29rdXAiLCJsb29rdXBBcnJheSIsIm5vZGUiLCJnZXRDaGlsZFRyaWUiLCJpc09ialJlZiIsIndlYWsiLCJXZWFrTWFwIiwic3Ryb25nIiwia2V5VHJpZSIsImRlZmF1bHRNYWtlQ2FjaGVLZXkiLCJjYWNoZXMiLCJvcmlnaW5hbEZ1bmN0aW9uIiwiY2FjaGUiLCJwb3ciLCJkaXNwb3NhYmxlIiwibWFrZUNhY2hlS2V5Iiwib3B0aW1pc3RpYyIsInNldEltbWVkaWF0ZSIsInJlZ2lzdGVySW1tZWRpYXRlIiwiaHRtbCIsImNoYW5uZWwiLCJtZXNzYWdlUHJlZml4Iiwib25HbG9iYWxNZXNzYWdlIiwibmV4dEhhbmRsZSIsInRhc2tzQnlIYW5kbGUiLCJjdXJyZW50bHlSdW5uaW5nQVRhc2siLCJkb2MiLCJhdHRhY2hUbyIsInJ1bklmUHJlc2VudCIsInBvc3RNZXNzYWdlIiwiaW1wb3J0U2NyaXB0cyIsInBvc3RNZXNzYWdlSXNBc3luY2hyb25vdXMiLCJvbGRPbk1lc3NhZ2UiLCJvbm1lc3NhZ2UiLCJjYW5Vc2VQb3N0TWVzc2FnZSIsIk1lc3NhZ2VDaGFubmVsIiwicG9ydDEiLCJldmVudCIsInBvcnQyIiwiZG9jdW1lbnRFbGVtZW50Iiwic2NyaXB0Iiwib25yZWFkeXN0YXRlY2hhbmdlIiwiYWRkRXZlbnRMaXN0ZW5lciIsImF0dGFjaEV2ZW50IiwidGFzayIsImNsZWFySW1tZWRpYXRlIiwiSW5NZW1vcnlDYWNoZSIsIkFwb2xsb0NsaWVudCIsImxpbmsiLCJTY2hlbWFMaW5rIiwic2NoZW1hIiwib3JpZ2luYWxNb2R1bGUiLCJ3ZWJwYWNrUG9seWZpbGwiLCJfY2xhc3NDYWxsQ2hlY2siLCJpbnN0YW5jZSIsIkNvbnN0cnVjdG9yIiwiX2RlZmluZVByb3BlcnRpZXMiLCJ0YXJnZXQiLCJkZXNjcmlwdG9yIiwiX2NyZWF0ZUNsYXNzIiwicHJvdG9Qcm9wcyIsInN0YXRpY1Byb3BzIiwiaGFzU3ltYm9scyIsImhhc1N5bWJvbCIsImdldFN5bWJvbCIsIlN5bWJvbEl0ZXJhdG9yIiwiU3ltYm9sT2JzZXJ2YWJsZSIsIlN5bWJvbFNwZWNpZXMiLCJnZXRNZXRob2QiLCJnZXRTcGVjaWVzIiwiaXNPYnNlcnZhYmxlIiwieCIsImhvc3RSZXBvcnRFcnJvciIsImxvZyIsImVucXVldWUiLCJjbGVhbnVwU3Vic2NyaXB0aW9uIiwic3Vic2NyaXB0aW9uIiwiY2xlYW51cCIsIl9jbGVhbnVwIiwiY2xvc2VTdWJzY3JpcHRpb24iLCJfb2JzZXJ2ZXIiLCJfcXVldWUiLCJfc3RhdGUiLCJub3RpZnlTdWJzY3JpcHRpb24iLCJvYnNlcnZlciIsIm9uTm90aWZ5IiwiZmx1c2hTdWJzY3JpcHRpb24iLCJTdWJzY3JpcHRpb24iLCJzdWJzY3JpYmVyIiwic3Vic2NyaXB0aW9uT2JzZXJ2ZXIiLCJTdWJzY3JpcHRpb25PYnNlcnZlciIsIl9zdWJzY3JpcHRpb24iLCJfc3Vic2NyaWJlciIsIl90aGlzMiIsIl90aGlzMyIsIl90aGlzNCIsIkMiLCJoYXNTZWVkIiwic2VlZCIsImFjYyIsImZpcnN0IiwiX3RoaXM1IiwiX2xlbiIsIl9rZXkiLCJzdGFydE5leHQiLCJmcm9tIiwiX3RoaXM2Iiwic3Vic2NyaXB0aW9ucyIsIm91dGVyIiwiaW5uZXIiLCJjb21wbGV0ZUlmRG9uZSIsImNsb3NlZCIsIl9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24iLCJfZGlkSXRlcmF0b3JFcnJvciIsIl9pdGVyYXRvckVycm9yIiwiX3N0ZXAiLCJfaXRlcmF0b3IiLCJfaXRlbSIsImlzQXJyYXkiLCJfbGVuMiIsIml0ZW1zIiwiX2tleTIiLCJzeW1ib2wiLCJTWU1CT0wiLCJTWU1CT0xfSVRFUkFUT1IiLCIkJGl0ZXJhdG9yIiwiaXNJdGVyYWJsZSIsImdldEl0ZXJhdG9yTWV0aG9kIiwiaXNBcnJheUxpa2UiLCJpc0NvbGxlY3Rpb24iLCJnZXRJdGVyYXRvciIsImNyZWF0ZUl0ZXJhdG9yIiwiY29sbGVjdGlvbiIsIkFycmF5TGlrZUl0ZXJhdG9yIiwiX28iLCJTWU1CT0xfQVNZTkNfSVRFUkFUT1IiLCIkJGFzeW5jSXRlcmF0b3IiLCJpc0FzeW5jSXRlcmFibGUiLCJnZXRBc3luY0l0ZXJhdG9yTWV0aG9kIiwiZ2V0QXN5bmNJdGVyYXRvciIsImFzeW5jSXRlcmFibGUiLCJjcmVhdGVBc3luY0l0ZXJhdG9yIiwiQXN5bmNGcm9tU3luY0l0ZXJhdG9yIiwidW53cmFwQXN5bmNGcm9tU3luYyIsImZvckF3YWl0RWFjaCIsImNhdGNoIiwidGhyb3ciLCJtYWtlRXhlY3V0YWJsZVNjaGVtYSIsInR5cGVEZWZzIiwicmVzb2x2ZXJzIiwiX25vZGVJZCIsIl9jbG9ja3NlcSIsInJuZyIsImJ5dGVzVG9VdWlkIiwiX2xhc3RNU2VjcyIsIl9sYXN0TlNlY3MiLCJjbG9ja3NlcSIsInNlZWRCeXRlcyIsIm1zZWNzIiwiZ2V0VGltZSIsIm5zZWNzIiwiZHQiLCJ0bCIsInRtaCIsImlpIiwiR3JhcGhRTEpTT04iLCJKU09OT2JqZWN0IiwiR3JhcGhRTEpTT05PYmplY3QiLCJRdWVyeSIsInVybCIsImZldGNoIiwiaGVhZGVycyIsInJlc3BvbnNlIiwianNvbiIsImRhdGFzIiwiJGVtaXQiLCJkZXRhaWwiLCJ0b3RhbCIsInBhZ2luYXRpb24iLCJ0b3RhbF9pdGVtcyIsIm1pblNob3duIiwiaXRlbXNfc2hvd25fZnJvbSIsIm1heFNob3duIiwiaXRlbXNfc2hvd25fdG8iLCJwYWdlTnVtYmVyIiwicGFnZXNfY291bnQiLCJwYWdlcyIsImRpc3BsYXkiLCJzaG91bGRfYmVfZGlzcGxheWVkIiwiY3VycmVudFBhZ2UiLCJjdXJyZW50X3BhZ2UiLCJoaXN0b3J5IiwicHVzaFN0YXRlIiwiY3VycmVudF91cmwiLCJzY3JvbGxUbyIsInNvcnRfb3JkZXJzIiwic29ydF9zZWxlY3RlZCIsImxpc3RzIiwid2lzaGxpc3RzIiwiTXV0YXRpb24iLCJjcmVhdGVMaXN0IiwibmFtZUVuY29kZWQiLCJyZW5hbWVMaXN0IiwibGlzdElkIiwiYWRkVG9MaXN0IiwicHJvZHVjdElkIiwicXVhbnRpdHkiLCJwcm9kdWN0QXR0cmlidXRlSWQiLCJzdWNjZXNzIiwicHJvZHVjdHNBbHJlYWR5VGFnZ2VkIiwiaWRfcHJvZHVjdCIsImlkX3dpc2hsaXN0IiwiaWRfcHJvZHVjdF9hdHRyaWJ1dGUiLCJyZW1vdmVGcm9tTGlzdCIsImRlbGV0ZUxpc3QiLCJsb2NhbHMiLCJvcHRzIiwiY21wIiwiY3ljbGVzIiwiYW9iaiIsImJvYmoiLCJzZWVuIiwidG9KU09OIiwiaXNGaW5pdGUiLCJvdXQiLCJzZWVuSW5kZXgiLCJzb3J0IiwicXVlcnlGcm9tUG9qbyIsImtpbmQiLCJkZWZpbml0aW9ucyIsIm9wZXJhdGlvbiIsInNlbGVjdGlvblNldCIsInNlbGVjdGlvblNldEZyb21PYmoiLCJzZWxlY3Rpb25zIiwiZmllbGQiLCJqdXN0VHlwZW5hbWVRdWVyeSIsInZhcmlhYmxlRGVmaW5pdGlvbnMiLCJkaXJlY3RpdmVzIiwiYWxpYXMiLCJBcG9sbG9DYWNoZSIsInRyYW5zZm9ybURvY3VtZW50IiwidHJhbnNmb3JtRm9yTGluayIsInJlYWRRdWVyeSIsInJlYWQiLCJxdWVyeSIsInZhcmlhYmxlcyIsInJlYWRGcmFnbWVudCIsImZyYWdtZW50IiwiZnJhZ21lbnROYW1lIiwicm9vdElkIiwid3JpdGVRdWVyeSIsIndyaXRlIiwiZGF0YUlkIiwid3JpdGVGcmFnbWVudCIsIndyaXRlRGF0YSIsInR5cGVuYW1lIiwidHlwZW5hbWVSZXN1bHQiLCJfX3R5cGVuYW1lIiwiZGF0YVRvV3JpdGUiLCJ0eXBlQ29uZGl0aW9uIiwiVGltZW91dCIsImNsZWFyRm4iLCJfaWQiLCJfY2xlYXJGbiIsInNjb3BlIiwic2V0SW50ZXJ2YWwiLCJjbGVhckludGVydmFsIiwiY2xvc2UiLCJ1bnJlZiIsInJlZiIsImVucm9sbCIsIl9pZGxlVGltZW91dElkIiwiX2lkbGVUaW1lb3V0IiwidW5lbnJvbGwiLCJfdW5yZWZBY3RpdmUiLCJhY3RpdmUiLCJfb25UaW1lb3V0IiwiY3JlYXRlV2FybmVyIiwiYWx0ZXJuYXRpdmUiLCJ3YXJuZWRQb3NpdGlvbnMiLCJhdCIsInN0YWNrIiwibWF0Y2giLCJ0cmltIiwiZGVjb3JhdGVQcm9wZXJ0eSIsIndhcm5lciIsImdldFdhcm5lciIsImRlcHJlY2F0ZWREZXNjcmlwdG9yIiwicHJvcGVydHlWYWx1ZV8xIiwiZGVjb3JhdGVGdW5jdGlvbiIsInByb3BlcnR5TmFtZSIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsImRlcHJlY2F0ZWQiLCJjbGFzc05hbWUiLCJkZXNjcmlwdG9yXzEiLCJ2MSIsInY0IiwidXVpZCIsIlN0cmluZyIsIkNyZWF0ZSIsIl9fZmlsZSIsImdxbCIsIl9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyJdLCJtYXBwaW5ncyI6IjBCQUNFLFNBQVNBLEVBQXFCQyxHQVE3QixJQVBBLElBTUlDLEVBQVVDLEVBTlZDLEVBQVdILEVBQUssR0FDaEJJ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SUFFOUJ4ekIsS0FBSyxDQUFDa0IsRUFBTzFCLEVBQUksOEpBQStKLEtBRXhMMEIsRUFBT0QsUUFBVUEiLCJmaWxlIjoiY3JlYXRlLmJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIGluc3RhbGwgYSBKU09OUCBjYWxsYmFjayBmb3IgY2h1bmsgbG9hZGluZ1xuIFx0ZnVuY3Rpb24gd2VicGFja0pzb25wQ2FsbGJhY2soZGF0YSkge1xuIFx0XHR2YXIgY2h1bmtJZHMgPSBkYXRhWzBdO1xuIFx0XHR2YXIgbW9yZU1vZHVsZXMgPSBkYXRhWzFdO1xuIFx0XHR2YXIgZXhlY3V0ZU1vZHVsZXMgPSBkYXRhWzJdO1xuXG4gXHRcdC8vIGFkZCBcIm1vcmVNb2R1bGVzXCIgdG8gdGhlIG1vZHVsZXMgb2JqZWN0LFxuIFx0XHQvLyB0aGVuIGZsYWcgYWxsIFwiY2h1bmtJZHNcIiBhcyBsb2FkZWQgYW5kIGZpcmUgY2FsbGJhY2tcbiBcdFx0dmFyIG1vZHVsZUlkLCBjaHVua0lkLCBpID0gMCwgcmVzb2x2ZXMgPSBbXTtcbiBcdFx0Zm9yKDtpIDwgY2h1bmtJZHMubGVuZ3RoOyBpKyspIHtcbiBcdFx0XHRjaHVua0lkID0gY2h1bmtJZHNbaV07XG4gXHRcdFx0aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGluc3RhbGxlZENodW5rcywgY2h1bmtJZCkgJiYgaW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdKSB7XG4gXHRcdFx0XHRyZXNvbHZlcy5wdXNoKGluc3RhbGxlZENodW5rc1tjaHVua0lkXVswXSk7XG4gXHRcdFx0fVxuIFx0XHRcdGluc3RhbGxlZENodW5rc1tjaHVua0lkXSA9IDA7XG4gXHRcdH1cbiBcdFx0Zm9yKG1vZHVsZUlkIGluIG1vcmVNb2R1bGVzKSB7XG4gXHRcdFx0aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1vcmVNb2R1bGVzLCBtb2R1bGVJZCkpIHtcbiBcdFx0XHRcdG1vZHVsZXNbbW9kdWxlSWRdID0gbW9yZU1vZHVsZXNbbW9kdWxlSWRdO1xuIFx0XHRcdH1cbiBcdFx0fVxuIFx0XHRpZihwYXJlbnRKc29ucEZ1bmN0aW9uKSBwYXJlbnRKc29ucEZ1bmN0aW9uKGRhdGEpO1xuXG4gXHRcdHdoaWxlKHJlc29sdmVzLmxlbmd0aCkge1xuIFx0XHRcdHJlc29sdmVzLnNoaWZ0KCkoKTtcbiBcdFx0fVxuXG4gXHRcdC8vIGFkZCBlbnRyeSBtb2R1bGVzIGZyb20gbG9hZGVkIGNodW5rIHRvIGRlZmVycmVkIGxpc3RcbiBcdFx0ZGVmZXJyZWRNb2R1bGVzLnB1c2guYXBwbHkoZGVmZXJyZWRNb2R1bGVzLCBleGVjdXRlTW9kdWxlcyB8fCBbXSk7XG5cbiBcdFx0Ly8gcnVuIGRlZmVycmVkIG1vZHVsZXMgd2hlbiBhbGwgY2h1bmtzIHJlYWR5XG4gXHRcdHJldHVybiBjaGVja0RlZmVycmVkTW9kdWxlcygpO1xuIFx0fTtcbiBcdGZ1bmN0aW9uIGNoZWNrRGVmZXJyZWRNb2R1bGVzKCkge1xuIFx0XHR2YXIgcmVzdWx0O1xuIFx0XHRmb3IodmFyIGkgPSAwOyBpIDwgZGVmZXJyZWRNb2R1bGVzLmxlbmd0aDsgaSsrKSB7XG4gXHRcdFx0dmFyIGRlZmVycmVkTW9kdWxlID0gZGVmZXJyZWRNb2R1bGVzW2ldO1xuIFx0XHRcdHZhciBmdWxmaWxsZWQgPSB0cnVlO1xuIFx0XHRcdGZvcih2YXIgaiA9IDE7IGogPCBkZWZlcnJlZE1vZHVsZS5sZW5ndGg7IGorKykge1xuIFx0XHRcdFx0dmFyIGRlcElkID0gZGVmZXJyZWRNb2R1bGVbal07XG4gXHRcdFx0XHRpZihpbnN0YWxsZWRDaHVua3NbZGVwSWRdICE9PSAwKSBmdWxmaWxsZWQgPSBmYWxzZTtcbiBcdFx0XHR9XG4gXHRcdFx0aWYoZnVsZmlsbGVkKSB7XG4gXHRcdFx0XHRkZWZlcnJlZE1vZHVsZXMuc3BsaWNlKGktLSwgMSk7XG4gXHRcdFx0XHRyZXN1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IGRlZmVycmVkTW9kdWxlWzBdKTtcbiBcdFx0XHR9XG4gXHRcdH1cblxuIFx0XHRyZXR1cm4gcmVzdWx0O1xuIFx0fVxuXG4gXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBvYmplY3QgdG8gc3RvcmUgbG9hZGVkIGFuZCBsb2FkaW5nIGNodW5rc1xuIFx0Ly8gdW5kZWZpbmVkID0gY2h1bmsgbm90IGxvYWRlZCwgbnVsbCA9IGNodW5rIHByZWxvYWRlZC9wcmVmZXRjaGVkXG4gXHQvLyBQcm9taXNlID0gY2h1bmsgbG9hZGluZywgMCA9IGNodW5rIGxvYWRlZFxuIFx0dmFyIGluc3RhbGxlZENodW5rcyA9IHtcbiBcdFx0NTogMFxuIFx0fTtcblxuIFx0dmFyIGRlZmVycmVkTW9kdWxlcyA9IFtdO1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG4gXHR2YXIganNvbnBBcnJheSA9IHdpbmRvd1tcIndlYnBhY2tKc29ucF9uYW1lX1wiXSA9IHdpbmRvd1tcIndlYnBhY2tKc29ucF9uYW1lX1wiXSB8fCBbXTtcbiBcdHZhciBvbGRKc29ucEZ1bmN0aW9uID0ganNvbnBBcnJheS5wdXNoLmJpbmQoanNvbnBBcnJheSk7XG4gXHRqc29ucEFycmF5LnB1c2ggPSB3ZWJwYWNrSnNvbnBDYWxsYmFjaztcbiBcdGpzb25wQXJyYXkgPSBqc29ucEFycmF5LnNsaWNlKCk7XG4gXHRmb3IodmFyIGkgPSAwOyBpIDwganNvbnBBcnJheS5sZW5ndGg7IGkrKykgd2VicGFja0pzb25wQ2FsbGJhY2soanNvbnBBcnJheVtpXSk7XG4gXHR2YXIgcGFyZW50SnNvbnBGdW5jdGlvbiA9IG9sZEpzb25wRnVuY3Rpb247XG5cblxuIFx0Ly8gYWRkIGVudHJ5IG1vZHVsZSB0byBkZWZlcnJlZCBsaXN0XG4gXHRkZWZlcnJlZE1vZHVsZXMucHVzaChbMTMyLDAsMV0pO1xuIFx0Ly8gcnVuIGRlZmVycmVkIG1vZHVsZXMgd2hlbiByZWFkeVxuIFx0cmV0dXJuIGNoZWNrRGVmZXJyZWRNb2R1bGVzKCk7XG4iLCIvKiEgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uXHJcblxyXG5QZXJtaXNzaW9uIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBhbmQvb3IgZGlzdHJpYnV0ZSB0aGlzIHNvZnR3YXJlIGZvciBhbnlcclxucHVycG9zZSB3aXRoIG9yIHdpdGhvdXQgZmVlIGlzIGhlcmVieSBncmFudGVkLlxyXG5cclxuVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiBBTkQgVEhFIEFVVEhPUiBESVNDTEFJTVMgQUxMIFdBUlJBTlRJRVMgV0lUSFxyXG5SRUdBUkQgVE8gVEhJUyBTT0ZUV0FSRSBJTkNMVURJTkcgQUxMIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFlcclxuQU5EIEZJVE5FU1MuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1IgQkUgTElBQkxFIEZPUiBBTlkgU1BFQ0lBTCwgRElSRUNULFxyXG5JTkRJUkVDVCwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTIE9SIEFOWSBEQU1BR0VTIFdIQVRTT0VWRVIgUkVTVUxUSU5HIEZST01cclxuTE9TUyBPRiBVU0UsIERBVEEgT1IgUFJPRklUUywgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIE5FR0xJR0VOQ0UgT1JcclxuT1RIRVIgVE9SVElPVVMgQUNUSU9OLCBBUklTSU5HIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFVTRSBPUlxyXG5QRVJGT1JNQU5DRSBPRiBUSElTIFNPRlRXQVJFLlxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xyXG4vKiBnbG9iYWwgUmVmbGVjdCwgUHJvbWlzZSAqL1xyXG5cclxudmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbihkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19leHRlbmRzKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxufVxyXG5cclxuZXhwb3J0IHZhciBfX2Fzc2lnbiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uIF9fYXNzaWduKHQpIHtcclxuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcclxuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcclxuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB0W3BdID0gc1twXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHQ7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcmVzdChzLCBlKSB7XHJcbiAgICB2YXIgdCA9IHt9O1xyXG4gICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApICYmIGUuaW5kZXhPZihwKSA8IDApXHJcbiAgICAgICAgdFtwXSA9IHNbcF07XHJcbiAgICBpZiAocyAhPSBudWxsICYmIHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSBcImZ1bmN0aW9uXCIpXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIHAgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHMpOyBpIDwgcC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAoZS5pbmRleE9mKHBbaV0pIDwgMCAmJiBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwocywgcFtpXSkpXHJcbiAgICAgICAgICAgICAgICB0W3BbaV1dID0gc1twW2ldXTtcclxuICAgICAgICB9XHJcbiAgICByZXR1cm4gdDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcclxuICAgIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XHJcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xyXG4gICAgZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcclxuICAgIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3BhcmFtKHBhcmFtSW5kZXgsIGRlY29yYXRvcikge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uICh0YXJnZXQsIGtleSkgeyBkZWNvcmF0b3IodGFyZ2V0LCBrZXksIHBhcmFtSW5kZXgpOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX21ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlKSB7XHJcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QubWV0YWRhdGEgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIFJlZmxlY3QubWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hd2FpdGVyKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xyXG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XHJcbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cclxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZ2VuZXJhdG9yKHRoaXNBcmcsIGJvZHkpIHtcclxuICAgIHZhciBfID0geyBsYWJlbDogMCwgc2VudDogZnVuY3Rpb24oKSB7IGlmICh0WzBdICYgMSkgdGhyb3cgdFsxXTsgcmV0dXJuIHRbMV07IH0sIHRyeXM6IFtdLCBvcHM6IFtdIH0sIGYsIHksIHQsIGc7XHJcbiAgICByZXR1cm4gZyA9IHsgbmV4dDogdmVyYigwKSwgXCJ0aHJvd1wiOiB2ZXJiKDEpLCBcInJldHVyblwiOiB2ZXJiKDIpIH0sIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiAoZ1tTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9KSwgZztcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyByZXR1cm4gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHN0ZXAoW24sIHZdKTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gc3RlcChvcCkge1xyXG4gICAgICAgIGlmIChmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtcclxuICAgICAgICB3aGlsZSAoXykgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKGYgPSAxLCB5ICYmICh0ID0gb3BbMF0gJiAyID8geVtcInJldHVyblwiXSA6IG9wWzBdID8geVtcInRocm93XCJdIHx8ICgodCA9IHlbXCJyZXR1cm5cIl0pICYmIHQuY2FsbCh5KSwgMCkgOiB5Lm5leHQpICYmICEodCA9IHQuY2FsbCh5LCBvcFsxXSkpLmRvbmUpIHJldHVybiB0O1xyXG4gICAgICAgICAgICBpZiAoeSA9IDAsIHQpIG9wID0gW29wWzBdICYgMiwgdC52YWx1ZV07XHJcbiAgICAgICAgICAgIHN3aXRjaCAob3BbMF0pIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgMDogY2FzZSAxOiB0ID0gb3A7IGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA0OiBfLmxhYmVsKys7IHJldHVybiB7IHZhbHVlOiBvcFsxXSwgZG9uZTogZmFsc2UgfTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNTogXy5sYWJlbCsrOyB5ID0gb3BbMV07IG9wID0gWzBdOyBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNzogb3AgPSBfLm9wcy5wb3AoKTsgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEodCA9IF8udHJ5cywgdCA9IHQubGVuZ3RoID4gMCAmJiB0W3QubGVuZ3RoIC0gMV0pICYmIChvcFswXSA9PT0gNiB8fCBvcFswXSA9PT0gMikpIHsgXyA9IDA7IGNvbnRpbnVlOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSAzICYmICghdCB8fCAob3BbMV0gPiB0WzBdICYmIG9wWzFdIDwgdFszXSkpKSB7IF8ubGFiZWwgPSBvcFsxXTsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDYgJiYgXy5sYWJlbCA8IHRbMV0pIHsgXy5sYWJlbCA9IHRbMV07IHQgPSBvcDsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodCAmJiBfLmxhYmVsIDwgdFsyXSkgeyBfLmxhYmVsID0gdFsyXTsgXy5vcHMucHVzaChvcCk7IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRbMl0pIF8ub3BzLnBvcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIF8udHJ5cy5wb3AoKTsgY29udGludWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgb3AgPSBib2R5LmNhbGwodGhpc0FyZywgXyk7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkgeyBvcCA9IFs2LCBlXTsgeSA9IDA7IH0gZmluYWxseSB7IGYgPSB0ID0gMDsgfVxyXG4gICAgICAgIGlmIChvcFswXSAmIDUpIHRocm93IG9wWzFdOyByZXR1cm4geyB2YWx1ZTogb3BbMF0gPyBvcFsxXSA6IHZvaWQgMCwgZG9uZTogdHJ1ZSB9O1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19jcmVhdGVCaW5kaW5nKG8sIG0sIGssIGsyKSB7XHJcbiAgICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xyXG4gICAgb1trMl0gPSBtW2tdO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19leHBvcnRTdGFyKG0sIGV4cG9ydHMpIHtcclxuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKHAgIT09IFwiZGVmYXVsdFwiICYmICFleHBvcnRzLmhhc093blByb3BlcnR5KHApKSBleHBvcnRzW3BdID0gbVtwXTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fdmFsdWVzKG8pIHtcclxuICAgIHZhciBzID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIFN5bWJvbC5pdGVyYXRvciwgbSA9IHMgJiYgb1tzXSwgaSA9IDA7XHJcbiAgICBpZiAobSkgcmV0dXJuIG0uY2FsbChvKTtcclxuICAgIGlmIChvICYmIHR5cGVvZiBvLmxlbmd0aCA9PT0gXCJudW1iZXJcIikgcmV0dXJuIHtcclxuICAgICAgICBuZXh0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmIChvICYmIGkgPj0gby5sZW5ndGgpIG8gPSB2b2lkIDA7XHJcbiAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihzID8gXCJPYmplY3QgaXMgbm90IGl0ZXJhYmxlLlwiIDogXCJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19yZWFkKG8sIG4pIHtcclxuICAgIHZhciBtID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXTtcclxuICAgIGlmICghbSkgcmV0dXJuIG87XHJcbiAgICB2YXIgaSA9IG0uY2FsbChvKSwgciwgYXIgPSBbXSwgZTtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgd2hpbGUgKChuID09PSB2b2lkIDAgfHwgbi0tID4gMCkgJiYgIShyID0gaS5uZXh0KCkpLmRvbmUpIGFyLnB1c2goci52YWx1ZSk7XHJcbiAgICB9XHJcbiAgICBjYXRjaCAoZXJyb3IpIHsgZSA9IHsgZXJyb3I6IGVycm9yIH07IH1cclxuICAgIGZpbmFsbHkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGlmIChyICYmICFyLmRvbmUgJiYgKG0gPSBpW1wicmV0dXJuXCJdKSkgbS5jYWxsKGkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmaW5hbGx5IHsgaWYgKGUpIHRocm93IGUuZXJyb3I7IH1cclxuICAgIH1cclxuICAgIHJldHVybiBhcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkKCkge1xyXG4gICAgZm9yICh2YXIgYXIgPSBbXSwgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspXHJcbiAgICAgICAgYXIgPSBhci5jb25jYXQoX19yZWFkKGFyZ3VtZW50c1tpXSkpO1xyXG4gICAgcmV0dXJuIGFyO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19zcHJlYWRBcnJheXMoKSB7XHJcbiAgICBmb3IgKHZhciBzID0gMCwgaSA9IDAsIGlsID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IGlsOyBpKyspIHMgKz0gYXJndW1lbnRzW2ldLmxlbmd0aDtcclxuICAgIGZvciAodmFyIHIgPSBBcnJheShzKSwgayA9IDAsIGkgPSAwOyBpIDwgaWw7IGkrKylcclxuICAgICAgICBmb3IgKHZhciBhID0gYXJndW1lbnRzW2ldLCBqID0gMCwgamwgPSBhLmxlbmd0aDsgaiA8IGpsOyBqKyssIGsrKylcclxuICAgICAgICAgICAgcltrXSA9IGFbal07XHJcbiAgICByZXR1cm4gcjtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2F3YWl0KHYpIHtcclxuICAgIHJldHVybiB0aGlzIGluc3RhbmNlb2YgX19hd2FpdCA/ICh0aGlzLnYgPSB2LCB0aGlzKSA6IG5ldyBfX2F3YWl0KHYpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY0dlbmVyYXRvcih0aGlzQXJnLCBfYXJndW1lbnRzLCBnZW5lcmF0b3IpIHtcclxuICAgIGlmICghU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNJdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XHJcbiAgICB2YXIgZyA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSwgaSwgcSA9IFtdO1xyXG4gICAgcmV0dXJuIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiKSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IGlmIChnW25dKSBpW25dID0gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChhLCBiKSB7IHEucHVzaChbbiwgdiwgYSwgYl0pID4gMSB8fCByZXN1bWUobiwgdik7IH0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiByZXN1bWUobiwgdikgeyB0cnkgeyBzdGVwKGdbbl0odikpOyB9IGNhdGNoIChlKSB7IHNldHRsZShxWzBdWzNdLCBlKTsgfSB9XHJcbiAgICBmdW5jdGlvbiBzdGVwKHIpIHsgci52YWx1ZSBpbnN0YW5jZW9mIF9fYXdhaXQgPyBQcm9taXNlLnJlc29sdmUoci52YWx1ZS52KS50aGVuKGZ1bGZpbGwsIHJlamVjdCkgOiBzZXR0bGUocVswXVsyXSwgcik7IH1cclxuICAgIGZ1bmN0aW9uIGZ1bGZpbGwodmFsdWUpIHsgcmVzdW1lKFwibmV4dFwiLCB2YWx1ZSk7IH1cclxuICAgIGZ1bmN0aW9uIHJlamVjdCh2YWx1ZSkgeyByZXN1bWUoXCJ0aHJvd1wiLCB2YWx1ZSk7IH1cclxuICAgIGZ1bmN0aW9uIHNldHRsZShmLCB2KSB7IGlmIChmKHYpLCBxLnNoaWZ0KCksIHEubGVuZ3RoKSByZXN1bWUocVswXVswXSwgcVswXVsxXSk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNEZWxlZ2F0b3Iobykge1xyXG4gICAgdmFyIGksIHA7XHJcbiAgICByZXR1cm4gaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIsIGZ1bmN0aW9uIChlKSB7IHRocm93IGU7IH0pLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuLCBmKSB7IGlbbl0gPSBvW25dID8gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIChwID0gIXApID8geyB2YWx1ZTogX19hd2FpdChvW25dKHYpKSwgZG9uZTogbiA9PT0gXCJyZXR1cm5cIiB9IDogZiA/IGYodikgOiB2OyB9IDogZjsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY1ZhbHVlcyhvKSB7XHJcbiAgICBpZiAoIVN5bWJvbC5hc3luY0l0ZXJhdG9yKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmFzeW5jSXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xyXG4gICAgdmFyIG0gPSBvW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSwgaTtcclxuICAgIHJldHVybiBtID8gbS5jYWxsKG8pIDogKG8gPSB0eXBlb2YgX192YWx1ZXMgPT09IFwiZnVuY3Rpb25cIiA/IF9fdmFsdWVzKG8pIDogb1tTeW1ib2wuaXRlcmF0b3JdKCksIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiKSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpKTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyBpW25dID0gb1tuXSAmJiBmdW5jdGlvbiAodikgeyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgeyB2ID0gb1tuXSh2KSwgc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgdi5kb25lLCB2LnZhbHVlKTsgfSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHNldHRsZShyZXNvbHZlLCByZWplY3QsIGQsIHYpIHsgUHJvbWlzZS5yZXNvbHZlKHYpLnRoZW4oZnVuY3Rpb24odikgeyByZXNvbHZlKHsgdmFsdWU6IHYsIGRvbmU6IGQgfSk7IH0sIHJlamVjdCk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fbWFrZVRlbXBsYXRlT2JqZWN0KGNvb2tlZCwgcmF3KSB7XHJcbiAgICBpZiAoT2JqZWN0LmRlZmluZVByb3BlcnR5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjb29rZWQsIFwicmF3XCIsIHsgdmFsdWU6IHJhdyB9KTsgfSBlbHNlIHsgY29va2VkLnJhdyA9IHJhdzsgfVxyXG4gICAgcmV0dXJuIGNvb2tlZDtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2ltcG9ydFN0YXIobW9kKSB7XHJcbiAgICBpZiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSByZXR1cm4gbW9kO1xyXG4gICAgdmFyIHJlc3VsdCA9IHt9O1xyXG4gICAgaWYgKG1vZCAhPSBudWxsKSBmb3IgKHZhciBrIGluIG1vZCkgaWYgKE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1vZCwgaykpIHJlc3VsdFtrXSA9IG1vZFtrXTtcclxuICAgIHJlc3VsdC5kZWZhdWx0ID0gbW9kO1xyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9faW1wb3J0RGVmYXVsdChtb2QpIHtcclxuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgZGVmYXVsdDogbW9kIH07XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHJlY2VpdmVyLCBwcml2YXRlTWFwKSB7XHJcbiAgICBpZiAoIXByaXZhdGVNYXAuaGFzKHJlY2VpdmVyKSkge1xyXG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJhdHRlbXB0ZWQgdG8gZ2V0IHByaXZhdGUgZmllbGQgb24gbm9uLWluc3RhbmNlXCIpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHByaXZhdGVNYXAuZ2V0KHJlY2VpdmVyKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fY2xhc3NQcml2YXRlRmllbGRTZXQocmVjZWl2ZXIsIHByaXZhdGVNYXAsIHZhbHVlKSB7XHJcbiAgICBpZiAoIXByaXZhdGVNYXAuaGFzKHJlY2VpdmVyKSkge1xyXG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJhdHRlbXB0ZWQgdG8gc2V0IHByaXZhdGUgZmllbGQgb24gbm9uLWluc3RhbmNlXCIpO1xyXG4gICAgfVxyXG4gICAgcHJpdmF0ZU1hcC5zZXQocmVjZWl2ZXIsIHZhbHVlKTtcclxuICAgIHJldHVybiB2YWx1ZTtcclxufVxyXG4iLCJpbXBvcnQgeyBfX2V4dGVuZHMgfSBmcm9tICd0c2xpYic7XG5cbnZhciBnZW5lcmljTWVzc2FnZSA9IFwiSW52YXJpYW50IFZpb2xhdGlvblwiO1xyXG52YXIgX2EgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YsIHNldFByb3RvdHlwZU9mID0gX2EgPT09IHZvaWQgMCA/IGZ1bmN0aW9uIChvYmosIHByb3RvKSB7XHJcbiAgICBvYmouX19wcm90b19fID0gcHJvdG87XHJcbiAgICByZXR1cm4gb2JqO1xyXG59IDogX2E7XHJcbnZhciBJbnZhcmlhbnRFcnJvciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhJbnZhcmlhbnRFcnJvciwgX3N1cGVyKTtcclxuICAgIGZ1bmN0aW9uIEludmFyaWFudEVycm9yKG1lc3NhZ2UpIHtcclxuICAgICAgICBpZiAobWVzc2FnZSA9PT0gdm9pZCAwKSB7IG1lc3NhZ2UgPSBnZW5lcmljTWVzc2FnZTsgfVxyXG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHR5cGVvZiBtZXNzYWdlID09PSBcIm51bWJlclwiXHJcbiAgICAgICAgICAgID8gZ2VuZXJpY01lc3NhZ2UgKyBcIjogXCIgKyBtZXNzYWdlICsgXCIgKHNlZSBodHRwczovL2dpdGh1Yi5jb20vYXBvbGxvZ3JhcGhxbC9pbnZhcmlhbnQtcGFja2FnZXMpXCJcclxuICAgICAgICAgICAgOiBtZXNzYWdlKSB8fCB0aGlzO1xyXG4gICAgICAgIF90aGlzLmZyYW1lc1RvUG9wID0gMTtcclxuICAgICAgICBfdGhpcy5uYW1lID0gZ2VuZXJpY01lc3NhZ2U7XHJcbiAgICAgICAgc2V0UHJvdG90eXBlT2YoX3RoaXMsIEludmFyaWFudEVycm9yLnByb3RvdHlwZSk7XHJcbiAgICAgICAgcmV0dXJuIF90aGlzO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIEludmFyaWFudEVycm9yO1xyXG59KEVycm9yKSk7XHJcbmZ1bmN0aW9uIGludmFyaWFudChjb25kaXRpb24sIG1lc3NhZ2UpIHtcclxuICAgIGlmICghY29uZGl0aW9uKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEludmFyaWFudEVycm9yKG1lc3NhZ2UpO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIHdyYXBDb25zb2xlTWV0aG9kKG1ldGhvZCkge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gY29uc29sZVttZXRob2RdLmFwcGx5KGNvbnNvbGUsIGFyZ3VtZW50cyk7XHJcbiAgICB9O1xyXG59XHJcbihmdW5jdGlvbiAoaW52YXJpYW50KSB7XHJcbiAgICBpbnZhcmlhbnQud2FybiA9IHdyYXBDb25zb2xlTWV0aG9kKFwid2FyblwiKTtcclxuICAgIGludmFyaWFudC5lcnJvciA9IHdyYXBDb25zb2xlTWV0aG9kKFwiZXJyb3JcIik7XHJcbn0pKGludmFyaWFudCB8fCAoaW52YXJpYW50ID0ge30pKTtcclxuLy8gQ29kZSB0aGF0IHVzZXMgdHMtaW52YXJpYW50IHdpdGggcm9sbHVwLXBsdWdpbi1pbnZhcmlhbnQgbWF5IHdhbnQgdG9cclxuLy8gaW1wb3J0IHRoaXMgcHJvY2VzcyBzdHViIHRvIGF2b2lkIGVycm9ycyBldmFsdWF0aW5nIHByb2Nlc3MuZW52Lk5PREVfRU5WLlxyXG4vLyBIb3dldmVyLCBiZWNhdXNlIG1vc3QgRVNNLXRvLUNKUyBjb21waWxlcnMgd2lsbCByZXdyaXRlIHRoZSBwcm9jZXNzIGltcG9ydFxyXG4vLyBhcyB0c0ludmFyaWFudC5wcm9jZXNzLCB3aGljaCBwcmV2ZW50cyBwcm9wZXIgcmVwbGFjZW1lbnQgYnkgbWluaWZpZXJzLCB3ZVxyXG4vLyBhbHNvIGF0dGVtcHQgdG8gZGVmaW5lIHRoZSBzdHViIGdsb2JhbGx5IHdoZW4gaXQgaXMgbm90IGFscmVhZHkgZGVmaW5lZC5cclxudmFyIHByb2Nlc3NTdHViID0geyBlbnY6IHt9IH07XHJcbmlmICh0eXBlb2YgcHJvY2VzcyA9PT0gXCJvYmplY3RcIikge1xyXG4gICAgcHJvY2Vzc1N0dWIgPSBwcm9jZXNzO1xyXG59XHJcbmVsc2VcclxuICAgIHRyeSB7XHJcbiAgICAgICAgLy8gVXNpbmcgRnVuY3Rpb24gdG8gZXZhbHVhdGUgdGhpcyBhc3NpZ25tZW50IGluIGdsb2JhbCBzY29wZSBhbHNvIGVzY2FwZXNcclxuICAgICAgICAvLyB0aGUgc3RyaWN0IG1vZGUgb2YgdGhlIGN1cnJlbnQgbW9kdWxlLCB0aGVyZWJ5IGFsbG93aW5nIHRoZSBhc3NpZ25tZW50LlxyXG4gICAgICAgIC8vIEluc3BpcmVkIGJ5IGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWdlbmVyYXRvci9wdWxsLzM2OS5cclxuICAgICAgICBGdW5jdGlvbihcInN0dWJcIiwgXCJwcm9jZXNzID0gc3R1YlwiKShwcm9jZXNzU3R1Yik7XHJcbiAgICB9XHJcbiAgICBjYXRjaCAoYXRMZWFzdFdlVHJpZWQpIHtcclxuICAgICAgICAvLyBUaGUgYXNzaWdubWVudCBjYW4gZmFpbCBpZiBhIENvbnRlbnQgU2VjdXJpdHkgUG9saWN5IGhlYXZ5LWhhbmRlZGx5XHJcbiAgICAgICAgLy8gZm9yYmlkcyBGdW5jdGlvbiB1c2FnZS4gSW4gdGhvc2UgZW52aXJvbm1lbnRzLCBkZXZlbG9wZXJzIHNob3VsZCB0YWtlXHJcbiAgICAgICAgLy8gZXh0cmEgY2FyZSB0byByZXBsYWNlIHByb2Nlc3MuZW52Lk5PREVfRU5WIGluIHRoZWlyIHByb2R1Y3Rpb24gYnVpbGRzLFxyXG4gICAgICAgIC8vIG9yIGRlZmluZSBhbiBhcHByb3ByaWF0ZSBnbG9iYWwucHJvY2VzcyBwb2x5ZmlsbC5cclxuICAgIH1cclxudmFyIGludmFyaWFudCQxID0gaW52YXJpYW50O1xuXG5leHBvcnQgZGVmYXVsdCBpbnZhcmlhbnQkMTtcbmV4cG9ydCB7IEludmFyaWFudEVycm9yLCBpbnZhcmlhbnQsIHByb2Nlc3NTdHViIGFzIHByb2Nlc3MgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWludmFyaWFudC5lc20uanMubWFwXG4iLCIvKiBnbG9iYWxzIF9fVlVFX1NTUl9DT05URVhUX18gKi9cblxuLy8gSU1QT1JUQU5UOiBEbyBOT1QgdXNlIEVTMjAxNSBmZWF0dXJlcyBpbiB0aGlzIGZpbGUgKGV4Y2VwdCBmb3IgbW9kdWxlcykuXG4vLyBUaGlzIG1vZHVsZSBpcyBhIHJ1bnRpbWUgdXRpbGl0eSBmb3IgY2xlYW5lciBjb21wb25lbnQgbW9kdWxlIG91dHB1dCBhbmQgd2lsbFxuLy8gYmUgaW5jbHVkZWQgaW4gdGhlIGZpbmFsIHdlYnBhY2sgdXNlciBidW5kbGUuXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIG5vcm1hbGl6ZUNvbXBvbmVudCAoXG4gIHNjcmlwdEV4cG9ydHMsXG4gIHJlbmRlcixcbiAgc3RhdGljUmVuZGVyRm5zLFxuICBmdW5jdGlvbmFsVGVtcGxhdGUsXG4gIGluamVjdFN0eWxlcyxcbiAgc2NvcGVJZCxcbiAgbW9kdWxlSWRlbnRpZmllciwgLyogc2VydmVyIG9ubHkgKi9cbiAgc2hhZG93TW9kZSAvKiB2dWUtY2xpIG9ubHkgKi9cbikge1xuICAvLyBWdWUuZXh0ZW5kIGNvbnN0cnVjdG9yIGV4cG9ydCBpbnRlcm9wXG4gIHZhciBvcHRpb25zID0gdHlwZW9mIHNjcmlwdEV4cG9ydHMgPT09ICdmdW5jdGlvbidcbiAgICA/IHNjcmlwdEV4cG9ydHMub3B0aW9uc1xuICAgIDogc2NyaXB0RXhwb3J0c1xuXG4gIC8vIHJlbmRlciBmdW5jdGlvbnNcbiAgaWYgKHJlbmRlcikge1xuICAgIG9wdGlvbnMucmVuZGVyID0gcmVuZGVyXG4gICAgb3B0aW9ucy5zdGF0aWNSZW5kZXJGbnMgPSBzdGF0aWNSZW5kZXJGbnNcbiAgICBvcHRpb25zLl9jb21waWxlZCA9IHRydWVcbiAgfVxuXG4gIC8vIGZ1bmN0aW9uYWwgdGVtcGxhdGVcbiAgaWYgKGZ1bmN0aW9uYWxUZW1wbGF0ZSkge1xuICAgIG9wdGlvbnMuZnVuY3Rpb25hbCA9IHRydWVcbiAgfVxuXG4gIC8vIHNjb3BlZElkXG4gIGlmIChzY29wZUlkKSB7XG4gICAgb3B0aW9ucy5fc2NvcGVJZCA9ICdkYXRhLXYtJyArIHNjb3BlSWRcbiAgfVxuXG4gIHZhciBob29rXG4gIGlmIChtb2R1bGVJZGVudGlmaWVyKSB7IC8vIHNlcnZlciBidWlsZFxuICAgIGhvb2sgPSBmdW5jdGlvbiAoY29udGV4dCkge1xuICAgICAgLy8gMi4zIGluamVjdGlvblxuICAgICAgY29udGV4dCA9XG4gICAgICAgIGNvbnRleHQgfHwgLy8gY2FjaGVkIGNhbGxcbiAgICAgICAgKHRoaXMuJHZub2RlICYmIHRoaXMuJHZub2RlLnNzckNvbnRleHQpIHx8IC8vIHN0YXRlZnVsXG4gICAgICAgICh0aGlzLnBhcmVudCAmJiB0aGlzLnBhcmVudC4kdm5vZGUgJiYgdGhpcy5wYXJlbnQuJHZub2RlLnNzckNvbnRleHQpIC8vIGZ1bmN0aW9uYWxcbiAgICAgIC8vIDIuMiB3aXRoIHJ1bkluTmV3Q29udGV4dDogdHJ1ZVxuICAgICAgaWYgKCFjb250ZXh0ICYmIHR5cGVvZiBfX1ZVRV9TU1JfQ09OVEVYVF9fICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBjb250ZXh0ID0gX19WVUVfU1NSX0NPTlRFWFRfX1xuICAgICAgfVxuICAgICAgLy8gaW5qZWN0IGNvbXBvbmVudCBzdHlsZXNcbiAgICAgIGlmIChpbmplY3RTdHlsZXMpIHtcbiAgICAgICAgaW5qZWN0U3R5bGVzLmNhbGwodGhpcywgY29udGV4dClcbiAgICAgIH1cbiAgICAgIC8vIHJlZ2lzdGVyIGNvbXBvbmVudCBtb2R1bGUgaWRlbnRpZmllciBmb3IgYXN5bmMgY2h1bmsgaW5mZXJyZW5jZVxuICAgICAgaWYgKGNvbnRleHQgJiYgY29udGV4dC5fcmVnaXN0ZXJlZENvbXBvbmVudHMpIHtcbiAgICAgICAgY29udGV4dC5fcmVnaXN0ZXJlZENvbXBvbmVudHMuYWRkKG1vZHVsZUlkZW50aWZpZXIpXG4gICAgICB9XG4gICAgfVxuICAgIC8vIHVzZWQgYnkgc3NyIGluIGNhc2UgY29tcG9uZW50IGlzIGNhY2hlZCBhbmQgYmVmb3JlQ3JlYXRlXG4gICAgLy8gbmV2ZXIgZ2V0cyBjYWxsZWRcbiAgICBvcHRpb25zLl9zc3JSZWdpc3RlciA9IGhvb2tcbiAgfSBlbHNlIGlmIChpbmplY3RTdHlsZXMpIHtcbiAgICBob29rID0gc2hhZG93TW9kZVxuICAgICAgPyBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGluamVjdFN0eWxlcy5jYWxsKFxuICAgICAgICAgIHRoaXMsXG4gICAgICAgICAgKG9wdGlvbnMuZnVuY3Rpb25hbCA/IHRoaXMucGFyZW50IDogdGhpcykuJHJvb3QuJG9wdGlvbnMuc2hhZG93Um9vdFxuICAgICAgICApXG4gICAgICB9XG4gICAgICA6IGluamVjdFN0eWxlc1xuICB9XG5cbiAgaWYgKGhvb2spIHtcbiAgICBpZiAob3B0aW9ucy5mdW5jdGlvbmFsKSB7XG4gICAgICAvLyBmb3IgdGVtcGxhdGUtb25seSBob3QtcmVsb2FkIGJlY2F1c2UgaW4gdGhhdCBjYXNlIHRoZSByZW5kZXIgZm4gZG9lc24ndFxuICAgICAgLy8gZ28gdGhyb3VnaCB0aGUgbm9ybWFsaXplclxuICAgICAgb3B0aW9ucy5faW5qZWN0U3R5bGVzID0gaG9va1xuICAgICAgLy8gcmVnaXN0ZXIgZm9yIGZ1bmN0aW9uYWwgY29tcG9uZW50IGluIHZ1ZSBmaWxlXG4gICAgICB2YXIgb3JpZ2luYWxSZW5kZXIgPSBvcHRpb25zLnJlbmRlclxuICAgICAgb3B0aW9ucy5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXJXaXRoU3R5bGVJbmplY3Rpb24gKGgsIGNvbnRleHQpIHtcbiAgICAgICAgaG9vay5jYWxsKGNvbnRleHQpXG4gICAgICAgIHJldHVybiBvcmlnaW5hbFJlbmRlcihoLCBjb250ZXh0KVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBpbmplY3QgY29tcG9uZW50IHJlZ2lzdHJhdGlvbiBhcyBiZWZvcmVDcmVhdGUgaG9va1xuICAgICAgdmFyIGV4aXN0aW5nID0gb3B0aW9ucy5iZWZvcmVDcmVhdGVcbiAgICAgIG9wdGlvbnMuYmVmb3JlQ3JlYXRlID0gZXhpc3RpbmdcbiAgICAgICAgPyBbXS5jb25jYXQoZXhpc3RpbmcsIGhvb2spXG4gICAgICAgIDogW2hvb2tdXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBleHBvcnRzOiBzY3JpcHRFeHBvcnRzLFxuICAgIG9wdGlvbnM6IG9wdGlvbnNcbiAgfVxufVxuIiwiLyoqXG4gKiAyMDA3LTIwMjAgUHJlc3RhU2hvcCBhbmQgQ29udHJpYnV0b3JzXG4gKlxuICogTk9USUNFIE9GIExJQ0VOU0VcbiAqXG4gKiBUaGlzIHNvdXJjZSBmaWxlIGlzIHN1YmplY3QgdG8gdGhlIEFjYWRlbWljIEZyZWUgTGljZW5zZSAzLjAgKEFGTC0zLjApXG4gKiB0aGF0IGlzIGJ1bmRsZWQgd2l0aCB0aGlzIHBhY2thZ2UgaW4gdGhlIGZpbGUgTElDRU5TRS50eHQuXG4gKiBJdCBpcyBhbHNvIGF2YWlsYWJsZSB0aHJvdWdoIHRoZSB3b3JsZC13aWRlLXdlYiBhdCB0aGlzIFVSTDpcbiAqIGh0dHBzOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvQUZMLTMuMFxuICogSWYgeW91IGRpZCBub3QgcmVjZWl2ZSBhIGNvcHkgb2YgdGhlIGxpY2Vuc2UgYW5kIGFyZSB1bmFibGUgdG9cbiAqIG9idGFpbiBpdCB0aHJvdWdoIHRoZSB3b3JsZC13aWRlLXdlYiwgcGxlYXNlIHNlbmQgYW4gZW1haWxcbiAqIHRvIGxpY2Vuc2VAcHJlc3Rhc2hvcC5jb20gc28gd2UgY2FuIHNlbmQgeW91IGEgY29weSBpbW1lZGlhdGVseS5cbiAqXG4gKiBAYXV0aG9yICAgIFByZXN0YVNob3AgU0EgPGNvbnRhY3RAcHJlc3Rhc2hvcC5jb20+XG4gKiBAY29weXJpZ2h0IDIwMDctMjAyMCBQcmVzdGFTaG9wIFNBIGFuZCBDb250cmlidXRvcnNcbiAqIEBsaWNlbnNlICAgaHR0cHM6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9BRkwtMy4wIEFjYWRlbWljIEZyZWUgTGljZW5zZSAzLjAgKEFGTC0zLjApXG4gKiBJbnRlcm5hdGlvbmFsIFJlZ2lzdGVyZWQgVHJhZGVtYXJrICYgUHJvcGVydHkgb2YgUHJlc3RhU2hvcCBTQVxuICovXG5pbXBvcnQgVnVlIGZyb20gJ3Z1ZSc7XG5pbXBvcnQgcHJlc3Rhc2hvcCBmcm9tICdwcmVzdGFzaG9wJztcblxuY29uc3QgRXZlbnRCdXMgPSBuZXcgVnVlKCk7XG5cbndpbmRvdy5XaXNobGlzdEV2ZW50QnVzID0gRXZlbnRCdXM7XG5cbnByZXN0YXNob3AuZW1pdCgnd2lzaGxpc3RFdmVudEJ1c0luaXQnKTtcblxuZXhwb3J0IGRlZmF1bHQgRXZlbnRCdXM7XG4iLCJ2YXIgZztcblxuLy8gVGhpcyB3b3JrcyBpbiBub24tc3RyaWN0IG1vZGVcbmcgPSAoZnVuY3Rpb24oKSB7XG5cdHJldHVybiB0aGlzO1xufSkoKTtcblxudHJ5IHtcblx0Ly8gVGhpcyB3b3JrcyBpZiBldmFsIGlzIGFsbG93ZWQgKHNlZSBDU1ApXG5cdGcgPSBnIHx8IG5ldyBGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCk7XG59IGNhdGNoIChlKSB7XG5cdC8vIFRoaXMgd29ya3MgaWYgdGhlIHdpbmRvdyByZWZlcmVuY2UgaXMgYXZhaWxhYmxlXG5cdGlmICh0eXBlb2Ygd2luZG93ID09PSBcIm9iamVjdFwiKSBnID0gd2luZG93O1xufVxuXG4vLyBnIGNhbiBzdGlsbCBiZSB1bmRlZmluZWQsIGJ1dCBub3RoaW5nIHRvIGRvIGFib3V0IGl0Li4uXG4vLyBXZSByZXR1cm4gdW5kZWZpbmVkLCBpbnN0ZWFkIG9mIG5vdGhpbmcgaGVyZSwgc28gaXQnc1xuLy8gZWFzaWVyIHRvIGhhbmRsZSB0aGlzIGNhc2UuIGlmKCFnbG9iYWwpIHsgLi4ufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGc7XG4iLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJyZWdlbmVyYXRvci1ydW50aW1lXCIpO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfcHJvbWlzZSA9IHJlcXVpcmUoXCIuLi9jb3JlLWpzL3Byb21pc2VcIik7XG5cbnZhciBfcHJvbWlzZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wcm9taXNlKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKGZuKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGdlbiA9IGZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgcmV0dXJuIG5ldyBfcHJvbWlzZTIuZGVmYXVsdChmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICBmdW5jdGlvbiBzdGVwKGtleSwgYXJnKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgdmFyIGluZm8gPSBnZW5ba2V5XShhcmcpO1xuICAgICAgICAgIHZhciB2YWx1ZSA9IGluZm8udmFsdWU7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaW5mby5kb25lKSB7XG4gICAgICAgICAgcmVzb2x2ZSh2YWx1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIF9wcm9taXNlMi5kZWZhdWx0LnJlc29sdmUodmFsdWUpLnRoZW4oZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBzdGVwKFwibmV4dFwiLCB2YWx1ZSk7XG4gICAgICAgICAgfSwgZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgc3RlcChcInRocm93XCIsIGVycik7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHN0ZXAoXCJuZXh0XCIpO1xuICAgIH0pO1xuICB9O1xufTsiLCJcInVzZSBzdHJpY3RcIjtcblxuLypcbiAgTUlUIExpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcbiAgQXV0aG9yIFRvYmlhcyBLb3BwZXJzIEBzb2tyYVxuKi9cbi8vIGNzcyBiYXNlIGNvZGUsIGluamVjdGVkIGJ5IHRoZSBjc3MtbG9hZGVyXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuYy1uYW1lc1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAodXNlU291cmNlTWFwKSB7XG4gIHZhciBsaXN0ID0gW107IC8vIHJldHVybiB0aGUgbGlzdCBvZiBtb2R1bGVzIGFzIGNzcyBzdHJpbmdcblxuICBsaXN0LnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG4gICAgcmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICB2YXIgY29udGVudCA9IGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcoaXRlbSwgdXNlU291cmNlTWFwKTtcblxuICAgICAgaWYgKGl0ZW1bMl0pIHtcbiAgICAgICAgcmV0dXJuIFwiQG1lZGlhIFwiLmNvbmNhdChpdGVtWzJdLCBcIiB7XCIpLmNvbmNhdChjb250ZW50LCBcIn1cIik7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBjb250ZW50O1xuICAgIH0pLmpvaW4oJycpO1xuICB9OyAvLyBpbXBvcnQgYSBsaXN0IG9mIG1vZHVsZXMgaW50byB0aGUgbGlzdFxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuYy1uYW1lc1xuXG5cbiAgbGlzdC5pID0gZnVuY3Rpb24gKG1vZHVsZXMsIG1lZGlhUXVlcnksIGRlZHVwZSkge1xuICAgIGlmICh0eXBlb2YgbW9kdWxlcyA9PT0gJ3N0cmluZycpIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICAgICAgbW9kdWxlcyA9IFtbbnVsbCwgbW9kdWxlcywgJyddXTtcbiAgICB9XG5cbiAgICB2YXIgYWxyZWFkeUltcG9ydGVkTW9kdWxlcyA9IHt9O1xuXG4gICAgaWYgKGRlZHVwZSkge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBwcmVmZXItZGVzdHJ1Y3R1cmluZ1xuICAgICAgICB2YXIgaWQgPSB0aGlzW2ldWzBdO1xuXG4gICAgICAgIGlmIChpZCAhPSBudWxsKSB7XG4gICAgICAgICAgYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpZF0gPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IG1vZHVsZXMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICB2YXIgaXRlbSA9IFtdLmNvbmNhdChtb2R1bGVzW19pXSk7XG5cbiAgICAgIGlmIChkZWR1cGUgJiYgYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpdGVtWzBdXSkge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29udGludWVcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGlmIChtZWRpYVF1ZXJ5KSB7XG4gICAgICAgIGlmICghaXRlbVsyXSkge1xuICAgICAgICAgIGl0ZW1bMl0gPSBtZWRpYVF1ZXJ5O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGl0ZW1bMl0gPSBcIlwiLmNvbmNhdChtZWRpYVF1ZXJ5LCBcIiBhbmQgXCIpLmNvbmNhdChpdGVtWzJdKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBsaXN0LnB1c2goaXRlbSk7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiBsaXN0O1xufTtcblxuZnVuY3Rpb24gY3NzV2l0aE1hcHBpbmdUb1N0cmluZyhpdGVtLCB1c2VTb3VyY2VNYXApIHtcbiAgdmFyIGNvbnRlbnQgPSBpdGVtWzFdIHx8ICcnOyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcHJlZmVyLWRlc3RydWN0dXJpbmdcblxuICB2YXIgY3NzTWFwcGluZyA9IGl0ZW1bM107XG5cbiAgaWYgKCFjc3NNYXBwaW5nKSB7XG4gICAgcmV0dXJuIGNvbnRlbnQ7XG4gIH1cblxuICBpZiAodXNlU291cmNlTWFwICYmIHR5cGVvZiBidG9hID09PSAnZnVuY3Rpb24nKSB7XG4gICAgdmFyIHNvdXJjZU1hcHBpbmcgPSB0b0NvbW1lbnQoY3NzTWFwcGluZyk7XG4gICAgdmFyIHNvdXJjZVVSTHMgPSBjc3NNYXBwaW5nLnNvdXJjZXMubWFwKGZ1bmN0aW9uIChzb3VyY2UpIHtcbiAgICAgIHJldHVybiBcIi8qIyBzb3VyY2VVUkw9XCIuY29uY2F0KGNzc01hcHBpbmcuc291cmNlUm9vdCB8fCAnJykuY29uY2F0KHNvdXJjZSwgXCIgKi9cIik7XG4gICAgfSk7XG4gICAgcmV0dXJuIFtjb250ZW50XS5jb25jYXQoc291cmNlVVJMcykuY29uY2F0KFtzb3VyY2VNYXBwaW5nXSkuam9pbignXFxuJyk7XG4gIH1cblxuICByZXR1cm4gW2NvbnRlbnRdLmpvaW4oJ1xcbicpO1xufSAvLyBBZGFwdGVkIGZyb20gY29udmVydC1zb3VyY2UtbWFwIChNSVQpXG5cblxuZnVuY3Rpb24gdG9Db21tZW50KHNvdXJjZU1hcCkge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcbiAgdmFyIGJhc2U2NCA9IGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSk7XG4gIHZhciBkYXRhID0gXCJzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxcIi5jb25jYXQoYmFzZTY0KTtcbiAgcmV0dXJuIFwiLyojIFwiLmNvbmNhdChkYXRhLCBcIiAqL1wiKTtcbn0iLCIvKipcbiAqIFRyYW5zbGF0ZXMgdGhlIGxpc3QgZm9ybWF0IHByb2R1Y2VkIGJ5IGNzcy1sb2FkZXIgaW50byBzb21ldGhpbmdcbiAqIGVhc2llciB0byBtYW5pcHVsYXRlLlxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBsaXN0VG9TdHlsZXMgKHBhcmVudElkLCBsaXN0KSB7XG4gIHZhciBzdHlsZXMgPSBbXVxuICB2YXIgbmV3U3R5bGVzID0ge31cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGl0ZW0gPSBsaXN0W2ldXG4gICAgdmFyIGlkID0gaXRlbVswXVxuICAgIHZhciBjc3MgPSBpdGVtWzFdXG4gICAgdmFyIG1lZGlhID0gaXRlbVsyXVxuICAgIHZhciBzb3VyY2VNYXAgPSBpdGVtWzNdXG4gICAgdmFyIHBhcnQgPSB7XG4gICAgICBpZDogcGFyZW50SWQgKyAnOicgKyBpLFxuICAgICAgY3NzOiBjc3MsXG4gICAgICBtZWRpYTogbWVkaWEsXG4gICAgICBzb3VyY2VNYXA6IHNvdXJjZU1hcFxuICAgIH1cbiAgICBpZiAoIW5ld1N0eWxlc1tpZF0pIHtcbiAgICAgIHN0eWxlcy5wdXNoKG5ld1N0eWxlc1tpZF0gPSB7IGlkOiBpZCwgcGFydHM6IFtwYXJ0XSB9KVxuICAgIH0gZWxzZSB7XG4gICAgICBuZXdTdHlsZXNbaWRdLnBhcnRzLnB1c2gocGFydClcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHN0eWxlc1xufVxuIiwiLypcbiAgTUlUIExpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcbiAgQXV0aG9yIFRvYmlhcyBLb3BwZXJzIEBzb2tyYVxuICBNb2RpZmllZCBieSBFdmFuIFlvdSBAeXl4OTkwODAzXG4qL1xuXG5pbXBvcnQgbGlzdFRvU3R5bGVzIGZyb20gJy4vbGlzdFRvU3R5bGVzJ1xuXG52YXIgaGFzRG9jdW1lbnQgPSB0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnXG5cbmlmICh0eXBlb2YgREVCVUcgIT09ICd1bmRlZmluZWQnICYmIERFQlVHKSB7XG4gIGlmICghaGFzRG9jdW1lbnQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgJ3Z1ZS1zdHlsZS1sb2FkZXIgY2Fubm90IGJlIHVzZWQgaW4gYSBub24tYnJvd3NlciBlbnZpcm9ubWVudC4gJyArXG4gICAgXCJVc2UgeyB0YXJnZXQ6ICdub2RlJyB9IGluIHlvdXIgV2VicGFjayBjb25maWcgdG8gaW5kaWNhdGUgYSBzZXJ2ZXItcmVuZGVyaW5nIGVudmlyb25tZW50LlwiXG4gICkgfVxufVxuXG4vKlxudHlwZSBTdHlsZU9iamVjdCA9IHtcbiAgaWQ6IG51bWJlcjtcbiAgcGFydHM6IEFycmF5PFN0eWxlT2JqZWN0UGFydD5cbn1cblxudHlwZSBTdHlsZU9iamVjdFBhcnQgPSB7XG4gIGNzczogc3RyaW5nO1xuICBtZWRpYTogc3RyaW5nO1xuICBzb3VyY2VNYXA6ID9zdHJpbmdcbn1cbiovXG5cbnZhciBzdHlsZXNJbkRvbSA9IHsvKlxuICBbaWQ6IG51bWJlcl06IHtcbiAgICBpZDogbnVtYmVyLFxuICAgIHJlZnM6IG51bWJlcixcbiAgICBwYXJ0czogQXJyYXk8KG9iaj86IFN0eWxlT2JqZWN0UGFydCkgPT4gdm9pZD5cbiAgfVxuKi99XG5cbnZhciBoZWFkID0gaGFzRG9jdW1lbnQgJiYgKGRvY3VtZW50LmhlYWQgfHwgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2hlYWQnKVswXSlcbnZhciBzaW5nbGV0b25FbGVtZW50ID0gbnVsbFxudmFyIHNpbmdsZXRvbkNvdW50ZXIgPSAwXG52YXIgaXNQcm9kdWN0aW9uID0gZmFsc2VcbnZhciBub29wID0gZnVuY3Rpb24gKCkge31cbnZhciBvcHRpb25zID0gbnVsbFxudmFyIHNzcklkS2V5ID0gJ2RhdGEtdnVlLXNzci1pZCdcblxuLy8gRm9yY2Ugc2luZ2xlLXRhZyBzb2x1dGlvbiBvbiBJRTYtOSwgd2hpY2ggaGFzIGEgaGFyZCBsaW1pdCBvbiB0aGUgIyBvZiA8c3R5bGU+XG4vLyB0YWdzIGl0IHdpbGwgYWxsb3cgb24gYSBwYWdlXG52YXIgaXNPbGRJRSA9IHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnICYmIC9tc2llIFs2LTldXFxiLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKSlcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gYWRkU3R5bGVzQ2xpZW50IChwYXJlbnRJZCwgbGlzdCwgX2lzUHJvZHVjdGlvbiwgX29wdGlvbnMpIHtcbiAgaXNQcm9kdWN0aW9uID0gX2lzUHJvZHVjdGlvblxuXG4gIG9wdGlvbnMgPSBfb3B0aW9ucyB8fCB7fVxuXG4gIHZhciBzdHlsZXMgPSBsaXN0VG9TdHlsZXMocGFyZW50SWQsIGxpc3QpXG4gIGFkZFN0eWxlc1RvRG9tKHN0eWxlcylcblxuICByZXR1cm4gZnVuY3Rpb24gdXBkYXRlIChuZXdMaXN0KSB7XG4gICAgdmFyIG1heVJlbW92ZSA9IFtdXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHlsZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBpdGVtID0gc3R5bGVzW2ldXG4gICAgICB2YXIgZG9tU3R5bGUgPSBzdHlsZXNJbkRvbVtpdGVtLmlkXVxuICAgICAgZG9tU3R5bGUucmVmcy0tXG4gICAgICBtYXlSZW1vdmUucHVzaChkb21TdHlsZSlcbiAgICB9XG4gICAgaWYgKG5ld0xpc3QpIHtcbiAgICAgIHN0eWxlcyA9IGxpc3RUb1N0eWxlcyhwYXJlbnRJZCwgbmV3TGlzdClcbiAgICAgIGFkZFN0eWxlc1RvRG9tKHN0eWxlcylcbiAgICB9IGVsc2Uge1xuICAgICAgc3R5bGVzID0gW11cbiAgICB9XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtYXlSZW1vdmUubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBkb21TdHlsZSA9IG1heVJlbW92ZVtpXVxuICAgICAgaWYgKGRvbVN0eWxlLnJlZnMgPT09IDApIHtcbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBkb21TdHlsZS5wYXJ0cy5sZW5ndGg7IGorKykge1xuICAgICAgICAgIGRvbVN0eWxlLnBhcnRzW2pdKClcbiAgICAgICAgfVxuICAgICAgICBkZWxldGUgc3R5bGVzSW5Eb21bZG9tU3R5bGUuaWRdXG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGFkZFN0eWxlc1RvRG9tIChzdHlsZXMgLyogQXJyYXk8U3R5bGVPYmplY3Q+ICovKSB7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgc3R5bGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGl0ZW0gPSBzdHlsZXNbaV1cbiAgICB2YXIgZG9tU3R5bGUgPSBzdHlsZXNJbkRvbVtpdGVtLmlkXVxuICAgIGlmIChkb21TdHlsZSkge1xuICAgICAgZG9tU3R5bGUucmVmcysrXG4gICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGRvbVN0eWxlLnBhcnRzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgIGRvbVN0eWxlLnBhcnRzW2pdKGl0ZW0ucGFydHNbal0pXG4gICAgICB9XG4gICAgICBmb3IgKDsgaiA8IGl0ZW0ucGFydHMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgZG9tU3R5bGUucGFydHMucHVzaChhZGRTdHlsZShpdGVtLnBhcnRzW2pdKSlcbiAgICAgIH1cbiAgICAgIGlmIChkb21TdHlsZS5wYXJ0cy5sZW5ndGggPiBpdGVtLnBhcnRzLmxlbmd0aCkge1xuICAgICAgICBkb21TdHlsZS5wYXJ0cy5sZW5ndGggPSBpdGVtLnBhcnRzLmxlbmd0aFxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgcGFydHMgPSBbXVxuICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBpdGVtLnBhcnRzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgIHBhcnRzLnB1c2goYWRkU3R5bGUoaXRlbS5wYXJ0c1tqXSkpXG4gICAgICB9XG4gICAgICBzdHlsZXNJbkRvbVtpdGVtLmlkXSA9IHsgaWQ6IGl0ZW0uaWQsIHJlZnM6IDEsIHBhcnRzOiBwYXJ0cyB9XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVN0eWxlRWxlbWVudCAoKSB7XG4gIHZhciBzdHlsZUVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpXG4gIHN0eWxlRWxlbWVudC50eXBlID0gJ3RleHQvY3NzJ1xuICBoZWFkLmFwcGVuZENoaWxkKHN0eWxlRWxlbWVudClcbiAgcmV0dXJuIHN0eWxlRWxlbWVudFxufVxuXG5mdW5jdGlvbiBhZGRTdHlsZSAob2JqIC8qIFN0eWxlT2JqZWN0UGFydCAqLykge1xuICB2YXIgdXBkYXRlLCByZW1vdmVcbiAgdmFyIHN0eWxlRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ3N0eWxlWycgKyBzc3JJZEtleSArICd+PVwiJyArIG9iai5pZCArICdcIl0nKVxuXG4gIGlmIChzdHlsZUVsZW1lbnQpIHtcbiAgICBpZiAoaXNQcm9kdWN0aW9uKSB7XG4gICAgICAvLyBoYXMgU1NSIHN0eWxlcyBhbmQgaW4gcHJvZHVjdGlvbiBtb2RlLlxuICAgICAgLy8gc2ltcGx5IGRvIG5vdGhpbmcuXG4gICAgICByZXR1cm4gbm9vcFxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBoYXMgU1NSIHN0eWxlcyBidXQgaW4gZGV2IG1vZGUuXG4gICAgICAvLyBmb3Igc29tZSByZWFzb24gQ2hyb21lIGNhbid0IGhhbmRsZSBzb3VyY2UgbWFwIGluIHNlcnZlci1yZW5kZXJlZFxuICAgICAgLy8gc3R5bGUgdGFncyAtIHNvdXJjZSBtYXBzIGluIDxzdHlsZT4gb25seSB3b3JrcyBpZiB0aGUgc3R5bGUgdGFnIGlzXG4gICAgICAvLyBjcmVhdGVkIGFuZCBpbnNlcnRlZCBkeW5hbWljYWxseS4gU28gd2UgcmVtb3ZlIHRoZSBzZXJ2ZXIgcmVuZGVyZWRcbiAgICAgIC8vIHN0eWxlcyBhbmQgaW5qZWN0IG5ldyBvbmVzLlxuICAgICAgc3R5bGVFbGVtZW50LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc3R5bGVFbGVtZW50KVxuICAgIH1cbiAgfVxuXG4gIGlmIChpc09sZElFKSB7XG4gICAgLy8gdXNlIHNpbmdsZXRvbiBtb2RlIGZvciBJRTkuXG4gICAgdmFyIHN0eWxlSW5kZXggPSBzaW5nbGV0b25Db3VudGVyKytcbiAgICBzdHlsZUVsZW1lbnQgPSBzaW5nbGV0b25FbGVtZW50IHx8IChzaW5nbGV0b25FbGVtZW50ID0gY3JlYXRlU3R5bGVFbGVtZW50KCkpXG4gICAgdXBkYXRlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlRWxlbWVudCwgc3R5bGVJbmRleCwgZmFsc2UpXG4gICAgcmVtb3ZlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlRWxlbWVudCwgc3R5bGVJbmRleCwgdHJ1ZSlcbiAgfSBlbHNlIHtcbiAgICAvLyB1c2UgbXVsdGktc3R5bGUtdGFnIG1vZGUgaW4gYWxsIG90aGVyIGNhc2VzXG4gICAgc3R5bGVFbGVtZW50ID0gY3JlYXRlU3R5bGVFbGVtZW50KClcbiAgICB1cGRhdGUgPSBhcHBseVRvVGFnLmJpbmQobnVsbCwgc3R5bGVFbGVtZW50KVxuICAgIHJlbW92ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHN0eWxlRWxlbWVudC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHN0eWxlRWxlbWVudClcbiAgICB9XG4gIH1cblxuICB1cGRhdGUob2JqKVxuXG4gIHJldHVybiBmdW5jdGlvbiB1cGRhdGVTdHlsZSAobmV3T2JqIC8qIFN0eWxlT2JqZWN0UGFydCAqLykge1xuICAgIGlmIChuZXdPYmopIHtcbiAgICAgIGlmIChuZXdPYmouY3NzID09PSBvYmouY3NzICYmXG4gICAgICAgICAgbmV3T2JqLm1lZGlhID09PSBvYmoubWVkaWEgJiZcbiAgICAgICAgICBuZXdPYmouc291cmNlTWFwID09PSBvYmouc291cmNlTWFwKSB7XG4gICAgICAgIHJldHVyblxuICAgICAgfVxuICAgICAgdXBkYXRlKG9iaiA9IG5ld09iailcbiAgICB9IGVsc2Uge1xuICAgICAgcmVtb3ZlKClcbiAgICB9XG4gIH1cbn1cblxudmFyIHJlcGxhY2VUZXh0ID0gKGZ1bmN0aW9uICgpIHtcbiAgdmFyIHRleHRTdG9yZSA9IFtdXG5cbiAgcmV0dXJuIGZ1bmN0aW9uIChpbmRleCwgcmVwbGFjZW1lbnQpIHtcbiAgICB0ZXh0U3RvcmVbaW5kZXhdID0gcmVwbGFjZW1lbnRcbiAgICByZXR1cm4gdGV4dFN0b3JlLmZpbHRlcihCb29sZWFuKS5qb2luKCdcXG4nKVxuICB9XG59KSgpXG5cbmZ1bmN0aW9uIGFwcGx5VG9TaW5nbGV0b25UYWcgKHN0eWxlRWxlbWVudCwgaW5kZXgsIHJlbW92ZSwgb2JqKSB7XG4gIHZhciBjc3MgPSByZW1vdmUgPyAnJyA6IG9iai5jc3NcblxuICBpZiAoc3R5bGVFbGVtZW50LnN0eWxlU2hlZXQpIHtcbiAgICBzdHlsZUVsZW1lbnQuc3R5bGVTaGVldC5jc3NUZXh0ID0gcmVwbGFjZVRleHQoaW5kZXgsIGNzcylcbiAgfSBlbHNlIHtcbiAgICB2YXIgY3NzTm9kZSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcylcbiAgICB2YXIgY2hpbGROb2RlcyA9IHN0eWxlRWxlbWVudC5jaGlsZE5vZGVzXG4gICAgaWYgKGNoaWxkTm9kZXNbaW5kZXhdKSBzdHlsZUVsZW1lbnQucmVtb3ZlQ2hpbGQoY2hpbGROb2Rlc1tpbmRleF0pXG4gICAgaWYgKGNoaWxkTm9kZXMubGVuZ3RoKSB7XG4gICAgICBzdHlsZUVsZW1lbnQuaW5zZXJ0QmVmb3JlKGNzc05vZGUsIGNoaWxkTm9kZXNbaW5kZXhdKVxuICAgIH0gZWxzZSB7XG4gICAgICBzdHlsZUVsZW1lbnQuYXBwZW5kQ2hpbGQoY3NzTm9kZSlcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gYXBwbHlUb1RhZyAoc3R5bGVFbGVtZW50LCBvYmopIHtcbiAgdmFyIGNzcyA9IG9iai5jc3NcbiAgdmFyIG1lZGlhID0gb2JqLm1lZGlhXG4gIHZhciBzb3VyY2VNYXAgPSBvYmouc291cmNlTWFwXG5cbiAgaWYgKG1lZGlhKSB7XG4gICAgc3R5bGVFbGVtZW50LnNldEF0dHJpYnV0ZSgnbWVkaWEnLCBtZWRpYSlcbiAgfVxuICBpZiAob3B0aW9ucy5zc3JJZCkge1xuICAgIHN0eWxlRWxlbWVudC5zZXRBdHRyaWJ1dGUoc3NySWRLZXksIG9iai5pZClcbiAgfVxuXG4gIGlmIChzb3VyY2VNYXApIHtcbiAgICAvLyBodHRwczovL2RldmVsb3Blci5jaHJvbWUuY29tL2RldnRvb2xzL2RvY3MvamF2YXNjcmlwdC1kZWJ1Z2dpbmdcbiAgICAvLyB0aGlzIG1ha2VzIHNvdXJjZSBtYXBzIGluc2lkZSBzdHlsZSB0YWdzIHdvcmsgcHJvcGVybHkgaW4gQ2hyb21lXG4gICAgY3NzICs9ICdcXG4vKiMgc291cmNlVVJMPScgKyBzb3VyY2VNYXAuc291cmNlc1swXSArICcgKi8nXG4gICAgLy8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMjY2MDM4NzVcbiAgICBjc3MgKz0gJ1xcbi8qIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsJyArIGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSkgKyAnICovJ1xuICB9XG5cbiAgaWYgKHN0eWxlRWxlbWVudC5zdHlsZVNoZWV0KSB7XG4gICAgc3R5bGVFbGVtZW50LnN0eWxlU2hlZXQuY3NzVGV4dCA9IGNzc1xuICB9IGVsc2Uge1xuICAgIHdoaWxlIChzdHlsZUVsZW1lbnQuZmlyc3RDaGlsZCkge1xuICAgICAgc3R5bGVFbGVtZW50LnJlbW92ZUNoaWxkKHN0eWxlRWxlbWVudC5maXJzdENoaWxkKVxuICAgIH1cbiAgICBzdHlsZUVsZW1lbnQuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKSlcbiAgfVxufVxuIiwiLyoqXG4gKiAyMDA3LTIwMjAgUHJlc3RhU2hvcCBhbmQgQ29udHJpYnV0b3JzXG4gKlxuICogTk9USUNFIE9GIExJQ0VOU0VcbiAqXG4gKiBUaGlzIHNvdXJjZSBmaWxlIGlzIHN1YmplY3QgdG8gdGhlIEFjYWRlbWljIEZyZWUgTGljZW5zZSAzLjAgKEFGTC0zLjApXG4gKiB0aGF0IGlzIGJ1bmRsZWQgd2l0aCB0aGlzIHBhY2thZ2UgaW4gdGhlIGZpbGUgTElDRU5TRS50eHQuXG4gKiBJdCBpcyBhbHNvIGF2YWlsYWJsZSB0aHJvdWdoIHRoZSB3b3JsZC13aWRlLXdlYiBhdCB0aGlzIFVSTDpcbiAqIGh0dHBzOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvQUZMLTMuMFxuICogSWYgeW91IGRpZCBub3QgcmVjZWl2ZSBhIGNvcHkgb2YgdGhlIGxpY2Vuc2UgYW5kIGFyZSB1bmFibGUgdG9cbiAqIG9idGFpbiBpdCB0aHJvdWdoIHRoZSB3b3JsZC13aWRlLXdlYiwgcGxlYXNlIHNlbmQgYW4gZW1haWxcbiAqIHRvIGxpY2Vuc2VAcHJlc3Rhc2hvcC5jb20gc28gd2UgY2FuIHNlbmQgeW91IGEgY29weSBpbW1lZGlhdGVseS5cbiAqXG4gKiBAYXV0aG9yICAgIFByZXN0YVNob3AgU0EgPGNvbnRhY3RAcHJlc3Rhc2hvcC5jb20+XG4gKiBAY29weXJpZ2h0IDIwMDctMjAyMCBQcmVzdGFTaG9wIFNBIGFuZCBDb250cmlidXRvcnNcbiAqIEBsaWNlbnNlICAgaHR0cHM6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9BRkwtMy4wIEFjYWRlbWljIEZyZWUgTGljZW5zZSAzLjAgKEFGTC0zLjApXG4gKiBJbnRlcm5hdGlvbmFsIFJlZ2lzdGVyZWQgVHJhZGVtYXJrICYgUHJvcGVydHkgb2YgUHJlc3RhU2hvcCBTQVxuICovXG5pbXBvcnQgVnVlIGZyb20gJ3Z1ZSc7XG5pbXBvcnQgVnVlQXBvbGxvIGZyb20gJ3Z1ZS1hcG9sbG8nO1xuaW1wb3J0IGFwb2xsb0NsaWVudCBmcm9tICdAZ3JhcGhxbEZpbGVzL2NsaWVudCc7XG5cbi8qKlxuICogSW5pdCBhIFZ1ZUpTIGFwcGxpY2F0aW9uIHRvIGtlZXAgbW9ub2xpdGggZmVhdHVyZXMgc3VjaCBhcyBob29rcyBvciBldmVudCB0aGUgdXNlIG9mIHR3aWcvc21hcnR5XG4gKlxuICogQHBhcmFtIHtWdWV9IGNvbXBvbmVudCBUaGUgY29tcG9uZW50IHRvIGJlIGluaXRcbiAqIEBwYXJhbSB7U3RyaW5nfSBjb21wb25lbnRTZWxlY3RvciBBIHNlbGVjdG9yIGZvciBxdWVyeVNlbGVjdG9yQWxsXG4gKiBAcGFyYW0ge0FycmF5W09iamVjdF19IHByb3BzIEFuIGFycmF5IGNvbnRhaW5pbmcgT2JqZWN0e25hbWUsIHR5cGV9IHRvIHBhcnNlIGludFxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbml0QXBwKGNvbXBvbmVudCwgY29tcG9uZW50U2VsZWN0b3IsIHByb3BzKSB7XG4gIFZ1ZS51c2UoVnVlQXBvbGxvKTtcblxuICBjb25zdCBhcG9sbG9Qcm92aWRlciA9IG5ldyBWdWVBcG9sbG8oe1xuICAgIGRlZmF1bHRDbGllbnQ6IGFwb2xsb0NsaWVudCxcbiAgfSk7XG5cbiAgY29uc3QgY29tcG9uZW50RWxlbWVudHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGNvbXBvbmVudFNlbGVjdG9yKTtcbiAgY29uc3QgQ29tcG9uZW50Um9vdCA9IFZ1ZS5leHRlbmQoY29tcG9uZW50KTtcblxuICBjb25zdCBwcm9wc0RhdGEgPSB7fTtcblxuICBjb21wb25lbnRFbGVtZW50cy5mb3JFYWNoKChlKSA9PiB7XG4gICAgLyogZXNsaW50LWRpc2FibGUgKi9cbiAgICBmb3IgKGNvbnN0IHByb3Agb2YgcHJvcHMpIHtcbiAgICAgIGlmIChlLmRhdGFzZXRbcHJvcC5uYW1lXSkge1xuICAgICAgICBpZiAocHJvcC50eXBlID09PSBOdW1iZXIpIHtcbiAgICAgICAgICBwcm9wc0RhdGFbcHJvcC5uYW1lXSA9IHBhcnNlSW50KGUuZGF0YXNldFtwcm9wLm5hbWVdLCAxMCk7XG4gICAgICAgIH0gZWxzZSBpZiAocHJvcC50eXBlID09PSBCb29sZWFuKSB7XG4gICAgICAgICAgcHJvcHNEYXRhW3Byb3AubmFtZV0gPSBlLmRhdGFzZXRbcHJvcC5uYW1lXSA9PT0gJ3RydWUnO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHByb3BzRGF0YVtwcm9wLm5hbWVdID0gZS5kYXRhc2V0W3Byb3AubmFtZV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgLyogZXNsaW50LWVuYWJsZSAqL1xuXG4gICAgbmV3IENvbXBvbmVudFJvb3Qoe1xuICAgICAgZWw6IGUsXG4gICAgICBkZWxpbWl0ZXJzOiBbJygoJywgJykpJ10sXG4gICAgICBhcG9sbG9Qcm92aWRlcixcbiAgICAgIHByb3BzRGF0YSxcbiAgICB9KTtcbiAgfSk7XG59XG4iLCJpbXBvcnQgemVuT2JzZXJ2YWJsZSBmcm9tICd6ZW4tb2JzZXJ2YWJsZSc7XG5cbnZhciBPYnNlcnZhYmxlID0gemVuT2JzZXJ2YWJsZTtcblxuZXhwb3J0IGRlZmF1bHQgT2JzZXJ2YWJsZTtcbmV4cG9ydCB7IE9ic2VydmFibGUgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJ1bmRsZS5lc20uanMubWFwXG4iLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9kZWZpbmVQcm9wZXJ0aWVzID0gcmVxdWlyZShcIi4uL2NvcmUtanMvb2JqZWN0L2RlZmluZS1wcm9wZXJ0aWVzXCIpO1xuXG52YXIgX2RlZmluZVByb3BlcnRpZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZGVmaW5lUHJvcGVydGllcyk7XG5cbnZhciBfZnJlZXplID0gcmVxdWlyZShcIi4uL2NvcmUtanMvb2JqZWN0L2ZyZWV6ZVwiKTtcblxudmFyIF9mcmVlemUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZnJlZXplKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKHN0cmluZ3MsIHJhdykge1xuICByZXR1cm4gKDAsIF9mcmVlemUyLmRlZmF1bHQpKCgwLCBfZGVmaW5lUHJvcGVydGllczIuZGVmYXVsdCkoc3RyaW5ncywge1xuICAgIHJhdzoge1xuICAgICAgdmFsdWU6ICgwLCBfZnJlZXplMi5kZWZhdWx0KShyYXcpXG4gICAgfVxuICB9KSk7XG59OyIsIi8vIHNoaW0gZm9yIHVzaW5nIHByb2Nlc3MgaW4gYnJvd3NlclxudmFyIHByb2Nlc3MgPSBtb2R1bGUuZXhwb3J0cyA9IHt9O1xuXG4vLyBjYWNoZWQgZnJvbSB3aGF0ZXZlciBnbG9iYWwgaXMgcHJlc2VudCBzbyB0aGF0IHRlc3QgcnVubmVycyB0aGF0IHN0dWIgaXRcbi8vIGRvbid0IGJyZWFrIHRoaW5ncy4gIEJ1dCB3ZSBuZWVkIHRvIHdyYXAgaXQgaW4gYSB0cnkgY2F0Y2ggaW4gY2FzZSBpdCBpc1xuLy8gd3JhcHBlZCBpbiBzdHJpY3QgbW9kZSBjb2RlIHdoaWNoIGRvZXNuJ3QgZGVmaW5lIGFueSBnbG9iYWxzLiAgSXQncyBpbnNpZGUgYVxuLy8gZnVuY3Rpb24gYmVjYXVzZSB0cnkvY2F0Y2hlcyBkZW9wdGltaXplIGluIGNlcnRhaW4gZW5naW5lcy5cblxudmFyIGNhY2hlZFNldFRpbWVvdXQ7XG52YXIgY2FjaGVkQ2xlYXJUaW1lb3V0O1xuXG5mdW5jdGlvbiBkZWZhdWx0U2V0VGltb3V0KCkge1xuICAgIHRocm93IG5ldyBFcnJvcignc2V0VGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCcpO1xufVxuZnVuY3Rpb24gZGVmYXVsdENsZWFyVGltZW91dCAoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdjbGVhclRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcbn1cbihmdW5jdGlvbiAoKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHR5cGVvZiBzZXRUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBkZWZhdWx0U2V0VGltb3V0O1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHR5cGVvZiBjbGVhclRpbWVvdXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG4gICAgfVxufSAoKSlcbmZ1bmN0aW9uIHJ1blRpbWVvdXQoZnVuKSB7XG4gICAgaWYgKGNhY2hlZFNldFRpbWVvdXQgPT09IHNldFRpbWVvdXQpIHtcbiAgICAgICAgLy9ub3JtYWwgZW52aXJvbWVudHMgaW4gc2FuZSBzaXR1YXRpb25zXG4gICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfVxuICAgIC8vIGlmIHNldFRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG4gICAgaWYgKChjYWNoZWRTZXRUaW1lb3V0ID09PSBkZWZhdWx0U2V0VGltb3V0IHx8ICFjYWNoZWRTZXRUaW1lb3V0KSAmJiBzZXRUaW1lb3V0KSB7XG4gICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfSBjYXRjaChlKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbChudWxsLCBmdW4sIDApO1xuICAgICAgICB9IGNhdGNoKGUpe1xuICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3JcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwodGhpcywgZnVuLCAwKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG59XG5mdW5jdGlvbiBydW5DbGVhclRpbWVvdXQobWFya2VyKSB7XG4gICAgaWYgKGNhY2hlZENsZWFyVGltZW91dCA9PT0gY2xlYXJUaW1lb3V0KSB7XG4gICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfVxuICAgIC8vIGlmIGNsZWFyVGltZW91dCB3YXNuJ3QgYXZhaWxhYmxlIGJ1dCB3YXMgbGF0dGVyIGRlZmluZWRcbiAgICBpZiAoKGNhY2hlZENsZWFyVGltZW91dCA9PT0gZGVmYXVsdENsZWFyVGltZW91dCB8fCAhY2FjaGVkQ2xlYXJUaW1lb3V0KSAmJiBjbGVhclRpbWVvdXQpIHtcbiAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gY2xlYXJUaW1lb3V0O1xuICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIC8vIHdoZW4gd2hlbiBzb21lYm9keSBoYXMgc2NyZXdlZCB3aXRoIHNldFRpbWVvdXQgYnV0IG5vIEkuRS4gbWFkZG5lc3NcbiAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH0gY2F0Y2ggKGUpe1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gV2hlbiB3ZSBhcmUgaW4gSS5FLiBidXQgdGhlIHNjcmlwdCBoYXMgYmVlbiBldmFsZWQgc28gSS5FLiBkb2Vzbid0ICB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKG51bGwsIG1hcmtlcik7XG4gICAgICAgIH0gY2F0Y2ggKGUpe1xuICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3IuXG4gICAgICAgICAgICAvLyBTb21lIHZlcnNpb25zIG9mIEkuRS4gaGF2ZSBkaWZmZXJlbnQgcnVsZXMgZm9yIGNsZWFyVGltZW91dCB2cyBzZXRUaW1lb3V0XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwodGhpcywgbWFya2VyKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG5cbn1cbnZhciBxdWV1ZSA9IFtdO1xudmFyIGRyYWluaW5nID0gZmFsc2U7XG52YXIgY3VycmVudFF1ZXVlO1xudmFyIHF1ZXVlSW5kZXggPSAtMTtcblxuZnVuY3Rpb24gY2xlYW5VcE5leHRUaWNrKCkge1xuICAgIGlmICghZHJhaW5pbmcgfHwgIWN1cnJlbnRRdWV1ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgaWYgKGN1cnJlbnRRdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgcXVldWUgPSBjdXJyZW50UXVldWUuY29uY2F0KHF1ZXVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgfVxuICAgIGlmIChxdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgZHJhaW5RdWV1ZSgpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZHJhaW5RdWV1ZSgpIHtcbiAgICBpZiAoZHJhaW5pbmcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgdGltZW91dCA9IHJ1blRpbWVvdXQoY2xlYW5VcE5leHRUaWNrKTtcbiAgICBkcmFpbmluZyA9IHRydWU7XG5cbiAgICB2YXIgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIHdoaWxlKGxlbikge1xuICAgICAgICBjdXJyZW50UXVldWUgPSBxdWV1ZTtcbiAgICAgICAgcXVldWUgPSBbXTtcbiAgICAgICAgd2hpbGUgKCsrcXVldWVJbmRleCA8IGxlbikge1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRRdWV1ZSkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRRdWV1ZVtxdWV1ZUluZGV4XS5ydW4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgICAgIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB9XG4gICAgY3VycmVudFF1ZXVlID0gbnVsbDtcbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIHJ1bkNsZWFyVGltZW91dCh0aW1lb3V0KTtcbn1cblxucHJvY2Vzcy5uZXh0VGljayA9IGZ1bmN0aW9uIChmdW4pIHtcbiAgICB2YXIgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoIC0gMSk7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBhcmdzW2kgLSAxXSA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBxdWV1ZS5wdXNoKG5ldyBJdGVtKGZ1biwgYXJncykpO1xuICAgIGlmIChxdWV1ZS5sZW5ndGggPT09IDEgJiYgIWRyYWluaW5nKSB7XG4gICAgICAgIHJ1blRpbWVvdXQoZHJhaW5RdWV1ZSk7XG4gICAgfVxufTtcblxuLy8gdjggbGlrZXMgcHJlZGljdGlibGUgb2JqZWN0c1xuZnVuY3Rpb24gSXRlbShmdW4sIGFycmF5KSB7XG4gICAgdGhpcy5mdW4gPSBmdW47XG4gICAgdGhpcy5hcnJheSA9IGFycmF5O1xufVxuSXRlbS5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZnVuLmFwcGx5KG51bGwsIHRoaXMuYXJyYXkpO1xufTtcbnByb2Nlc3MudGl0bGUgPSAnYnJvd3Nlcic7XG5wcm9jZXNzLmJyb3dzZXIgPSB0cnVlO1xucHJvY2Vzcy5lbnYgPSB7fTtcbnByb2Nlc3MuYXJndiA9IFtdO1xucHJvY2Vzcy52ZXJzaW9uID0gJyc7IC8vIGVtcHR5IHN0cmluZyB0byBhdm9pZCByZWdleHAgaXNzdWVzXG5wcm9jZXNzLnZlcnNpb25zID0ge307XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG5wcm9jZXNzLm9uID0gbm9vcDtcbnByb2Nlc3MuYWRkTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5vbmNlID0gbm9vcDtcbnByb2Nlc3Mub2ZmID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBub29wO1xucHJvY2Vzcy5lbWl0ID0gbm9vcDtcbnByb2Nlc3MucHJlcGVuZExpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3MucHJlcGVuZE9uY2VMaXN0ZW5lciA9IG5vb3A7XG5cbnByb2Nlc3MubGlzdGVuZXJzID0gZnVuY3Rpb24gKG5hbWUpIHsgcmV0dXJuIFtdIH1cblxucHJvY2Vzcy5iaW5kaW5nID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuYmluZGluZyBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xuXG5wcm9jZXNzLmN3ZCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuICcvJyB9O1xucHJvY2Vzcy5jaGRpciA9IGZ1bmN0aW9uIChkaXIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuY2hkaXIgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcbnByb2Nlc3MudW1hc2sgPSBmdW5jdGlvbigpIHsgcmV0dXJuIDA7IH07XG4iLCIvLyBVbmlxdWUgSUQgY3JlYXRpb24gcmVxdWlyZXMgYSBoaWdoIHF1YWxpdHkgcmFuZG9tICMgZ2VuZXJhdG9yLiAgSW4gdGhlXG4vLyBicm93c2VyIHRoaXMgaXMgYSBsaXR0bGUgY29tcGxpY2F0ZWQgZHVlIHRvIHVua25vd24gcXVhbGl0eSBvZiBNYXRoLnJhbmRvbSgpXG4vLyBhbmQgaW5jb25zaXN0ZW50IHN1cHBvcnQgZm9yIHRoZSBgY3J5cHRvYCBBUEkuICBXZSBkbyB0aGUgYmVzdCB3ZSBjYW4gdmlhXG4vLyBmZWF0dXJlLWRldGVjdGlvblxuXG4vLyBnZXRSYW5kb21WYWx1ZXMgbmVlZHMgdG8gYmUgaW52b2tlZCBpbiBhIGNvbnRleHQgd2hlcmUgXCJ0aGlzXCIgaXMgYSBDcnlwdG9cbi8vIGltcGxlbWVudGF0aW9uLiBBbHNvLCBmaW5kIHRoZSBjb21wbGV0ZSBpbXBsZW1lbnRhdGlvbiBvZiBjcnlwdG8gb24gSUUxMS5cbnZhciBnZXRSYW5kb21WYWx1ZXMgPSAodHlwZW9mKGNyeXB0bykgIT0gJ3VuZGVmaW5lZCcgJiYgY3J5cHRvLmdldFJhbmRvbVZhbHVlcyAmJiBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzLmJpbmQoY3J5cHRvKSkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAodHlwZW9mKG1zQ3J5cHRvKSAhPSAndW5kZWZpbmVkJyAmJiB0eXBlb2Ygd2luZG93Lm1zQ3J5cHRvLmdldFJhbmRvbVZhbHVlcyA9PSAnZnVuY3Rpb24nICYmIG1zQ3J5cHRvLmdldFJhbmRvbVZhbHVlcy5iaW5kKG1zQ3J5cHRvKSk7XG5cbmlmIChnZXRSYW5kb21WYWx1ZXMpIHtcbiAgLy8gV0hBVFdHIGNyeXB0byBSTkcgLSBodHRwOi8vd2lraS53aGF0d2cub3JnL3dpa2kvQ3J5cHRvXG4gIHZhciBybmRzOCA9IG5ldyBVaW50OEFycmF5KDE2KTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bmRlZlxuXG4gIG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gd2hhdHdnUk5HKCkge1xuICAgIGdldFJhbmRvbVZhbHVlcyhybmRzOCk7XG4gICAgcmV0dXJuIHJuZHM4O1xuICB9O1xufSBlbHNlIHtcbiAgLy8gTWF0aC5yYW5kb20oKS1iYXNlZCAoUk5HKVxuICAvL1xuICAvLyBJZiBhbGwgZWxzZSBmYWlscywgdXNlIE1hdGgucmFuZG9tKCkuICBJdCdzIGZhc3QsIGJ1dCBpcyBvZiB1bnNwZWNpZmllZFxuICAvLyBxdWFsaXR5LlxuICB2YXIgcm5kcyA9IG5ldyBBcnJheSgxNik7XG5cbiAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBtYXRoUk5HKCkge1xuICAgIGZvciAodmFyIGkgPSAwLCByOyBpIDwgMTY7IGkrKykge1xuICAgICAgaWYgKChpICYgMHgwMykgPT09IDApIHIgPSBNYXRoLnJhbmRvbSgpICogMHgxMDAwMDAwMDA7XG4gICAgICBybmRzW2ldID0gciA+Pj4gKChpICYgMHgwMykgPDwgMykgJiAweGZmO1xuICAgIH1cblxuICAgIHJldHVybiBybmRzO1xuICB9O1xufVxuIiwiLyoqXG4gKiBDb252ZXJ0IGFycmF5IG9mIDE2IGJ5dGUgdmFsdWVzIHRvIFVVSUQgc3RyaW5nIGZvcm1hdCBvZiB0aGUgZm9ybTpcbiAqIFhYWFhYWFhYLVhYWFgtWFhYWC1YWFhYLVhYWFhYWFhYWFhYWFxuICovXG52YXIgYnl0ZVRvSGV4ID0gW107XG5mb3IgKHZhciBpID0gMDsgaSA8IDI1NjsgKytpKSB7XG4gIGJ5dGVUb0hleFtpXSA9IChpICsgMHgxMDApLnRvU3RyaW5nKDE2KS5zdWJzdHIoMSk7XG59XG5cbmZ1bmN0aW9uIGJ5dGVzVG9VdWlkKGJ1Ziwgb2Zmc2V0KSB7XG4gIHZhciBpID0gb2Zmc2V0IHx8IDA7XG4gIHZhciBidGggPSBieXRlVG9IZXg7XG4gIC8vIGpvaW4gdXNlZCB0byBmaXggbWVtb3J5IGlzc3VlIGNhdXNlZCBieSBjb25jYXRlbmF0aW9uOiBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvdjgvaXNzdWVzL2RldGFpbD9pZD0zMTc1I2M0XG4gIHJldHVybiAoW1xuICAgIGJ0aFtidWZbaSsrXV0sIGJ0aFtidWZbaSsrXV0sXG4gICAgYnRoW2J1ZltpKytdXSwgYnRoW2J1ZltpKytdXSwgJy0nLFxuICAgIGJ0aFtidWZbaSsrXV0sIGJ0aFtidWZbaSsrXV0sICctJyxcbiAgICBidGhbYnVmW2krK11dLCBidGhbYnVmW2krK11dLCAnLScsXG4gICAgYnRoW2J1ZltpKytdXSwgYnRoW2J1ZltpKytdXSwgJy0nLFxuICAgIGJ0aFtidWZbaSsrXV0sIGJ0aFtidWZbaSsrXV0sXG4gICAgYnRoW2J1ZltpKytdXSwgYnRoW2J1ZltpKytdXSxcbiAgICBidGhbYnVmW2krK11dLCBidGhbYnVmW2krK11dXG4gIF0pLmpvaW4oJycpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGJ5dGVzVG9VdWlkO1xuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gc3ltYm9sT2JzZXJ2YWJsZVBvbnlmaWxsKHJvb3QpIHtcblx0dmFyIHJlc3VsdDtcblx0dmFyIFN5bWJvbCA9IHJvb3QuU3ltYm9sO1xuXG5cdGlmICh0eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nKSB7XG5cdFx0aWYgKFN5bWJvbC5vYnNlcnZhYmxlKSB7XG5cdFx0XHRyZXN1bHQgPSBTeW1ib2wub2JzZXJ2YWJsZTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmVzdWx0ID0gU3ltYm9sKCdvYnNlcnZhYmxlJyk7XG5cdFx0XHRTeW1ib2wub2JzZXJ2YWJsZSA9IHJlc3VsdDtcblx0XHR9XG5cdH0gZWxzZSB7XG5cdFx0cmVzdWx0ID0gJ0BAb2JzZXJ2YWJsZSc7XG5cdH1cblxuXHRyZXR1cm4gcmVzdWx0O1xufTtcbiIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9saWIvT2JzZXJ2YWJsZS5qcycpLk9ic2VydmFibGU7XG4iLCJ2YXIgX2EgPSBPYmplY3QucHJvdG90eXBlLCB0b1N0cmluZyA9IF9hLnRvU3RyaW5nLCBoYXNPd25Qcm9wZXJ0eSA9IF9hLmhhc093blByb3BlcnR5O1xyXG52YXIgcHJldmlvdXNDb21wYXJpc29ucyA9IG5ldyBNYXAoKTtcclxuLyoqXHJcbiAqIFBlcmZvcm1zIGEgZGVlcCBlcXVhbGl0eSBjaGVjayBvbiB0d28gSmF2YVNjcmlwdCB2YWx1ZXMsIHRvbGVyYXRpbmcgY3ljbGVzLlxyXG4gKi9cclxuZnVuY3Rpb24gZXF1YWwoYSwgYikge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICByZXR1cm4gY2hlY2soYSwgYik7XHJcbiAgICB9XHJcbiAgICBmaW5hbGx5IHtcclxuICAgICAgICBwcmV2aW91c0NvbXBhcmlzb25zLmNsZWFyKCk7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gY2hlY2soYSwgYikge1xyXG4gICAgLy8gSWYgdGhlIHR3byB2YWx1ZXMgYXJlIHN0cmljdGx5IGVxdWFsLCBvdXIgam9iIGlzIGVhc3kuXHJcbiAgICBpZiAoYSA9PT0gYikge1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG4gICAgLy8gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZyByZXR1cm5zIGEgcmVwcmVzZW50YXRpb24gb2YgdGhlIHJ1bnRpbWUgdHlwZSBvZlxyXG4gICAgLy8gdGhlIGdpdmVuIHZhbHVlIHRoYXQgaXMgY29uc2lkZXJhYmx5IG1vcmUgcHJlY2lzZSB0aGFuIHR5cGVvZi5cclxuICAgIHZhciBhVGFnID0gdG9TdHJpbmcuY2FsbChhKTtcclxuICAgIHZhciBiVGFnID0gdG9TdHJpbmcuY2FsbChiKTtcclxuICAgIC8vIElmIHRoZSBydW50aW1lIHR5cGVzIG9mIGEgYW5kIGIgYXJlIGRpZmZlcmVudCwgdGhleSBjb3VsZCBtYXliZSBiZSBlcXVhbFxyXG4gICAgLy8gdW5kZXIgc29tZSBpbnRlcnByZXRhdGlvbiBvZiBlcXVhbGl0eSwgYnV0IGZvciBzaW1wbGljaXR5IGFuZCBwZXJmb3JtYW5jZVxyXG4gICAgLy8gd2UganVzdCByZXR1cm4gZmFsc2UgaW5zdGVhZC5cclxuICAgIGlmIChhVGFnICE9PSBiVGFnKSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgc3dpdGNoIChhVGFnKSB7XHJcbiAgICAgICAgY2FzZSAnW29iamVjdCBBcnJheV0nOlxyXG4gICAgICAgICAgICAvLyBBcnJheXMgYXJlIGEgbG90IGxpa2Ugb3RoZXIgb2JqZWN0cywgYnV0IHdlIGNhbiBjaGVhcGx5IGNvbXBhcmUgdGhlaXJcclxuICAgICAgICAgICAgLy8gbGVuZ3RocyBhcyBhIHNob3J0LWN1dCBiZWZvcmUgY29tcGFyaW5nIHRoZWlyIGVsZW1lbnRzLlxyXG4gICAgICAgICAgICBpZiAoYS5sZW5ndGggIT09IGIubGVuZ3RoKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIC8vIEZhbGwgdGhyb3VnaCB0byBvYmplY3QgY2FzZS4uLlxyXG4gICAgICAgIGNhc2UgJ1tvYmplY3QgT2JqZWN0XSc6IHtcclxuICAgICAgICAgICAgaWYgKHByZXZpb3VzbHlDb21wYXJlZChhLCBiKSlcclxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICB2YXIgYUtleXMgPSBPYmplY3Qua2V5cyhhKTtcclxuICAgICAgICAgICAgdmFyIGJLZXlzID0gT2JqZWN0LmtleXMoYik7XHJcbiAgICAgICAgICAgIC8vIElmIGBhYCBhbmQgYGJgIGhhdmUgYSBkaWZmZXJlbnQgbnVtYmVyIG9mIGVudW1lcmFibGUga2V5cywgdGhleVxyXG4gICAgICAgICAgICAvLyBtdXN0IGJlIGRpZmZlcmVudC5cclxuICAgICAgICAgICAgdmFyIGtleUNvdW50ID0gYUtleXMubGVuZ3RoO1xyXG4gICAgICAgICAgICBpZiAoa2V5Q291bnQgIT09IGJLZXlzLmxlbmd0aClcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgLy8gTm93IG1ha2Ugc3VyZSB0aGV5IGhhdmUgdGhlIHNhbWUga2V5cy5cclxuICAgICAgICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCBrZXlDb3VudDsgKytrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWhhc093blByb3BlcnR5LmNhbGwoYiwgYUtleXNba10pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIEZpbmFsbHksIGNoZWNrIGRlZXAgZXF1YWxpdHkgb2YgYWxsIGNoaWxkIHByb3BlcnRpZXMuXHJcbiAgICAgICAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwga2V5Q291bnQ7ICsraykge1xyXG4gICAgICAgICAgICAgICAgdmFyIGtleSA9IGFLZXlzW2tdO1xyXG4gICAgICAgICAgICAgICAgaWYgKCFjaGVjayhhW2tleV0sIGJba2V5XSkpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhc2UgJ1tvYmplY3QgRXJyb3JdJzpcclxuICAgICAgICAgICAgcmV0dXJuIGEubmFtZSA9PT0gYi5uYW1lICYmIGEubWVzc2FnZSA9PT0gYi5tZXNzYWdlO1xyXG4gICAgICAgIGNhc2UgJ1tvYmplY3QgTnVtYmVyXSc6XHJcbiAgICAgICAgICAgIC8vIEhhbmRsZSBOYU4sIHdoaWNoIGlzICE9PSBpdHNlbGYuXHJcbiAgICAgICAgICAgIGlmIChhICE9PSBhKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGIgIT09IGI7XHJcbiAgICAgICAgLy8gRmFsbCB0aHJvdWdoIHRvIHNoYXJlZCArYSA9PT0gK2IgY2FzZS4uLlxyXG4gICAgICAgIGNhc2UgJ1tvYmplY3QgQm9vbGVhbl0nOlxyXG4gICAgICAgIGNhc2UgJ1tvYmplY3QgRGF0ZV0nOlxyXG4gICAgICAgICAgICByZXR1cm4gK2EgPT09ICtiO1xyXG4gICAgICAgIGNhc2UgJ1tvYmplY3QgUmVnRXhwXSc6XHJcbiAgICAgICAgY2FzZSAnW29iamVjdCBTdHJpbmddJzpcclxuICAgICAgICAgICAgcmV0dXJuIGEgPT0gXCJcIiArIGI7XHJcbiAgICAgICAgY2FzZSAnW29iamVjdCBNYXBdJzpcclxuICAgICAgICBjYXNlICdbb2JqZWN0IFNldF0nOiB7XHJcbiAgICAgICAgICAgIGlmIChhLnNpemUgIT09IGIuc2l6ZSlcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgaWYgKHByZXZpb3VzbHlDb21wYXJlZChhLCBiKSlcclxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICB2YXIgYUl0ZXJhdG9yID0gYS5lbnRyaWVzKCk7XHJcbiAgICAgICAgICAgIHZhciBpc01hcCA9IGFUYWcgPT09ICdbb2JqZWN0IE1hcF0nO1xyXG4gICAgICAgICAgICB3aGlsZSAodHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGluZm8gPSBhSXRlcmF0b3IubmV4dCgpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGluZm8uZG9uZSlcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIC8vIElmIGEgaW5zdGFuY2VvZiBTZXQsIGFWYWx1ZSA9PT0gYUtleS5cclxuICAgICAgICAgICAgICAgIHZhciBfYSA9IGluZm8udmFsdWUsIGFLZXkgPSBfYVswXSwgYVZhbHVlID0gX2FbMV07XHJcbiAgICAgICAgICAgICAgICAvLyBTbyB0aGlzIHdvcmtzIHRoZSBzYW1lIHdheSBmb3IgYm90aCBTZXQgYW5kIE1hcC5cclxuICAgICAgICAgICAgICAgIGlmICghYi5oYXMoYUtleSkpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyBIb3dldmVyLCB3ZSBjYXJlIGFib3V0IGRlZXAgZXF1YWxpdHkgb2YgdmFsdWVzIG9ubHkgd2hlbiBkZWFsaW5nXHJcbiAgICAgICAgICAgICAgICAvLyB3aXRoIE1hcCBzdHJ1Y3R1cmVzLlxyXG4gICAgICAgICAgICAgICAgaWYgKGlzTWFwICYmICFjaGVjayhhVmFsdWUsIGIuZ2V0KGFLZXkpKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvLyBPdGhlcndpc2UgdGhlIHZhbHVlcyBhcmUgbm90IGVxdWFsLlxyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG59XHJcbmZ1bmN0aW9uIHByZXZpb3VzbHlDb21wYXJlZChhLCBiKSB7XHJcbiAgICAvLyBUaG91Z2ggY3ljbGljIHJlZmVyZW5jZXMgY2FuIG1ha2UgYW4gb2JqZWN0IGdyYXBoIGFwcGVhciBpbmZpbml0ZSBmcm9tIHRoZVxyXG4gICAgLy8gcGVyc3BlY3RpdmUgb2YgYSBkZXB0aC1maXJzdCB0cmF2ZXJzYWwsIHRoZSBncmFwaCBzdGlsbCBjb250YWlucyBhIGZpbml0ZVxyXG4gICAgLy8gbnVtYmVyIG9mIGRpc3RpbmN0IG9iamVjdCByZWZlcmVuY2VzLiBXZSB1c2UgdGhlIHByZXZpb3VzQ29tcGFyaXNvbnMgY2FjaGVcclxuICAgIC8vIHRvIGF2b2lkIGNvbXBhcmluZyB0aGUgc2FtZSBwYWlyIG9mIG9iamVjdCByZWZlcmVuY2VzIG1vcmUgdGhhbiBvbmNlLCB3aGljaFxyXG4gICAgLy8gZ3VhcmFudGVlcyB0ZXJtaW5hdGlvbiAoZXZlbiBpZiB3ZSBlbmQgdXAgY29tcGFyaW5nIGV2ZXJ5IG9iamVjdCBpbiBvbmVcclxuICAgIC8vIGdyYXBoIHRvIGV2ZXJ5IG9iamVjdCBpbiB0aGUgb3RoZXIgZ3JhcGgsIHdoaWNoIGlzIGV4dHJlbWVseSB1bmxpa2VseSksXHJcbiAgICAvLyB3aGlsZSBzdGlsbCBhbGxvd2luZyB3ZWlyZCBpc29tb3JwaGljIHN0cnVjdHVyZXMgKGxpa2UgcmluZ3Mgd2l0aCBkaWZmZXJlbnRcclxuICAgIC8vIGxlbmd0aHMpIGEgY2hhbmNlIHRvIHBhc3MgdGhlIGVxdWFsaXR5IHRlc3QuXHJcbiAgICB2YXIgYlNldCA9IHByZXZpb3VzQ29tcGFyaXNvbnMuZ2V0KGEpO1xyXG4gICAgaWYgKGJTZXQpIHtcclxuICAgICAgICAvLyBSZXR1cm4gdHJ1ZSBoZXJlIGJlY2F1c2Ugd2UgY2FuIGJlIHN1cmUgZmFsc2Ugd2lsbCBiZSByZXR1cm5lZCBzb21ld2hlcmVcclxuICAgICAgICAvLyBlbHNlIGlmIHRoZSBvYmplY3RzIGFyZSBub3QgZXF1aXZhbGVudC5cclxuICAgICAgICBpZiAoYlNldC5oYXMoYikpXHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgcHJldmlvdXNDb21wYXJpc29ucy5zZXQoYSwgYlNldCA9IG5ldyBTZXQpO1xyXG4gICAgfVxyXG4gICAgYlNldC5hZGQoYik7XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbn1cblxuZXhwb3J0IGRlZmF1bHQgZXF1YWw7XG5leHBvcnQgeyBlcXVhbCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZXF1YWxpdHkuZXNtLmpzLm1hcFxuIiwiKGZ1bmN0aW9uKCkgeyBtb2R1bGUuZXhwb3J0cyA9IHdpbmRvd1tcInByZXN0YXNob3BcIl07IH0oKSk7IiwiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTQtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG4vLyBUaGlzIG1ldGhvZCBvZiBvYnRhaW5pbmcgYSByZWZlcmVuY2UgdG8gdGhlIGdsb2JhbCBvYmplY3QgbmVlZHMgdG8gYmVcbi8vIGtlcHQgaWRlbnRpY2FsIHRvIHRoZSB3YXkgaXQgaXMgb2J0YWluZWQgaW4gcnVudGltZS5qc1xudmFyIGcgPSAoZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzIH0pKCkgfHwgRnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpO1xuXG4vLyBVc2UgYGdldE93blByb3BlcnR5TmFtZXNgIGJlY2F1c2Ugbm90IGFsbCBicm93c2VycyBzdXBwb3J0IGNhbGxpbmdcbi8vIGBoYXNPd25Qcm9wZXJ0eWAgb24gdGhlIGdsb2JhbCBgc2VsZmAgb2JqZWN0IGluIGEgd29ya2VyLiBTZWUgIzE4My5cbnZhciBoYWRSdW50aW1lID0gZy5yZWdlbmVyYXRvclJ1bnRpbWUgJiZcbiAgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoZykuaW5kZXhPZihcInJlZ2VuZXJhdG9yUnVudGltZVwiKSA+PSAwO1xuXG4vLyBTYXZlIHRoZSBvbGQgcmVnZW5lcmF0b3JSdW50aW1lIGluIGNhc2UgaXQgbmVlZHMgdG8gYmUgcmVzdG9yZWQgbGF0ZXIuXG52YXIgb2xkUnVudGltZSA9IGhhZFJ1bnRpbWUgJiYgZy5yZWdlbmVyYXRvclJ1bnRpbWU7XG5cbi8vIEZvcmNlIHJlZXZhbHV0YXRpb24gb2YgcnVudGltZS5qcy5cbmcucmVnZW5lcmF0b3JSdW50aW1lID0gdW5kZWZpbmVkO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuL3J1bnRpbWVcIik7XG5cbmlmIChoYWRSdW50aW1lKSB7XG4gIC8vIFJlc3RvcmUgdGhlIG9yaWdpbmFsIHJ1bnRpbWUuXG4gIGcucmVnZW5lcmF0b3JSdW50aW1lID0gb2xkUnVudGltZTtcbn0gZWxzZSB7XG4gIC8vIFJlbW92ZSB0aGUgZ2xvYmFsIHByb3BlcnR5IGFkZGVkIGJ5IHJ1bnRpbWUuanMuXG4gIHRyeSB7XG4gICAgZGVsZXRlIGcucmVnZW5lcmF0b3JSdW50aW1lO1xuICB9IGNhdGNoKGUpIHtcbiAgICBnLnJlZ2VuZXJhdG9yUnVudGltZSA9IHVuZGVmaW5lZDtcbiAgfVxufVxuIiwiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTQtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG4hKGZ1bmN0aW9uKGdsb2JhbCkge1xuICBcInVzZSBzdHJpY3RcIjtcblxuICB2YXIgT3AgPSBPYmplY3QucHJvdG90eXBlO1xuICB2YXIgaGFzT3duID0gT3AuaGFzT3duUHJvcGVydHk7XG4gIHZhciB1bmRlZmluZWQ7IC8vIE1vcmUgY29tcHJlc3NpYmxlIHRoYW4gdm9pZCAwLlxuICB2YXIgJFN5bWJvbCA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiA/IFN5bWJvbCA6IHt9O1xuICB2YXIgaXRlcmF0b3JTeW1ib2wgPSAkU3ltYm9sLml0ZXJhdG9yIHx8IFwiQEBpdGVyYXRvclwiO1xuICB2YXIgYXN5bmNJdGVyYXRvclN5bWJvbCA9ICRTeW1ib2wuYXN5bmNJdGVyYXRvciB8fCBcIkBAYXN5bmNJdGVyYXRvclwiO1xuICB2YXIgdG9TdHJpbmdUYWdTeW1ib2wgPSAkU3ltYm9sLnRvU3RyaW5nVGFnIHx8IFwiQEB0b1N0cmluZ1RhZ1wiO1xuXG4gIHZhciBpbk1vZHVsZSA9IHR5cGVvZiBtb2R1bGUgPT09IFwib2JqZWN0XCI7XG4gIHZhciBydW50aW1lID0gZ2xvYmFsLnJlZ2VuZXJhdG9yUnVudGltZTtcbiAgaWYgKHJ1bnRpbWUpIHtcbiAgICBpZiAoaW5Nb2R1bGUpIHtcbiAgICAgIC8vIElmIHJlZ2VuZXJhdG9yUnVudGltZSBpcyBkZWZpbmVkIGdsb2JhbGx5IGFuZCB3ZSdyZSBpbiBhIG1vZHVsZSxcbiAgICAgIC8vIG1ha2UgdGhlIGV4cG9ydHMgb2JqZWN0IGlkZW50aWNhbCB0byByZWdlbmVyYXRvclJ1bnRpbWUuXG4gICAgICBtb2R1bGUuZXhwb3J0cyA9IHJ1bnRpbWU7XG4gICAgfVxuICAgIC8vIERvbid0IGJvdGhlciBldmFsdWF0aW5nIHRoZSByZXN0IG9mIHRoaXMgZmlsZSBpZiB0aGUgcnVudGltZSB3YXNcbiAgICAvLyBhbHJlYWR5IGRlZmluZWQgZ2xvYmFsbHkuXG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLy8gRGVmaW5lIHRoZSBydW50aW1lIGdsb2JhbGx5IChhcyBleHBlY3RlZCBieSBnZW5lcmF0ZWQgY29kZSkgYXMgZWl0aGVyXG4gIC8vIG1vZHVsZS5leHBvcnRzIChpZiB3ZSdyZSBpbiBhIG1vZHVsZSkgb3IgYSBuZXcsIGVtcHR5IG9iamVjdC5cbiAgcnVudGltZSA9IGdsb2JhbC5yZWdlbmVyYXRvclJ1bnRpbWUgPSBpbk1vZHVsZSA/IG1vZHVsZS5leHBvcnRzIDoge307XG5cbiAgZnVuY3Rpb24gd3JhcChpbm5lckZuLCBvdXRlckZuLCBzZWxmLCB0cnlMb2NzTGlzdCkge1xuICAgIC8vIElmIG91dGVyRm4gcHJvdmlkZWQgYW5kIG91dGVyRm4ucHJvdG90eXBlIGlzIGEgR2VuZXJhdG9yLCB0aGVuIG91dGVyRm4ucHJvdG90eXBlIGluc3RhbmNlb2YgR2VuZXJhdG9yLlxuICAgIHZhciBwcm90b0dlbmVyYXRvciA9IG91dGVyRm4gJiYgb3V0ZXJGbi5wcm90b3R5cGUgaW5zdGFuY2VvZiBHZW5lcmF0b3IgPyBvdXRlckZuIDogR2VuZXJhdG9yO1xuICAgIHZhciBnZW5lcmF0b3IgPSBPYmplY3QuY3JlYXRlKHByb3RvR2VuZXJhdG9yLnByb3RvdHlwZSk7XG4gICAgdmFyIGNvbnRleHQgPSBuZXcgQ29udGV4dCh0cnlMb2NzTGlzdCB8fCBbXSk7XG5cbiAgICAvLyBUaGUgLl9pbnZva2UgbWV0aG9kIHVuaWZpZXMgdGhlIGltcGxlbWVudGF0aW9ucyBvZiB0aGUgLm5leHQsXG4gICAgLy8gLnRocm93LCBhbmQgLnJldHVybiBtZXRob2RzLlxuICAgIGdlbmVyYXRvci5faW52b2tlID0gbWFrZUludm9rZU1ldGhvZChpbm5lckZuLCBzZWxmLCBjb250ZXh0KTtcblxuICAgIHJldHVybiBnZW5lcmF0b3I7XG4gIH1cbiAgcnVudGltZS53cmFwID0gd3JhcDtcblxuICAvLyBUcnkvY2F0Y2ggaGVscGVyIHRvIG1pbmltaXplIGRlb3B0aW1pemF0aW9ucy4gUmV0dXJucyBhIGNvbXBsZXRpb25cbiAgLy8gcmVjb3JkIGxpa2UgY29udGV4dC50cnlFbnRyaWVzW2ldLmNvbXBsZXRpb24uIFRoaXMgaW50ZXJmYWNlIGNvdWxkXG4gIC8vIGhhdmUgYmVlbiAoYW5kIHdhcyBwcmV2aW91c2x5KSBkZXNpZ25lZCB0byB0YWtlIGEgY2xvc3VyZSB0byBiZVxuICAvLyBpbnZva2VkIHdpdGhvdXQgYXJndW1lbnRzLCBidXQgaW4gYWxsIHRoZSBjYXNlcyB3ZSBjYXJlIGFib3V0IHdlXG4gIC8vIGFscmVhZHkgaGF2ZSBhbiBleGlzdGluZyBtZXRob2Qgd2Ugd2FudCB0byBjYWxsLCBzbyB0aGVyZSdzIG5vIG5lZWRcbiAgLy8gdG8gY3JlYXRlIGEgbmV3IGZ1bmN0aW9uIG9iamVjdC4gV2UgY2FuIGV2ZW4gZ2V0IGF3YXkgd2l0aCBhc3N1bWluZ1xuICAvLyB0aGUgbWV0aG9kIHRha2VzIGV4YWN0bHkgb25lIGFyZ3VtZW50LCBzaW5jZSB0aGF0IGhhcHBlbnMgdG8gYmUgdHJ1ZVxuICAvLyBpbiBldmVyeSBjYXNlLCBzbyB3ZSBkb24ndCBoYXZlIHRvIHRvdWNoIHRoZSBhcmd1bWVudHMgb2JqZWN0LiBUaGVcbiAgLy8gb25seSBhZGRpdGlvbmFsIGFsbG9jYXRpb24gcmVxdWlyZWQgaXMgdGhlIGNvbXBsZXRpb24gcmVjb3JkLCB3aGljaFxuICAvLyBoYXMgYSBzdGFibGUgc2hhcGUgYW5kIHNvIGhvcGVmdWxseSBzaG91bGQgYmUgY2hlYXAgdG8gYWxsb2NhdGUuXG4gIGZ1bmN0aW9uIHRyeUNhdGNoKGZuLCBvYmosIGFyZykge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4geyB0eXBlOiBcIm5vcm1hbFwiLCBhcmc6IGZuLmNhbGwob2JqLCBhcmcpIH07XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICByZXR1cm4geyB0eXBlOiBcInRocm93XCIsIGFyZzogZXJyIH07XG4gICAgfVxuICB9XG5cbiAgdmFyIEdlblN0YXRlU3VzcGVuZGVkU3RhcnQgPSBcInN1c3BlbmRlZFN0YXJ0XCI7XG4gIHZhciBHZW5TdGF0ZVN1c3BlbmRlZFlpZWxkID0gXCJzdXNwZW5kZWRZaWVsZFwiO1xuICB2YXIgR2VuU3RhdGVFeGVjdXRpbmcgPSBcImV4ZWN1dGluZ1wiO1xuICB2YXIgR2VuU3RhdGVDb21wbGV0ZWQgPSBcImNvbXBsZXRlZFwiO1xuXG4gIC8vIFJldHVybmluZyB0aGlzIG9iamVjdCBmcm9tIHRoZSBpbm5lckZuIGhhcyB0aGUgc2FtZSBlZmZlY3QgYXNcbiAgLy8gYnJlYWtpbmcgb3V0IG9mIHRoZSBkaXNwYXRjaCBzd2l0Y2ggc3RhdGVtZW50LlxuICB2YXIgQ29udGludWVTZW50aW5lbCA9IHt9O1xuXG4gIC8vIER1bW15IGNvbnN0cnVjdG9yIGZ1bmN0aW9ucyB0aGF0IHdlIHVzZSBhcyB0aGUgLmNvbnN0cnVjdG9yIGFuZFxuICAvLyAuY29uc3RydWN0b3IucHJvdG90eXBlIHByb3BlcnRpZXMgZm9yIGZ1bmN0aW9ucyB0aGF0IHJldHVybiBHZW5lcmF0b3JcbiAgLy8gb2JqZWN0cy4gRm9yIGZ1bGwgc3BlYyBjb21wbGlhbmNlLCB5b3UgbWF5IHdpc2ggdG8gY29uZmlndXJlIHlvdXJcbiAgLy8gbWluaWZpZXIgbm90IHRvIG1hbmdsZSB0aGUgbmFtZXMgb2YgdGhlc2UgdHdvIGZ1bmN0aW9ucy5cbiAgZnVuY3Rpb24gR2VuZXJhdG9yKCkge31cbiAgZnVuY3Rpb24gR2VuZXJhdG9yRnVuY3Rpb24oKSB7fVxuICBmdW5jdGlvbiBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSgpIHt9XG5cbiAgLy8gVGhpcyBpcyBhIHBvbHlmaWxsIGZvciAlSXRlcmF0b3JQcm90b3R5cGUlIGZvciBlbnZpcm9ubWVudHMgdGhhdFxuICAvLyBkb24ndCBuYXRpdmVseSBzdXBwb3J0IGl0LlxuICB2YXIgSXRlcmF0b3JQcm90b3R5cGUgPSB7fTtcbiAgSXRlcmF0b3JQcm90b3R5cGVbaXRlcmF0b3JTeW1ib2xdID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIHZhciBnZXRQcm90byA9IE9iamVjdC5nZXRQcm90b3R5cGVPZjtcbiAgdmFyIE5hdGl2ZUl0ZXJhdG9yUHJvdG90eXBlID0gZ2V0UHJvdG8gJiYgZ2V0UHJvdG8oZ2V0UHJvdG8odmFsdWVzKFtdKSkpO1xuICBpZiAoTmF0aXZlSXRlcmF0b3JQcm90b3R5cGUgJiZcbiAgICAgIE5hdGl2ZUl0ZXJhdG9yUHJvdG90eXBlICE9PSBPcCAmJlxuICAgICAgaGFzT3duLmNhbGwoTmF0aXZlSXRlcmF0b3JQcm90b3R5cGUsIGl0ZXJhdG9yU3ltYm9sKSkge1xuICAgIC8vIFRoaXMgZW52aXJvbm1lbnQgaGFzIGEgbmF0aXZlICVJdGVyYXRvclByb3RvdHlwZSU7IHVzZSBpdCBpbnN0ZWFkXG4gICAgLy8gb2YgdGhlIHBvbHlmaWxsLlxuICAgIEl0ZXJhdG9yUHJvdG90eXBlID0gTmF0aXZlSXRlcmF0b3JQcm90b3R5cGU7XG4gIH1cblxuICB2YXIgR3AgPSBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZS5wcm90b3R5cGUgPVxuICAgIEdlbmVyYXRvci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEl0ZXJhdG9yUHJvdG90eXBlKTtcbiAgR2VuZXJhdG9yRnVuY3Rpb24ucHJvdG90eXBlID0gR3AuY29uc3RydWN0b3IgPSBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZTtcbiAgR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUuY29uc3RydWN0b3IgPSBHZW5lcmF0b3JGdW5jdGlvbjtcbiAgR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGVbdG9TdHJpbmdUYWdTeW1ib2xdID1cbiAgICBHZW5lcmF0b3JGdW5jdGlvbi5kaXNwbGF5TmFtZSA9IFwiR2VuZXJhdG9yRnVuY3Rpb25cIjtcblxuICAvLyBIZWxwZXIgZm9yIGRlZmluaW5nIHRoZSAubmV4dCwgLnRocm93LCBhbmQgLnJldHVybiBtZXRob2RzIG9mIHRoZVxuICAvLyBJdGVyYXRvciBpbnRlcmZhY2UgaW4gdGVybXMgb2YgYSBzaW5nbGUgLl9pbnZva2UgbWV0aG9kLlxuICBmdW5jdGlvbiBkZWZpbmVJdGVyYXRvck1ldGhvZHMocHJvdG90eXBlKSB7XG4gICAgW1wibmV4dFwiLCBcInRocm93XCIsIFwicmV0dXJuXCJdLmZvckVhY2goZnVuY3Rpb24obWV0aG9kKSB7XG4gICAgICBwcm90b3R5cGVbbWV0aG9kXSA9IGZ1bmN0aW9uKGFyZykge1xuICAgICAgICByZXR1cm4gdGhpcy5faW52b2tlKG1ldGhvZCwgYXJnKTtcbiAgICAgIH07XG4gICAgfSk7XG4gIH1cblxuICBydW50aW1lLmlzR2VuZXJhdG9yRnVuY3Rpb24gPSBmdW5jdGlvbihnZW5GdW4pIHtcbiAgICB2YXIgY3RvciA9IHR5cGVvZiBnZW5GdW4gPT09IFwiZnVuY3Rpb25cIiAmJiBnZW5GdW4uY29uc3RydWN0b3I7XG4gICAgcmV0dXJuIGN0b3JcbiAgICAgID8gY3RvciA9PT0gR2VuZXJhdG9yRnVuY3Rpb24gfHxcbiAgICAgICAgLy8gRm9yIHRoZSBuYXRpdmUgR2VuZXJhdG9yRnVuY3Rpb24gY29uc3RydWN0b3IsIHRoZSBiZXN0IHdlIGNhblxuICAgICAgICAvLyBkbyBpcyB0byBjaGVjayBpdHMgLm5hbWUgcHJvcGVydHkuXG4gICAgICAgIChjdG9yLmRpc3BsYXlOYW1lIHx8IGN0b3IubmFtZSkgPT09IFwiR2VuZXJhdG9yRnVuY3Rpb25cIlxuICAgICAgOiBmYWxzZTtcbiAgfTtcblxuICBydW50aW1lLm1hcmsgPSBmdW5jdGlvbihnZW5GdW4pIHtcbiAgICBpZiAoT2JqZWN0LnNldFByb3RvdHlwZU9mKSB7XG4gICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YoZ2VuRnVuLCBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGdlbkZ1bi5fX3Byb3RvX18gPSBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZTtcbiAgICAgIGlmICghKHRvU3RyaW5nVGFnU3ltYm9sIGluIGdlbkZ1bikpIHtcbiAgICAgICAgZ2VuRnVuW3RvU3RyaW5nVGFnU3ltYm9sXSA9IFwiR2VuZXJhdG9yRnVuY3Rpb25cIjtcbiAgICAgIH1cbiAgICB9XG4gICAgZ2VuRnVuLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoR3ApO1xuICAgIHJldHVybiBnZW5GdW47XG4gIH07XG5cbiAgLy8gV2l0aGluIHRoZSBib2R5IG9mIGFueSBhc3luYyBmdW5jdGlvbiwgYGF3YWl0IHhgIGlzIHRyYW5zZm9ybWVkIHRvXG4gIC8vIGB5aWVsZCByZWdlbmVyYXRvclJ1bnRpbWUuYXdyYXAoeClgLCBzbyB0aGF0IHRoZSBydW50aW1lIGNhbiB0ZXN0XG4gIC8vIGBoYXNPd24uY2FsbCh2YWx1ZSwgXCJfX2F3YWl0XCIpYCB0byBkZXRlcm1pbmUgaWYgdGhlIHlpZWxkZWQgdmFsdWUgaXNcbiAgLy8gbWVhbnQgdG8gYmUgYXdhaXRlZC5cbiAgcnVudGltZS5hd3JhcCA9IGZ1bmN0aW9uKGFyZykge1xuICAgIHJldHVybiB7IF9fYXdhaXQ6IGFyZyB9O1xuICB9O1xuXG4gIGZ1bmN0aW9uIEFzeW5jSXRlcmF0b3IoZ2VuZXJhdG9yKSB7XG4gICAgZnVuY3Rpb24gaW52b2tlKG1ldGhvZCwgYXJnLCByZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIHZhciByZWNvcmQgPSB0cnlDYXRjaChnZW5lcmF0b3JbbWV0aG9kXSwgZ2VuZXJhdG9yLCBhcmcpO1xuICAgICAgaWYgKHJlY29yZC50eXBlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgcmVqZWN0KHJlY29yZC5hcmcpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IHJlY29yZC5hcmc7XG4gICAgICAgIHZhciB2YWx1ZSA9IHJlc3VsdC52YWx1ZTtcbiAgICAgICAgaWYgKHZhbHVlICYmXG4gICAgICAgICAgICB0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIgJiZcbiAgICAgICAgICAgIGhhc093bi5jYWxsKHZhbHVlLCBcIl9fYXdhaXRcIikpIHtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHZhbHVlLl9fYXdhaXQpLnRoZW4oZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICAgIGludm9rZShcIm5leHRcIiwgdmFsdWUsIHJlc29sdmUsIHJlamVjdCk7XG4gICAgICAgICAgfSwgZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgICAgICBpbnZva2UoXCJ0aHJvd1wiLCBlcnIsIHJlc29sdmUsIHJlamVjdCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHZhbHVlKS50aGVuKGZ1bmN0aW9uKHVud3JhcHBlZCkge1xuICAgICAgICAgIC8vIFdoZW4gYSB5aWVsZGVkIFByb21pc2UgaXMgcmVzb2x2ZWQsIGl0cyBmaW5hbCB2YWx1ZSBiZWNvbWVzXG4gICAgICAgICAgLy8gdGhlIC52YWx1ZSBvZiB0aGUgUHJvbWlzZTx7dmFsdWUsZG9uZX0+IHJlc3VsdCBmb3IgdGhlXG4gICAgICAgICAgLy8gY3VycmVudCBpdGVyYXRpb24uIElmIHRoZSBQcm9taXNlIGlzIHJlamVjdGVkLCBob3dldmVyLCB0aGVcbiAgICAgICAgICAvLyByZXN1bHQgZm9yIHRoaXMgaXRlcmF0aW9uIHdpbGwgYmUgcmVqZWN0ZWQgd2l0aCB0aGUgc2FtZVxuICAgICAgICAgIC8vIHJlYXNvbi4gTm90ZSB0aGF0IHJlamVjdGlvbnMgb2YgeWllbGRlZCBQcm9taXNlcyBhcmUgbm90XG4gICAgICAgICAgLy8gdGhyb3duIGJhY2sgaW50byB0aGUgZ2VuZXJhdG9yIGZ1bmN0aW9uLCBhcyBpcyB0aGUgY2FzZVxuICAgICAgICAgIC8vIHdoZW4gYW4gYXdhaXRlZCBQcm9taXNlIGlzIHJlamVjdGVkLiBUaGlzIGRpZmZlcmVuY2UgaW5cbiAgICAgICAgICAvLyBiZWhhdmlvciBiZXR3ZWVuIHlpZWxkIGFuZCBhd2FpdCBpcyBpbXBvcnRhbnQsIGJlY2F1c2UgaXRcbiAgICAgICAgICAvLyBhbGxvd3MgdGhlIGNvbnN1bWVyIHRvIGRlY2lkZSB3aGF0IHRvIGRvIHdpdGggdGhlIHlpZWxkZWRcbiAgICAgICAgICAvLyByZWplY3Rpb24gKHN3YWxsb3cgaXQgYW5kIGNvbnRpbnVlLCBtYW51YWxseSAudGhyb3cgaXQgYmFja1xuICAgICAgICAgIC8vIGludG8gdGhlIGdlbmVyYXRvciwgYWJhbmRvbiBpdGVyYXRpb24sIHdoYXRldmVyKS4gV2l0aFxuICAgICAgICAgIC8vIGF3YWl0LCBieSBjb250cmFzdCwgdGhlcmUgaXMgbm8gb3Bwb3J0dW5pdHkgdG8gZXhhbWluZSB0aGVcbiAgICAgICAgICAvLyByZWplY3Rpb24gcmVhc29uIG91dHNpZGUgdGhlIGdlbmVyYXRvciBmdW5jdGlvbiwgc28gdGhlXG4gICAgICAgICAgLy8gb25seSBvcHRpb24gaXMgdG8gdGhyb3cgaXQgZnJvbSB0aGUgYXdhaXQgZXhwcmVzc2lvbiwgYW5kXG4gICAgICAgICAgLy8gbGV0IHRoZSBnZW5lcmF0b3IgZnVuY3Rpb24gaGFuZGxlIHRoZSBleGNlcHRpb24uXG4gICAgICAgICAgcmVzdWx0LnZhbHVlID0gdW53cmFwcGVkO1xuICAgICAgICAgIHJlc29sdmUocmVzdWx0KTtcbiAgICAgICAgfSwgcmVqZWN0KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgcHJldmlvdXNQcm9taXNlO1xuXG4gICAgZnVuY3Rpb24gZW5xdWV1ZShtZXRob2QsIGFyZykge1xuICAgICAgZnVuY3Rpb24gY2FsbEludm9rZVdpdGhNZXRob2RBbmRBcmcoKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICBpbnZva2UobWV0aG9kLCBhcmcsIHJlc29sdmUsIHJlamVjdCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcHJldmlvdXNQcm9taXNlID1cbiAgICAgICAgLy8gSWYgZW5xdWV1ZSBoYXMgYmVlbiBjYWxsZWQgYmVmb3JlLCB0aGVuIHdlIHdhbnQgdG8gd2FpdCB1bnRpbFxuICAgICAgICAvLyBhbGwgcHJldmlvdXMgUHJvbWlzZXMgaGF2ZSBiZWVuIHJlc29sdmVkIGJlZm9yZSBjYWxsaW5nIGludm9rZSxcbiAgICAgICAgLy8gc28gdGhhdCByZXN1bHRzIGFyZSBhbHdheXMgZGVsaXZlcmVkIGluIHRoZSBjb3JyZWN0IG9yZGVyLiBJZlxuICAgICAgICAvLyBlbnF1ZXVlIGhhcyBub3QgYmVlbiBjYWxsZWQgYmVmb3JlLCB0aGVuIGl0IGlzIGltcG9ydGFudCB0b1xuICAgICAgICAvLyBjYWxsIGludm9rZSBpbW1lZGlhdGVseSwgd2l0aG91dCB3YWl0aW5nIG9uIGEgY2FsbGJhY2sgdG8gZmlyZSxcbiAgICAgICAgLy8gc28gdGhhdCB0aGUgYXN5bmMgZ2VuZXJhdG9yIGZ1bmN0aW9uIGhhcyB0aGUgb3Bwb3J0dW5pdHkgdG8gZG9cbiAgICAgICAgLy8gYW55IG5lY2Vzc2FyeSBzZXR1cCBpbiBhIHByZWRpY3RhYmxlIHdheS4gVGhpcyBwcmVkaWN0YWJpbGl0eVxuICAgICAgICAvLyBpcyB3aHkgdGhlIFByb21pc2UgY29uc3RydWN0b3Igc3luY2hyb25vdXNseSBpbnZva2VzIGl0c1xuICAgICAgICAvLyBleGVjdXRvciBjYWxsYmFjaywgYW5kIHdoeSBhc3luYyBmdW5jdGlvbnMgc3luY2hyb25vdXNseVxuICAgICAgICAvLyBleGVjdXRlIGNvZGUgYmVmb3JlIHRoZSBmaXJzdCBhd2FpdC4gU2luY2Ugd2UgaW1wbGVtZW50IHNpbXBsZVxuICAgICAgICAvLyBhc3luYyBmdW5jdGlvbnMgaW4gdGVybXMgb2YgYXN5bmMgZ2VuZXJhdG9ycywgaXQgaXMgZXNwZWNpYWxseVxuICAgICAgICAvLyBpbXBvcnRhbnQgdG8gZ2V0IHRoaXMgcmlnaHQsIGV2ZW4gdGhvdWdoIGl0IHJlcXVpcmVzIGNhcmUuXG4gICAgICAgIHByZXZpb3VzUHJvbWlzZSA/IHByZXZpb3VzUHJvbWlzZS50aGVuKFxuICAgICAgICAgIGNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnLFxuICAgICAgICAgIC8vIEF2b2lkIHByb3BhZ2F0aW5nIGZhaWx1cmVzIHRvIFByb21pc2VzIHJldHVybmVkIGJ5IGxhdGVyXG4gICAgICAgICAgLy8gaW52b2NhdGlvbnMgb2YgdGhlIGl0ZXJhdG9yLlxuICAgICAgICAgIGNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnXG4gICAgICAgICkgOiBjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZygpO1xuICAgIH1cblxuICAgIC8vIERlZmluZSB0aGUgdW5pZmllZCBoZWxwZXIgbWV0aG9kIHRoYXQgaXMgdXNlZCB0byBpbXBsZW1lbnQgLm5leHQsXG4gICAgLy8gLnRocm93LCBhbmQgLnJldHVybiAoc2VlIGRlZmluZUl0ZXJhdG9yTWV0aG9kcykuXG4gICAgdGhpcy5faW52b2tlID0gZW5xdWV1ZTtcbiAgfVxuXG4gIGRlZmluZUl0ZXJhdG9yTWV0aG9kcyhBc3luY0l0ZXJhdG9yLnByb3RvdHlwZSk7XG4gIEFzeW5jSXRlcmF0b3IucHJvdG90eXBlW2FzeW5jSXRlcmF0b3JTeW1ib2xdID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuICBydW50aW1lLkFzeW5jSXRlcmF0b3IgPSBBc3luY0l0ZXJhdG9yO1xuXG4gIC8vIE5vdGUgdGhhdCBzaW1wbGUgYXN5bmMgZnVuY3Rpb25zIGFyZSBpbXBsZW1lbnRlZCBvbiB0b3Agb2ZcbiAgLy8gQXN5bmNJdGVyYXRvciBvYmplY3RzOyB0aGV5IGp1c3QgcmV0dXJuIGEgUHJvbWlzZSBmb3IgdGhlIHZhbHVlIG9mXG4gIC8vIHRoZSBmaW5hbCByZXN1bHQgcHJvZHVjZWQgYnkgdGhlIGl0ZXJhdG9yLlxuICBydW50aW1lLmFzeW5jID0gZnVuY3Rpb24oaW5uZXJGbiwgb3V0ZXJGbiwgc2VsZiwgdHJ5TG9jc0xpc3QpIHtcbiAgICB2YXIgaXRlciA9IG5ldyBBc3luY0l0ZXJhdG9yKFxuICAgICAgd3JhcChpbm5lckZuLCBvdXRlckZuLCBzZWxmLCB0cnlMb2NzTGlzdClcbiAgICApO1xuXG4gICAgcmV0dXJuIHJ1bnRpbWUuaXNHZW5lcmF0b3JGdW5jdGlvbihvdXRlckZuKVxuICAgICAgPyBpdGVyIC8vIElmIG91dGVyRm4gaXMgYSBnZW5lcmF0b3IsIHJldHVybiB0aGUgZnVsbCBpdGVyYXRvci5cbiAgICAgIDogaXRlci5uZXh0KCkudGhlbihmdW5jdGlvbihyZXN1bHQpIHtcbiAgICAgICAgICByZXR1cm4gcmVzdWx0LmRvbmUgPyByZXN1bHQudmFsdWUgOiBpdGVyLm5leHQoKTtcbiAgICAgICAgfSk7XG4gIH07XG5cbiAgZnVuY3Rpb24gbWFrZUludm9rZU1ldGhvZChpbm5lckZuLCBzZWxmLCBjb250ZXh0KSB7XG4gICAgdmFyIHN0YXRlID0gR2VuU3RhdGVTdXNwZW5kZWRTdGFydDtcblxuICAgIHJldHVybiBmdW5jdGlvbiBpbnZva2UobWV0aG9kLCBhcmcpIHtcbiAgICAgIGlmIChzdGF0ZSA9PT0gR2VuU3RhdGVFeGVjdXRpbmcpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgcnVubmluZ1wiKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHN0YXRlID09PSBHZW5TdGF0ZUNvbXBsZXRlZCkge1xuICAgICAgICBpZiAobWV0aG9kID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICB0aHJvdyBhcmc7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBCZSBmb3JnaXZpbmcsIHBlciAyNS4zLjMuMy4zIG9mIHRoZSBzcGVjOlxuICAgICAgICAvLyBodHRwczovL3Blb3BsZS5tb3ppbGxhLm9yZy9+am9yZW5kb3JmZi9lczYtZHJhZnQuaHRtbCNzZWMtZ2VuZXJhdG9ycmVzdW1lXG4gICAgICAgIHJldHVybiBkb25lUmVzdWx0KCk7XG4gICAgICB9XG5cbiAgICAgIGNvbnRleHQubWV0aG9kID0gbWV0aG9kO1xuICAgICAgY29udGV4dC5hcmcgPSBhcmc7XG5cbiAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgIHZhciBkZWxlZ2F0ZSA9IGNvbnRleHQuZGVsZWdhdGU7XG4gICAgICAgIGlmIChkZWxlZ2F0ZSkge1xuICAgICAgICAgIHZhciBkZWxlZ2F0ZVJlc3VsdCA9IG1heWJlSW52b2tlRGVsZWdhdGUoZGVsZWdhdGUsIGNvbnRleHQpO1xuICAgICAgICAgIGlmIChkZWxlZ2F0ZVJlc3VsdCkge1xuICAgICAgICAgICAgaWYgKGRlbGVnYXRlUmVzdWx0ID09PSBDb250aW51ZVNlbnRpbmVsKSBjb250aW51ZTtcbiAgICAgICAgICAgIHJldHVybiBkZWxlZ2F0ZVJlc3VsdDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY29udGV4dC5tZXRob2QgPT09IFwibmV4dFwiKSB7XG4gICAgICAgICAgLy8gU2V0dGluZyBjb250ZXh0Ll9zZW50IGZvciBsZWdhY3kgc3VwcG9ydCBvZiBCYWJlbCdzXG4gICAgICAgICAgLy8gZnVuY3Rpb24uc2VudCBpbXBsZW1lbnRhdGlvbi5cbiAgICAgICAgICBjb250ZXh0LnNlbnQgPSBjb250ZXh0Ll9zZW50ID0gY29udGV4dC5hcmc7XG5cbiAgICAgICAgfSBlbHNlIGlmIChjb250ZXh0Lm1ldGhvZCA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgaWYgKHN0YXRlID09PSBHZW5TdGF0ZVN1c3BlbmRlZFN0YXJ0KSB7XG4gICAgICAgICAgICBzdGF0ZSA9IEdlblN0YXRlQ29tcGxldGVkO1xuICAgICAgICAgICAgdGhyb3cgY29udGV4dC5hcmc7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29udGV4dC5kaXNwYXRjaEV4Y2VwdGlvbihjb250ZXh0LmFyZyk7XG5cbiAgICAgICAgfSBlbHNlIGlmIChjb250ZXh0Lm1ldGhvZCA9PT0gXCJyZXR1cm5cIikge1xuICAgICAgICAgIGNvbnRleHQuYWJydXB0KFwicmV0dXJuXCIsIGNvbnRleHQuYXJnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHN0YXRlID0gR2VuU3RhdGVFeGVjdXRpbmc7XG5cbiAgICAgICAgdmFyIHJlY29yZCA9IHRyeUNhdGNoKGlubmVyRm4sIHNlbGYsIGNvbnRleHQpO1xuICAgICAgICBpZiAocmVjb3JkLnR5cGUgPT09IFwibm9ybWFsXCIpIHtcbiAgICAgICAgICAvLyBJZiBhbiBleGNlcHRpb24gaXMgdGhyb3duIGZyb20gaW5uZXJGbiwgd2UgbGVhdmUgc3RhdGUgPT09XG4gICAgICAgICAgLy8gR2VuU3RhdGVFeGVjdXRpbmcgYW5kIGxvb3AgYmFjayBmb3IgYW5vdGhlciBpbnZvY2F0aW9uLlxuICAgICAgICAgIHN0YXRlID0gY29udGV4dC5kb25lXG4gICAgICAgICAgICA/IEdlblN0YXRlQ29tcGxldGVkXG4gICAgICAgICAgICA6IEdlblN0YXRlU3VzcGVuZGVkWWllbGQ7XG5cbiAgICAgICAgICBpZiAocmVjb3JkLmFyZyA9PT0gQ29udGludWVTZW50aW5lbCkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHZhbHVlOiByZWNvcmQuYXJnLFxuICAgICAgICAgICAgZG9uZTogY29udGV4dC5kb25lXG4gICAgICAgICAgfTtcblxuICAgICAgICB9IGVsc2UgaWYgKHJlY29yZC50eXBlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICBzdGF0ZSA9IEdlblN0YXRlQ29tcGxldGVkO1xuICAgICAgICAgIC8vIERpc3BhdGNoIHRoZSBleGNlcHRpb24gYnkgbG9vcGluZyBiYWNrIGFyb3VuZCB0byB0aGVcbiAgICAgICAgICAvLyBjb250ZXh0LmRpc3BhdGNoRXhjZXB0aW9uKGNvbnRleHQuYXJnKSBjYWxsIGFib3ZlLlxuICAgICAgICAgIGNvbnRleHQubWV0aG9kID0gXCJ0aHJvd1wiO1xuICAgICAgICAgIGNvbnRleHQuYXJnID0gcmVjb3JkLmFyZztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gIH1cblxuICAvLyBDYWxsIGRlbGVnYXRlLml0ZXJhdG9yW2NvbnRleHQubWV0aG9kXShjb250ZXh0LmFyZykgYW5kIGhhbmRsZSB0aGVcbiAgLy8gcmVzdWx0LCBlaXRoZXIgYnkgcmV0dXJuaW5nIGEgeyB2YWx1ZSwgZG9uZSB9IHJlc3VsdCBmcm9tIHRoZVxuICAvLyBkZWxlZ2F0ZSBpdGVyYXRvciwgb3IgYnkgbW9kaWZ5aW5nIGNvbnRleHQubWV0aG9kIGFuZCBjb250ZXh0LmFyZyxcbiAgLy8gc2V0dGluZyBjb250ZXh0LmRlbGVnYXRlIHRvIG51bGwsIGFuZCByZXR1cm5pbmcgdGhlIENvbnRpbnVlU2VudGluZWwuXG4gIGZ1bmN0aW9uIG1heWJlSW52b2tlRGVsZWdhdGUoZGVsZWdhdGUsIGNvbnRleHQpIHtcbiAgICB2YXIgbWV0aG9kID0gZGVsZWdhdGUuaXRlcmF0b3JbY29udGV4dC5tZXRob2RdO1xuICAgIGlmIChtZXRob2QgPT09IHVuZGVmaW5lZCkge1xuICAgICAgLy8gQSAudGhyb3cgb3IgLnJldHVybiB3aGVuIHRoZSBkZWxlZ2F0ZSBpdGVyYXRvciBoYXMgbm8gLnRocm93XG4gICAgICAvLyBtZXRob2QgYWx3YXlzIHRlcm1pbmF0ZXMgdGhlIHlpZWxkKiBsb29wLlxuICAgICAgY29udGV4dC5kZWxlZ2F0ZSA9IG51bGw7XG5cbiAgICAgIGlmIChjb250ZXh0Lm1ldGhvZCA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgIGlmIChkZWxlZ2F0ZS5pdGVyYXRvci5yZXR1cm4pIHtcbiAgICAgICAgICAvLyBJZiB0aGUgZGVsZWdhdGUgaXRlcmF0b3IgaGFzIGEgcmV0dXJuIG1ldGhvZCwgZ2l2ZSBpdCBhXG4gICAgICAgICAgLy8gY2hhbmNlIHRvIGNsZWFuIHVwLlxuICAgICAgICAgIGNvbnRleHQubWV0aG9kID0gXCJyZXR1cm5cIjtcbiAgICAgICAgICBjb250ZXh0LmFyZyA9IHVuZGVmaW5lZDtcbiAgICAgICAgICBtYXliZUludm9rZURlbGVnYXRlKGRlbGVnYXRlLCBjb250ZXh0KTtcblxuICAgICAgICAgIGlmIChjb250ZXh0Lm1ldGhvZCA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgICAvLyBJZiBtYXliZUludm9rZURlbGVnYXRlKGNvbnRleHQpIGNoYW5nZWQgY29udGV4dC5tZXRob2QgZnJvbVxuICAgICAgICAgICAgLy8gXCJyZXR1cm5cIiB0byBcInRocm93XCIsIGxldCB0aGF0IG92ZXJyaWRlIHRoZSBUeXBlRXJyb3IgYmVsb3cuXG4gICAgICAgICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb250ZXh0Lm1ldGhvZCA9IFwidGhyb3dcIjtcbiAgICAgICAgY29udGV4dC5hcmcgPSBuZXcgVHlwZUVycm9yKFxuICAgICAgICAgIFwiVGhlIGl0ZXJhdG9yIGRvZXMgbm90IHByb3ZpZGUgYSAndGhyb3cnIG1ldGhvZFwiKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgfVxuXG4gICAgdmFyIHJlY29yZCA9IHRyeUNhdGNoKG1ldGhvZCwgZGVsZWdhdGUuaXRlcmF0b3IsIGNvbnRleHQuYXJnKTtcblxuICAgIGlmIChyZWNvcmQudHlwZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICBjb250ZXh0Lm1ldGhvZCA9IFwidGhyb3dcIjtcbiAgICAgIGNvbnRleHQuYXJnID0gcmVjb3JkLmFyZztcbiAgICAgIGNvbnRleHQuZGVsZWdhdGUgPSBudWxsO1xuICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgfVxuXG4gICAgdmFyIGluZm8gPSByZWNvcmQuYXJnO1xuXG4gICAgaWYgKCEgaW5mbykge1xuICAgICAgY29udGV4dC5tZXRob2QgPSBcInRocm93XCI7XG4gICAgICBjb250ZXh0LmFyZyA9IG5ldyBUeXBlRXJyb3IoXCJpdGVyYXRvciByZXN1bHQgaXMgbm90IGFuIG9iamVjdFwiKTtcbiAgICAgIGNvbnRleHQuZGVsZWdhdGUgPSBudWxsO1xuICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgfVxuXG4gICAgaWYgKGluZm8uZG9uZSkge1xuICAgICAgLy8gQXNzaWduIHRoZSByZXN1bHQgb2YgdGhlIGZpbmlzaGVkIGRlbGVnYXRlIHRvIHRoZSB0ZW1wb3JhcnlcbiAgICAgIC8vIHZhcmlhYmxlIHNwZWNpZmllZCBieSBkZWxlZ2F0ZS5yZXN1bHROYW1lIChzZWUgZGVsZWdhdGVZaWVsZCkuXG4gICAgICBjb250ZXh0W2RlbGVnYXRlLnJlc3VsdE5hbWVdID0gaW5mby52YWx1ZTtcblxuICAgICAgLy8gUmVzdW1lIGV4ZWN1dGlvbiBhdCB0aGUgZGVzaXJlZCBsb2NhdGlvbiAoc2VlIGRlbGVnYXRlWWllbGQpLlxuICAgICAgY29udGV4dC5uZXh0ID0gZGVsZWdhdGUubmV4dExvYztcblxuICAgICAgLy8gSWYgY29udGV4dC5tZXRob2Qgd2FzIFwidGhyb3dcIiBidXQgdGhlIGRlbGVnYXRlIGhhbmRsZWQgdGhlXG4gICAgICAvLyBleGNlcHRpb24sIGxldCB0aGUgb3V0ZXIgZ2VuZXJhdG9yIHByb2NlZWQgbm9ybWFsbHkuIElmXG4gICAgICAvLyBjb250ZXh0Lm1ldGhvZCB3YXMgXCJuZXh0XCIsIGZvcmdldCBjb250ZXh0LmFyZyBzaW5jZSBpdCBoYXMgYmVlblxuICAgICAgLy8gXCJjb25zdW1lZFwiIGJ5IHRoZSBkZWxlZ2F0ZSBpdGVyYXRvci4gSWYgY29udGV4dC5tZXRob2Qgd2FzXG4gICAgICAvLyBcInJldHVyblwiLCBhbGxvdyB0aGUgb3JpZ2luYWwgLnJldHVybiBjYWxsIHRvIGNvbnRpbnVlIGluIHRoZVxuICAgICAgLy8gb3V0ZXIgZ2VuZXJhdG9yLlxuICAgICAgaWYgKGNvbnRleHQubWV0aG9kICE9PSBcInJldHVyblwiKSB7XG4gICAgICAgIGNvbnRleHQubWV0aG9kID0gXCJuZXh0XCI7XG4gICAgICAgIGNvbnRleHQuYXJnID0gdW5kZWZpbmVkO1xuICAgICAgfVxuXG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFJlLXlpZWxkIHRoZSByZXN1bHQgcmV0dXJuZWQgYnkgdGhlIGRlbGVnYXRlIG1ldGhvZC5cbiAgICAgIHJldHVybiBpbmZvO1xuICAgIH1cblxuICAgIC8vIFRoZSBkZWxlZ2F0ZSBpdGVyYXRvciBpcyBmaW5pc2hlZCwgc28gZm9yZ2V0IGl0IGFuZCBjb250aW51ZSB3aXRoXG4gICAgLy8gdGhlIG91dGVyIGdlbmVyYXRvci5cbiAgICBjb250ZXh0LmRlbGVnYXRlID0gbnVsbDtcbiAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgfVxuXG4gIC8vIERlZmluZSBHZW5lcmF0b3IucHJvdG90eXBlLntuZXh0LHRocm93LHJldHVybn0gaW4gdGVybXMgb2YgdGhlXG4gIC8vIHVuaWZpZWQgLl9pbnZva2UgaGVscGVyIG1ldGhvZC5cbiAgZGVmaW5lSXRlcmF0b3JNZXRob2RzKEdwKTtcblxuICBHcFt0b1N0cmluZ1RhZ1N5bWJvbF0gPSBcIkdlbmVyYXRvclwiO1xuXG4gIC8vIEEgR2VuZXJhdG9yIHNob3VsZCBhbHdheXMgcmV0dXJuIGl0c2VsZiBhcyB0aGUgaXRlcmF0b3Igb2JqZWN0IHdoZW4gdGhlXG4gIC8vIEBAaXRlcmF0b3IgZnVuY3Rpb24gaXMgY2FsbGVkIG9uIGl0LiBTb21lIGJyb3dzZXJzJyBpbXBsZW1lbnRhdGlvbnMgb2YgdGhlXG4gIC8vIGl0ZXJhdG9yIHByb3RvdHlwZSBjaGFpbiBpbmNvcnJlY3RseSBpbXBsZW1lbnQgdGhpcywgY2F1c2luZyB0aGUgR2VuZXJhdG9yXG4gIC8vIG9iamVjdCB0byBub3QgYmUgcmV0dXJuZWQgZnJvbSB0aGlzIGNhbGwuIFRoaXMgZW5zdXJlcyB0aGF0IGRvZXNuJ3QgaGFwcGVuLlxuICAvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlZ2VuZXJhdG9yL2lzc3Vlcy8yNzQgZm9yIG1vcmUgZGV0YWlscy5cbiAgR3BbaXRlcmF0b3JTeW1ib2xdID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgR3AudG9TdHJpbmcgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gXCJbb2JqZWN0IEdlbmVyYXRvcl1cIjtcbiAgfTtcblxuICBmdW5jdGlvbiBwdXNoVHJ5RW50cnkobG9jcykge1xuICAgIHZhciBlbnRyeSA9IHsgdHJ5TG9jOiBsb2NzWzBdIH07XG5cbiAgICBpZiAoMSBpbiBsb2NzKSB7XG4gICAgICBlbnRyeS5jYXRjaExvYyA9IGxvY3NbMV07XG4gICAgfVxuXG4gICAgaWYgKDIgaW4gbG9jcykge1xuICAgICAgZW50cnkuZmluYWxseUxvYyA9IGxvY3NbMl07XG4gICAgICBlbnRyeS5hZnRlckxvYyA9IGxvY3NbM107XG4gICAgfVxuXG4gICAgdGhpcy50cnlFbnRyaWVzLnB1c2goZW50cnkpO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVzZXRUcnlFbnRyeShlbnRyeSkge1xuICAgIHZhciByZWNvcmQgPSBlbnRyeS5jb21wbGV0aW9uIHx8IHt9O1xuICAgIHJlY29yZC50eXBlID0gXCJub3JtYWxcIjtcbiAgICBkZWxldGUgcmVjb3JkLmFyZztcbiAgICBlbnRyeS5jb21wbGV0aW9uID0gcmVjb3JkO1xuICB9XG5cbiAgZnVuY3Rpb24gQ29udGV4dCh0cnlMb2NzTGlzdCkge1xuICAgIC8vIFRoZSByb290IGVudHJ5IG9iamVjdCAoZWZmZWN0aXZlbHkgYSB0cnkgc3RhdGVtZW50IHdpdGhvdXQgYSBjYXRjaFxuICAgIC8vIG9yIGEgZmluYWxseSBibG9jaykgZ2l2ZXMgdXMgYSBwbGFjZSB0byBzdG9yZSB2YWx1ZXMgdGhyb3duIGZyb21cbiAgICAvLyBsb2NhdGlvbnMgd2hlcmUgdGhlcmUgaXMgbm8gZW5jbG9zaW5nIHRyeSBzdGF0ZW1lbnQuXG4gICAgdGhpcy50cnlFbnRyaWVzID0gW3sgdHJ5TG9jOiBcInJvb3RcIiB9XTtcbiAgICB0cnlMb2NzTGlzdC5mb3JFYWNoKHB1c2hUcnlFbnRyeSwgdGhpcyk7XG4gICAgdGhpcy5yZXNldCh0cnVlKTtcbiAgfVxuXG4gIHJ1bnRpbWUua2V5cyA9IGZ1bmN0aW9uKG9iamVjdCkge1xuICAgIHZhciBrZXlzID0gW107XG4gICAgZm9yICh2YXIga2V5IGluIG9iamVjdCkge1xuICAgICAga2V5cy5wdXNoKGtleSk7XG4gICAgfVxuICAgIGtleXMucmV2ZXJzZSgpO1xuXG4gICAgLy8gUmF0aGVyIHRoYW4gcmV0dXJuaW5nIGFuIG9iamVjdCB3aXRoIGEgbmV4dCBtZXRob2QsIHdlIGtlZXBcbiAgICAvLyB0aGluZ3Mgc2ltcGxlIGFuZCByZXR1cm4gdGhlIG5leHQgZnVuY3Rpb24gaXRzZWxmLlxuICAgIHJldHVybiBmdW5jdGlvbiBuZXh0KCkge1xuICAgICAgd2hpbGUgKGtleXMubGVuZ3RoKSB7XG4gICAgICAgIHZhciBrZXkgPSBrZXlzLnBvcCgpO1xuICAgICAgICBpZiAoa2V5IGluIG9iamVjdCkge1xuICAgICAgICAgIG5leHQudmFsdWUgPSBrZXk7XG4gICAgICAgICAgbmV4dC5kb25lID0gZmFsc2U7XG4gICAgICAgICAgcmV0dXJuIG5leHQ7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gVG8gYXZvaWQgY3JlYXRpbmcgYW4gYWRkaXRpb25hbCBvYmplY3QsIHdlIGp1c3QgaGFuZyB0aGUgLnZhbHVlXG4gICAgICAvLyBhbmQgLmRvbmUgcHJvcGVydGllcyBvZmYgdGhlIG5leHQgZnVuY3Rpb24gb2JqZWN0IGl0c2VsZi4gVGhpc1xuICAgICAgLy8gYWxzbyBlbnN1cmVzIHRoYXQgdGhlIG1pbmlmaWVyIHdpbGwgbm90IGFub255bWl6ZSB0aGUgZnVuY3Rpb24uXG4gICAgICBuZXh0LmRvbmUgPSB0cnVlO1xuICAgICAgcmV0dXJuIG5leHQ7XG4gICAgfTtcbiAgfTtcblxuICBmdW5jdGlvbiB2YWx1ZXMoaXRlcmFibGUpIHtcbiAgICBpZiAoaXRlcmFibGUpIHtcbiAgICAgIHZhciBpdGVyYXRvck1ldGhvZCA9IGl0ZXJhYmxlW2l0ZXJhdG9yU3ltYm9sXTtcbiAgICAgIGlmIChpdGVyYXRvck1ldGhvZCkge1xuICAgICAgICByZXR1cm4gaXRlcmF0b3JNZXRob2QuY2FsbChpdGVyYWJsZSk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0eXBlb2YgaXRlcmFibGUubmV4dCA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIHJldHVybiBpdGVyYWJsZTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFpc05hTihpdGVyYWJsZS5sZW5ndGgpKSB7XG4gICAgICAgIHZhciBpID0gLTEsIG5leHQgPSBmdW5jdGlvbiBuZXh0KCkge1xuICAgICAgICAgIHdoaWxlICgrK2kgPCBpdGVyYWJsZS5sZW5ndGgpIHtcbiAgICAgICAgICAgIGlmIChoYXNPd24uY2FsbChpdGVyYWJsZSwgaSkpIHtcbiAgICAgICAgICAgICAgbmV4dC52YWx1ZSA9IGl0ZXJhYmxlW2ldO1xuICAgICAgICAgICAgICBuZXh0LmRvbmUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgcmV0dXJuIG5leHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgbmV4dC52YWx1ZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICBuZXh0LmRvbmUgPSB0cnVlO1xuXG4gICAgICAgICAgcmV0dXJuIG5leHQ7XG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIG5leHQubmV4dCA9IG5leHQ7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gUmV0dXJuIGFuIGl0ZXJhdG9yIHdpdGggbm8gdmFsdWVzLlxuICAgIHJldHVybiB7IG5leHQ6IGRvbmVSZXN1bHQgfTtcbiAgfVxuICBydW50aW1lLnZhbHVlcyA9IHZhbHVlcztcblxuICBmdW5jdGlvbiBkb25lUmVzdWx0KCkge1xuICAgIHJldHVybiB7IHZhbHVlOiB1bmRlZmluZWQsIGRvbmU6IHRydWUgfTtcbiAgfVxuXG4gIENvbnRleHQucHJvdG90eXBlID0ge1xuICAgIGNvbnN0cnVjdG9yOiBDb250ZXh0LFxuXG4gICAgcmVzZXQ6IGZ1bmN0aW9uKHNraXBUZW1wUmVzZXQpIHtcbiAgICAgIHRoaXMucHJldiA9IDA7XG4gICAgICB0aGlzLm5leHQgPSAwO1xuICAgICAgLy8gUmVzZXR0aW5nIGNvbnRleHQuX3NlbnQgZm9yIGxlZ2FjeSBzdXBwb3J0IG9mIEJhYmVsJ3NcbiAgICAgIC8vIGZ1bmN0aW9uLnNlbnQgaW1wbGVtZW50YXRpb24uXG4gICAgICB0aGlzLnNlbnQgPSB0aGlzLl9zZW50ID0gdW5kZWZpbmVkO1xuICAgICAgdGhpcy5kb25lID0gZmFsc2U7XG4gICAgICB0aGlzLmRlbGVnYXRlID0gbnVsbDtcblxuICAgICAgdGhpcy5tZXRob2QgPSBcIm5leHRcIjtcbiAgICAgIHRoaXMuYXJnID0gdW5kZWZpbmVkO1xuXG4gICAgICB0aGlzLnRyeUVudHJpZXMuZm9yRWFjaChyZXNldFRyeUVudHJ5KTtcblxuICAgICAgaWYgKCFza2lwVGVtcFJlc2V0KSB7XG4gICAgICAgIGZvciAodmFyIG5hbWUgaW4gdGhpcykge1xuICAgICAgICAgIC8vIE5vdCBzdXJlIGFib3V0IHRoZSBvcHRpbWFsIG9yZGVyIG9mIHRoZXNlIGNvbmRpdGlvbnM6XG4gICAgICAgICAgaWYgKG5hbWUuY2hhckF0KDApID09PSBcInRcIiAmJlxuICAgICAgICAgICAgICBoYXNPd24uY2FsbCh0aGlzLCBuYW1lKSAmJlxuICAgICAgICAgICAgICAhaXNOYU4oK25hbWUuc2xpY2UoMSkpKSB7XG4gICAgICAgICAgICB0aGlzW25hbWVdID0gdW5kZWZpbmVkO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG5cbiAgICBzdG9wOiBmdW5jdGlvbigpIHtcbiAgICAgIHRoaXMuZG9uZSA9IHRydWU7XG5cbiAgICAgIHZhciByb290RW50cnkgPSB0aGlzLnRyeUVudHJpZXNbMF07XG4gICAgICB2YXIgcm9vdFJlY29yZCA9IHJvb3RFbnRyeS5jb21wbGV0aW9uO1xuICAgICAgaWYgKHJvb3RSZWNvcmQudHlwZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgIHRocm93IHJvb3RSZWNvcmQuYXJnO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy5ydmFsO1xuICAgIH0sXG5cbiAgICBkaXNwYXRjaEV4Y2VwdGlvbjogZnVuY3Rpb24oZXhjZXB0aW9uKSB7XG4gICAgICBpZiAodGhpcy5kb25lKSB7XG4gICAgICAgIHRocm93IGV4Y2VwdGlvbjtcbiAgICAgIH1cblxuICAgICAgdmFyIGNvbnRleHQgPSB0aGlzO1xuICAgICAgZnVuY3Rpb24gaGFuZGxlKGxvYywgY2F1Z2h0KSB7XG4gICAgICAgIHJlY29yZC50eXBlID0gXCJ0aHJvd1wiO1xuICAgICAgICByZWNvcmQuYXJnID0gZXhjZXB0aW9uO1xuICAgICAgICBjb250ZXh0Lm5leHQgPSBsb2M7XG5cbiAgICAgICAgaWYgKGNhdWdodCkge1xuICAgICAgICAgIC8vIElmIHRoZSBkaXNwYXRjaGVkIGV4Y2VwdGlvbiB3YXMgY2F1Z2h0IGJ5IGEgY2F0Y2ggYmxvY2ssXG4gICAgICAgICAgLy8gdGhlbiBsZXQgdGhhdCBjYXRjaCBibG9jayBoYW5kbGUgdGhlIGV4Y2VwdGlvbiBub3JtYWxseS5cbiAgICAgICAgICBjb250ZXh0Lm1ldGhvZCA9IFwibmV4dFwiO1xuICAgICAgICAgIGNvbnRleHQuYXJnID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuICEhIGNhdWdodDtcbiAgICAgIH1cblxuICAgICAgZm9yICh2YXIgaSA9IHRoaXMudHJ5RW50cmllcy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICB2YXIgZW50cnkgPSB0aGlzLnRyeUVudHJpZXNbaV07XG4gICAgICAgIHZhciByZWNvcmQgPSBlbnRyeS5jb21wbGV0aW9uO1xuXG4gICAgICAgIGlmIChlbnRyeS50cnlMb2MgPT09IFwicm9vdFwiKSB7XG4gICAgICAgICAgLy8gRXhjZXB0aW9uIHRocm93biBvdXRzaWRlIG9mIGFueSB0cnkgYmxvY2sgdGhhdCBjb3VsZCBoYW5kbGVcbiAgICAgICAgICAvLyBpdCwgc28gc2V0IHRoZSBjb21wbGV0aW9uIHZhbHVlIG9mIHRoZSBlbnRpcmUgZnVuY3Rpb24gdG9cbiAgICAgICAgICAvLyB0aHJvdyB0aGUgZXhjZXB0aW9uLlxuICAgICAgICAgIHJldHVybiBoYW5kbGUoXCJlbmRcIik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZW50cnkudHJ5TG9jIDw9IHRoaXMucHJldikge1xuICAgICAgICAgIHZhciBoYXNDYXRjaCA9IGhhc093bi5jYWxsKGVudHJ5LCBcImNhdGNoTG9jXCIpO1xuICAgICAgICAgIHZhciBoYXNGaW5hbGx5ID0gaGFzT3duLmNhbGwoZW50cnksIFwiZmluYWxseUxvY1wiKTtcblxuICAgICAgICAgIGlmIChoYXNDYXRjaCAmJiBoYXNGaW5hbGx5KSB7XG4gICAgICAgICAgICBpZiAodGhpcy5wcmV2IDwgZW50cnkuY2F0Y2hMb2MpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGhhbmRsZShlbnRyeS5jYXRjaExvYywgdHJ1ZSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMucHJldiA8IGVudHJ5LmZpbmFsbHlMb2MpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGhhbmRsZShlbnRyeS5maW5hbGx5TG9jKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgIH0gZWxzZSBpZiAoaGFzQ2F0Y2gpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnByZXYgPCBlbnRyeS5jYXRjaExvYykge1xuICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlKGVudHJ5LmNhdGNoTG9jLCB0cnVlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgIH0gZWxzZSBpZiAoaGFzRmluYWxseSkge1xuICAgICAgICAgICAgaWYgKHRoaXMucHJldiA8IGVudHJ5LmZpbmFsbHlMb2MpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGhhbmRsZShlbnRyeS5maW5hbGx5TG9jKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJ0cnkgc3RhdGVtZW50IHdpdGhvdXQgY2F0Y2ggb3IgZmluYWxseVwiKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuXG4gICAgYWJydXB0OiBmdW5jdGlvbih0eXBlLCBhcmcpIHtcbiAgICAgIGZvciAodmFyIGkgPSB0aGlzLnRyeUVudHJpZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgICAgdmFyIGVudHJ5ID0gdGhpcy50cnlFbnRyaWVzW2ldO1xuICAgICAgICBpZiAoZW50cnkudHJ5TG9jIDw9IHRoaXMucHJldiAmJlxuICAgICAgICAgICAgaGFzT3duLmNhbGwoZW50cnksIFwiZmluYWxseUxvY1wiKSAmJlxuICAgICAgICAgICAgdGhpcy5wcmV2IDwgZW50cnkuZmluYWxseUxvYykge1xuICAgICAgICAgIHZhciBmaW5hbGx5RW50cnkgPSBlbnRyeTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoZmluYWxseUVudHJ5ICYmXG4gICAgICAgICAgKHR5cGUgPT09IFwiYnJlYWtcIiB8fFxuICAgICAgICAgICB0eXBlID09PSBcImNvbnRpbnVlXCIpICYmXG4gICAgICAgICAgZmluYWxseUVudHJ5LnRyeUxvYyA8PSBhcmcgJiZcbiAgICAgICAgICBhcmcgPD0gZmluYWxseUVudHJ5LmZpbmFsbHlMb2MpIHtcbiAgICAgICAgLy8gSWdub3JlIHRoZSBmaW5hbGx5IGVudHJ5IGlmIGNvbnRyb2wgaXMgbm90IGp1bXBpbmcgdG8gYVxuICAgICAgICAvLyBsb2NhdGlvbiBvdXRzaWRlIHRoZSB0cnkvY2F0Y2ggYmxvY2suXG4gICAgICAgIGZpbmFsbHlFbnRyeSA9IG51bGw7XG4gICAgICB9XG5cbiAgICAgIHZhciByZWNvcmQgPSBmaW5hbGx5RW50cnkgPyBmaW5hbGx5RW50cnkuY29tcGxldGlvbiA6IHt9O1xuICAgICAgcmVjb3JkLnR5cGUgPSB0eXBlO1xuICAgICAgcmVjb3JkLmFyZyA9IGFyZztcblxuICAgICAgaWYgKGZpbmFsbHlFbnRyeSkge1xuICAgICAgICB0aGlzLm1ldGhvZCA9IFwibmV4dFwiO1xuICAgICAgICB0aGlzLm5leHQgPSBmaW5hbGx5RW50cnkuZmluYWxseUxvYztcbiAgICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzLmNvbXBsZXRlKHJlY29yZCk7XG4gICAgfSxcblxuICAgIGNvbXBsZXRlOiBmdW5jdGlvbihyZWNvcmQsIGFmdGVyTG9jKSB7XG4gICAgICBpZiAocmVjb3JkLnR5cGUgPT09IFwidGhyb3dcIikge1xuICAgICAgICB0aHJvdyByZWNvcmQuYXJnO1xuICAgICAgfVxuXG4gICAgICBpZiAocmVjb3JkLnR5cGUgPT09IFwiYnJlYWtcIiB8fFxuICAgICAgICAgIHJlY29yZC50eXBlID09PSBcImNvbnRpbnVlXCIpIHtcbiAgICAgICAgdGhpcy5uZXh0ID0gcmVjb3JkLmFyZztcbiAgICAgIH0gZWxzZSBpZiAocmVjb3JkLnR5cGUgPT09IFwicmV0dXJuXCIpIHtcbiAgICAgICAgdGhpcy5ydmFsID0gdGhpcy5hcmcgPSByZWNvcmQuYXJnO1xuICAgICAgICB0aGlzLm1ldGhvZCA9IFwicmV0dXJuXCI7XG4gICAgICAgIHRoaXMubmV4dCA9IFwiZW5kXCI7XG4gICAgICB9IGVsc2UgaWYgKHJlY29yZC50eXBlID09PSBcIm5vcm1hbFwiICYmIGFmdGVyTG9jKSB7XG4gICAgICAgIHRoaXMubmV4dCA9IGFmdGVyTG9jO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICB9LFxuXG4gICAgZmluaXNoOiBmdW5jdGlvbihmaW5hbGx5TG9jKSB7XG4gICAgICBmb3IgKHZhciBpID0gdGhpcy50cnlFbnRyaWVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgIHZhciBlbnRyeSA9IHRoaXMudHJ5RW50cmllc1tpXTtcbiAgICAgICAgaWYgKGVudHJ5LmZpbmFsbHlMb2MgPT09IGZpbmFsbHlMb2MpIHtcbiAgICAgICAgICB0aGlzLmNvbXBsZXRlKGVudHJ5LmNvbXBsZXRpb24sIGVudHJ5LmFmdGVyTG9jKTtcbiAgICAgICAgICByZXNldFRyeUVudHJ5KGVudHJ5KTtcbiAgICAgICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG5cbiAgICBcImNhdGNoXCI6IGZ1bmN0aW9uKHRyeUxvYykge1xuICAgICAgZm9yICh2YXIgaSA9IHRoaXMudHJ5RW50cmllcy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICB2YXIgZW50cnkgPSB0aGlzLnRyeUVudHJpZXNbaV07XG4gICAgICAgIGlmIChlbnRyeS50cnlMb2MgPT09IHRyeUxvYykge1xuICAgICAgICAgIHZhciByZWNvcmQgPSBlbnRyeS5jb21wbGV0aW9uO1xuICAgICAgICAgIGlmIChyZWNvcmQudHlwZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgICB2YXIgdGhyb3duID0gcmVjb3JkLmFyZztcbiAgICAgICAgICAgIHJlc2V0VHJ5RW50cnkoZW50cnkpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gdGhyb3duO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIFRoZSBjb250ZXh0LmNhdGNoIG1ldGhvZCBtdXN0IG9ubHkgYmUgY2FsbGVkIHdpdGggYSBsb2NhdGlvblxuICAgICAgLy8gYXJndW1lbnQgdGhhdCBjb3JyZXNwb25kcyB0byBhIGtub3duIGNhdGNoIGJsb2NrLlxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiaWxsZWdhbCBjYXRjaCBhdHRlbXB0XCIpO1xuICAgIH0sXG5cbiAgICBkZWxlZ2F0ZVlpZWxkOiBmdW5jdGlvbihpdGVyYWJsZSwgcmVzdWx0TmFtZSwgbmV4dExvYykge1xuICAgICAgdGhpcy5kZWxlZ2F0ZSA9IHtcbiAgICAgICAgaXRlcmF0b3I6IHZhbHVlcyhpdGVyYWJsZSksXG4gICAgICAgIHJlc3VsdE5hbWU6IHJlc3VsdE5hbWUsXG4gICAgICAgIG5leHRMb2M6IG5leHRMb2NcbiAgICAgIH07XG5cbiAgICAgIGlmICh0aGlzLm1ldGhvZCA9PT0gXCJuZXh0XCIpIHtcbiAgICAgICAgLy8gRGVsaWJlcmF0ZWx5IGZvcmdldCB0aGUgbGFzdCBzZW50IHZhbHVlIHNvIHRoYXQgd2UgZG9uJ3RcbiAgICAgICAgLy8gYWNjaWRlbnRhbGx5IHBhc3MgaXQgb24gdG8gdGhlIGRlbGVnYXRlLlxuICAgICAgICB0aGlzLmFyZyA9IHVuZGVmaW5lZDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgfVxuICB9O1xufSkoXG4gIC8vIEluIHNsb3BweSBtb2RlLCB1bmJvdW5kIGB0aGlzYCByZWZlcnMgdG8gdGhlIGdsb2JhbCBvYmplY3QsIGZhbGxiYWNrIHRvXG4gIC8vIEZ1bmN0aW9uIGNvbnN0cnVjdG9yIGlmIHdlJ3JlIGluIGdsb2JhbCBzdHJpY3QgbW9kZS4gVGhhdCBpcyBzYWRseSBhIGZvcm1cbiAgLy8gb2YgaW5kaXJlY3QgZXZhbCB3aGljaCB2aW9sYXRlcyBDb250ZW50IFNlY3VyaXR5IFBvbGljeS5cbiAgKGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpcyB9KSgpIHx8IEZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKVxuKTtcbiIsIm1vZHVsZS5leHBvcnRzID0geyBcImRlZmF1bHRcIjogcmVxdWlyZShcImNvcmUtanMvbGlicmFyeS9mbi9wcm9taXNlXCIpLCBfX2VzTW9kdWxlOiB0cnVlIH07IiwiY29uc3QgaGVhZGVycyA9IHtcbiAgYWRkVG9DYXJ0OiB7XG4gICAgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbiwgdGV4dC9qYXZhc2NyaXB0JyxcbiAgfSxcbiAgcHJvZHVjdHM6IHtcbiAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgIEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24sIHRleHQvamF2YXNjcmlwdCwgKi8qOyBxPTAuMDEnLFxuICB9LFxufTtcblxuZXhwb3J0IGRlZmF1bHQgaGVhZGVycztcbiIsImltcG9ydCBtb2QgZnJvbSBcIi0hLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2JhYmVsLWxvYWRlci9saWIvaW5kZXguanM/P3JlZi0tMS0wIS4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vQ3JlYXRlLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyZcIjsgZXhwb3J0IGRlZmF1bHQgbW9kOyBleHBvcnQgKiBmcm9tIFwiLSEuLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvYmFiZWwtbG9hZGVyL2xpYi9pbmRleC5qcz8/cmVmLS0xLTAhLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9DcmVhdGUudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJlwiIiwiPCEtLSoqXG4gKiAyMDA3LTIwMjAgUHJlc3RhU2hvcCBhbmQgQ29udHJpYnV0b3JzXG4gKlxuICogTk9USUNFIE9GIExJQ0VOU0VcbiAqXG4gKiBUaGlzIHNvdXJjZSBmaWxlIGlzIHN1YmplY3QgdG8gdGhlIEFjYWRlbWljIEZyZWUgTGljZW5zZSAzLjAgKEFGTC0zLjApXG4gKiB0aGF0IGlzIGJ1bmRsZWQgd2l0aCB0aGlzIHBhY2thZ2UgaW4gdGhlIGZpbGUgTElDRU5TRS50eHQuXG4gKiBJdCBpcyBhbHNvIGF2YWlsYWJsZSB0aHJvdWdoIHRoZSB3b3JsZC13aWRlLXdlYiBhdCB0aGlzIFVSTDpcbiAqIGh0dHBzOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvQUZMLTMuMFxuICogSWYgeW91IGRpZCBub3QgcmVjZWl2ZSBhIGNvcHkgb2YgdGhlIGxpY2Vuc2UgYW5kIGFyZSB1bmFibGUgdG9cbiAqIG9idGFpbiBpdCB0aHJvdWdoIHRoZSB3b3JsZC13aWRlLXdlYiwgcGxlYXNlIHNlbmQgYW4gZW1haWxcbiAqIHRvIGxpY2Vuc2VAcHJlc3Rhc2hvcC5jb20gc28gd2UgY2FuIHNlbmQgeW91IGEgY29weSBpbW1lZGlhdGVseS5cbiAqXG4gKiBAYXV0aG9yICAgIFByZXN0YVNob3AgU0EgPGNvbnRhY3RAcHJlc3Rhc2hvcC5jb20+XG4gKiBAY29weXJpZ2h0IDIwMDctMjAyMCBQcmVzdGFTaG9wIFNBIGFuZCBDb250cmlidXRvcnNcbiAqIEBsaWNlbnNlICAgaHR0cHM6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9BRkwtMy4wIEFjYWRlbWljIEZyZWUgTGljZW5zZSAzLjAgKEFGTC0zLjApXG4gKiBJbnRlcm5hdGlvbmFsIFJlZ2lzdGVyZWQgVHJhZGVtYXJrICYgUHJvcGVydHkgb2YgUHJlc3RhU2hvcCBTQVxuICotLT5cbjxzY3JpcHQ+XG4gIGltcG9ydCBjcmVhdGVMaXN0IGZyb20gJ0BncmFwaHFsRmlsZXMvbXV0YXRpb25zL2NyZWF0ZWxpc3QnO1xuICBpbXBvcnQgRXZlbnRCdXMgZnJvbSAnQGNvbXBvbmVudHMvRXZlbnRCdXMnO1xuXG4gIC8qKlxuICAgKiBUaGlzIGNvbXBvbmVudCBkaXNwbGF5IGEgbW9kYWwgd2hlcmUgeW91IGNhbiBjcmVhdGUgYSB3aXNobGlzdFxuICAgKi9cbiAgZXhwb3J0IGRlZmF1bHQge1xuICAgIG5hbWU6ICdDcmVhdGUnLFxuICAgIHByb3BzOiB7XG4gICAgICB1cmw6IHtcbiAgICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgZGVmYXVsdDogJyMnLFxuICAgICAgfSxcbiAgICAgIHRpdGxlOiB7XG4gICAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgIGRlZmF1bHQ6ICdOZXcgd2lzaGxpc3QnLFxuICAgICAgfSxcbiAgICAgIGxhYmVsOiB7XG4gICAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgIGRlZmF1bHQ6ICdXaXNobGlzdCBuYW1lJyxcbiAgICAgIH0sXG4gICAgICBwbGFjZWhvbGRlcjoge1xuICAgICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICBkZWZhdWx0OiAnQWRkIG5hbWUnLFxuICAgICAgfSxcbiAgICAgIGNhbmNlbFRleHQ6IHtcbiAgICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgZGVmYXVsdDogJ0NhbmNlbCcsXG4gICAgICB9LFxuICAgICAgbGVuZ3RoVGV4dDoge1xuICAgICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICBkZWZhdWx0OiAnTGlzdCB0aXRsZSBpcyB0b28gc2hvcnQnLFxuICAgICAgfSxcbiAgICAgIGNyZWF0ZVRleHQ6IHtcbiAgICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgZGVmYXVsdDogJ0NyZWF0ZScsXG4gICAgICB9LFxuICAgIH0sXG4gICAgZGF0YSgpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHZhbHVlOiAnJyxcbiAgICAgICAgaXNIaWRkZW46IHRydWUsXG4gICAgICB9O1xuICAgIH0sXG4gICAgbWV0aG9kczoge1xuICAgICAgLyoqXG4gICAgICAgKiBUb2dnbGUgdGhlIG1vZGFsXG4gICAgICAgKi9cbiAgICAgIHRvZ2dsZU1vZGFsKCkge1xuICAgICAgICB0aGlzLmlzSGlkZGVuID0gIXRoaXMuaXNIaWRkZW47XG4gICAgICB9LFxuICAgICAgLyoqXG4gICAgICAgKiBMYXVuY2ggYSBjcmVhdGVMaXN0IG11dGF0aW9uIHRvIGNyZWF0ZSBhIFdpc2hsaXN0XG4gICAgICAgKi9cbiAgICAgIGFzeW5jIGNyZWF0ZVdpc2hsaXN0KCkge1xuICAgICAgICBjb25zdCB0aXRsZVdpdGhvdXRTcGFjZXMgPSB0aGlzLnZhbHVlLnJlcGxhY2UoLyAvZywgJycpO1xuXG4gICAgICAgIGlmICh0aXRsZVdpdGhvdXRTcGFjZXMgPCAxKSB7XG4gICAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ3Nob3dUb2FzdCcsIHtcbiAgICAgICAgICAgIGRldGFpbDoge1xuICAgICAgICAgICAgICB0eXBlOiAnZXJyb3InLFxuICAgICAgICAgICAgICBtZXNzYWdlOiB0aGlzLmxlbmd0aFRleHQsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qge2RhdGE6IHJlc3BvbnNlfSA9IGF3YWl0IHRoaXMuJGFwb2xsby5tdXRhdGUoe1xuICAgICAgICAgIG11dGF0aW9uOiBjcmVhdGVMaXN0LFxuICAgICAgICAgIHZhcmlhYmxlczoge1xuICAgICAgICAgICAgbmFtZTogdGhpcy52YWx1ZSxcbiAgICAgICAgICAgIHVybDogdGhpcy51cmwsXG4gICAgICAgICAgfSxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ3Nob3dUb2FzdCcsIHtcbiAgICAgICAgICBkZXRhaWw6IHtcbiAgICAgICAgICAgIHR5cGU6IHJlc3BvbnNlLmNyZWF0ZUxpc3Quc3VjY2VzcyA/ICdzdWNjZXNzJyA6ICdlcnJvcicsXG4gICAgICAgICAgICBtZXNzYWdlOiByZXNwb25zZS5jcmVhdGVMaXN0Lm1lc3NhZ2UsXG4gICAgICAgICAgfSxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFzIHRoaXMgaXMgbm90IGEgcmVhbCBTUEEsIHdlIG5lZWQgdG8gaW5mb3JtIG90aGVycyBWdWVKUyBhcHBzIHRoYXQgdGhleSBuZWVkIHRvIHJlZmV0Y2ggdGhlIGxpc3RcbiAgICAgICAgICovXG4gICAgICAgIEV2ZW50QnVzLiRlbWl0KCdyZWZldGNoTGlzdCcpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaW5hbGx5IGhpZGUgdGhlIG1vZGFsIGFmdGVyIGNyZWF0aW5nIHRoZSBsaXN0XG4gICAgICAgICAqIGFuZCByZW9wZW4gdGhlIHdpc2hsaXN0IG1vZGFsXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnRvZ2dsZU1vZGFsKCk7XG4gICAgICAgIEV2ZW50QnVzLiRlbWl0KCdzaG93QWRkVG9XaXNoTGlzdCcsIHtcbiAgICAgICAgICBkZXRhaWw6IHtcbiAgICAgICAgICAgIGZvcmNlT3BlbjogdHJ1ZSxcbiAgICAgICAgICB9LFxuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH0sXG4gICAgfSxcbiAgICBtb3VudGVkKCkge1xuICAgICAgLyoqXG4gICAgICAgKiBSZWdpc3RlciB0byB0aGUgZXZlbnQgc2hvd0NyZWF0ZVdpc2hsaXN0IHNvIG90aGVycyBjb21wb25lbnRzIGNhbiB0b2dnbGUgdGhpcyBtb2RhbFxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7U3RyaW5nfSAnc2hvd0NyZWF0ZVdpc2hsaXN0J1xuICAgICAgICovXG4gICAgICBFdmVudEJ1cy4kb24oJ3Nob3dDcmVhdGVXaXNobGlzdCcsICgpID0+IHtcbiAgICAgICAgdGhpcy52YWx1ZSA9ICcnO1xuICAgICAgICB0aGlzLnRvZ2dsZU1vZGFsKCk7XG4gICAgICB9KTtcbiAgICB9LFxuICB9O1xuPC9zY3JpcHQ+XG5cbjxzdHlsZSBsYW5nPVwic2Nzc1wiIHR5cGU9XCJ0ZXh0L3Njc3NcIj5cbiAgLndpc2hsaXN0IHtcbiAgICAmLWNyZWF0ZSB7XG4gICAgICAud2lzaGxpc3QtbW9kYWwge1xuICAgICAgICBvcGFjaXR5OiAwO1xuICAgICAgICBwb2ludGVyLWV2ZW50czogbm9uZTtcbiAgICAgICAgei1pbmRleDogMDtcblxuICAgICAgICAmLnNob3cge1xuICAgICAgICAgIG9wYWNpdHk6IDE7XG4gICAgICAgICAgcG9pbnRlci1ldmVudHM6IGFsbDtcbiAgICAgICAgICB6LWluZGV4OiAxMDUzO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG48L3N0eWxlPlxuIiwiLy8gVGhpcyBjdXJyZW50Q29udGV4dCB2YXJpYWJsZSB3aWxsIG9ubHkgYmUgdXNlZCBpZiB0aGUgbWFrZVNsb3RDbGFzc1xyXG4vLyBmdW5jdGlvbiBpcyBjYWxsZWQsIHdoaWNoIGhhcHBlbnMgb25seSBpZiB0aGlzIGlzIHRoZSBmaXJzdCBjb3B5IG9mIHRoZVxyXG4vLyBAd3J5L2NvbnRleHQgcGFja2FnZSB0byBiZSBpbXBvcnRlZC5cclxudmFyIGN1cnJlbnRDb250ZXh0ID0gbnVsbDtcclxuLy8gVGhpcyB1bmlxdWUgaW50ZXJuYWwgb2JqZWN0IGlzIHVzZWQgdG8gZGVub3RlIHRoZSBhYnNlbmNlIG9mIGEgdmFsdWVcclxuLy8gZm9yIGEgZ2l2ZW4gU2xvdCwgYW5kIGlzIG5ldmVyIGV4cG9zZWQgdG8gb3V0c2lkZSBjb2RlLlxyXG52YXIgTUlTU0lOR19WQUxVRSA9IHt9O1xyXG52YXIgaWRDb3VudGVyID0gMTtcclxuLy8gQWx0aG91Z2ggd2UgY2FuJ3QgZG8gYW55dGhpbmcgYWJvdXQgdGhlIGNvc3Qgb2YgZHVwbGljYXRlZCBjb2RlIGZyb21cclxuLy8gYWNjaWRlbnRhbGx5IGJ1bmRsaW5nIG11bHRpcGxlIGNvcGllcyBvZiB0aGUgQHdyeS9jb250ZXh0IHBhY2thZ2UsIHdlIGNhblxyXG4vLyBhdm9pZCBjcmVhdGluZyB0aGUgU2xvdCBjbGFzcyBtb3JlIHRoYW4gb25jZSB1c2luZyBtYWtlU2xvdENsYXNzLlxyXG52YXIgbWFrZVNsb3RDbGFzcyA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIFNsb3QoKSB7XHJcbiAgICAgICAgLy8gSWYgeW91IGhhdmUgYSBTbG90IG9iamVjdCwgeW91IGNhbiBmaW5kIG91dCBpdHMgc2xvdC5pZCwgYnV0IHlvdSBjYW5ub3RcclxuICAgICAgICAvLyBndWVzcyB0aGUgc2xvdC5pZCBvZiBhIFNsb3QgeW91IGRvbid0IGhhdmUgYWNjZXNzIHRvLCB0aGFua3MgdG8gdGhlXHJcbiAgICAgICAgLy8gcmFuZG9taXplZCBzdWZmaXguXHJcbiAgICAgICAgdGhpcy5pZCA9IFtcclxuICAgICAgICAgICAgXCJzbG90XCIsXHJcbiAgICAgICAgICAgIGlkQ291bnRlcisrLFxyXG4gICAgICAgICAgICBEYXRlLm5vdygpLFxyXG4gICAgICAgICAgICBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zbGljZSgyKSxcclxuICAgICAgICBdLmpvaW4oXCI6XCIpO1xyXG4gICAgfVxyXG4gICAgU2xvdC5wcm90b3R5cGUuaGFzVmFsdWUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgZm9yICh2YXIgY29udGV4dF8xID0gY3VycmVudENvbnRleHQ7IGNvbnRleHRfMTsgY29udGV4dF8xID0gY29udGV4dF8xLnBhcmVudCkge1xyXG4gICAgICAgICAgICAvLyBXZSB1c2UgdGhlIFNsb3Qgb2JqZWN0IGlzZWxmIGFzIGEga2V5IHRvIGl0cyB2YWx1ZSwgd2hpY2ggbWVhbnMgdGhlXHJcbiAgICAgICAgICAgIC8vIHZhbHVlIGNhbm5vdCBiZSBvYnRhaW5lZCB3aXRob3V0IGEgcmVmZXJlbmNlIHRvIHRoZSBTbG90IG9iamVjdC5cclxuICAgICAgICAgICAgaWYgKHRoaXMuaWQgaW4gY29udGV4dF8xLnNsb3RzKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSBjb250ZXh0XzEuc2xvdHNbdGhpcy5pZF07XHJcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT09IE1JU1NJTkdfVkFMVUUpXHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBpZiAoY29udGV4dF8xICE9PSBjdXJyZW50Q29udGV4dCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIENhY2hlIHRoZSB2YWx1ZSBpbiBjdXJyZW50Q29udGV4dC5zbG90cyBzbyB0aGUgbmV4dCBsb29rdXAgd2lsbFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGJlIGZhc3Rlci4gVGhpcyBjYWNoaW5nIGlzIHNhZmUgYmVjYXVzZSB0aGUgdHJlZSBvZiBjb250ZXh0cyBhbmRcclxuICAgICAgICAgICAgICAgICAgICAvLyB0aGUgdmFsdWVzIG9mIHRoZSBzbG90cyBhcmUgbG9naWNhbGx5IGltbXV0YWJsZS5cclxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50Q29udGV4dC5zbG90c1t0aGlzLmlkXSA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGN1cnJlbnRDb250ZXh0KSB7XHJcbiAgICAgICAgICAgIC8vIElmIGEgdmFsdWUgd2FzIG5vdCBmb3VuZCBmb3IgdGhpcyBTbG90LCBpdCdzIG5ldmVyIGdvaW5nIHRvIGJlIGZvdW5kXHJcbiAgICAgICAgICAgIC8vIG5vIG1hdHRlciBob3cgbWFueSB0aW1lcyB3ZSBsb29rIGl0IHVwLCBzbyB3ZSBtaWdodCBhcyB3ZWxsIGNhY2hlXHJcbiAgICAgICAgICAgIC8vIHRoZSBhYnNlbmNlIG9mIHRoZSB2YWx1ZSwgdG9vLlxyXG4gICAgICAgICAgICBjdXJyZW50Q29udGV4dC5zbG90c1t0aGlzLmlkXSA9IE1JU1NJTkdfVkFMVUU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH07XHJcbiAgICBTbG90LnByb3RvdHlwZS5nZXRWYWx1ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAodGhpcy5oYXNWYWx1ZSgpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBjdXJyZW50Q29udGV4dC5zbG90c1t0aGlzLmlkXTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgU2xvdC5wcm90b3R5cGUud2l0aFZhbHVlID0gZnVuY3Rpb24gKHZhbHVlLCBjYWxsYmFjaywgXHJcbiAgICAvLyBHaXZlbiB0aGUgcHJldmFsZW5jZSBvZiBhcnJvdyBmdW5jdGlvbnMsIHNwZWNpZnlpbmcgYXJndW1lbnRzIGlzIGxpa2VseVxyXG4gICAgLy8gdG8gYmUgbXVjaCBtb3JlIGNvbW1vbiB0aGFuIHNwZWNpZnlpbmcgYHRoaXNgLCBoZW5jZSB0aGlzIG9yZGVyaW5nOlxyXG4gICAgYXJncywgdGhpc0FyZykge1xyXG4gICAgICAgIHZhciBfYTtcclxuICAgICAgICB2YXIgc2xvdHMgPSAoX2EgPSB7XHJcbiAgICAgICAgICAgICAgICBfX3Byb3RvX186IG51bGxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgX2FbdGhpcy5pZF0gPSB2YWx1ZSxcclxuICAgICAgICAgICAgX2EpO1xyXG4gICAgICAgIHZhciBwYXJlbnQgPSBjdXJyZW50Q29udGV4dDtcclxuICAgICAgICBjdXJyZW50Q29udGV4dCA9IHsgcGFyZW50OiBwYXJlbnQsIHNsb3RzOiBzbG90cyB9O1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIC8vIEZ1bmN0aW9uLnByb3RvdHlwZS5hcHBseSBhbGxvd3MgdGhlIGFyZ3VtZW50cyBhcnJheSBhcmd1bWVudCB0byBiZVxyXG4gICAgICAgICAgICAvLyBvbWl0dGVkIG9yIHVuZGVmaW5lZCwgc28gYXJncyEgaXMgZmluZSBoZXJlLlxyXG4gICAgICAgICAgICByZXR1cm4gY2FsbGJhY2suYXBwbHkodGhpc0FyZywgYXJncyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZpbmFsbHkge1xyXG4gICAgICAgICAgICBjdXJyZW50Q29udGV4dCA9IHBhcmVudDtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgLy8gQ2FwdHVyZSB0aGUgY3VycmVudCBjb250ZXh0IGFuZCB3cmFwIGEgY2FsbGJhY2sgZnVuY3Rpb24gc28gdGhhdCBpdFxyXG4gICAgLy8gcmVlc3RhYmxpc2hlcyB0aGUgY2FwdHVyZWQgY29udGV4dCB3aGVuIGNhbGxlZC5cclxuICAgIFNsb3QuYmluZCA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xyXG4gICAgICAgIHZhciBjb250ZXh0ID0gY3VycmVudENvbnRleHQ7XHJcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIHNhdmVkID0gY3VycmVudENvbnRleHQ7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBjdXJyZW50Q29udGV4dCA9IGNvbnRleHQ7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY2FsbGJhY2suYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmaW5hbGx5IHtcclxuICAgICAgICAgICAgICAgIGN1cnJlbnRDb250ZXh0ID0gc2F2ZWQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgfTtcclxuICAgIC8vIEltbWVkaWF0ZWx5IHJ1biBhIGNhbGxiYWNrIGZ1bmN0aW9uIHdpdGhvdXQgYW55IGNhcHR1cmVkIGNvbnRleHQuXHJcbiAgICBTbG90Lm5vQ29udGV4dCA9IGZ1bmN0aW9uIChjYWxsYmFjaywgXHJcbiAgICAvLyBHaXZlbiB0aGUgcHJldmFsZW5jZSBvZiBhcnJvdyBmdW5jdGlvbnMsIHNwZWNpZnlpbmcgYXJndW1lbnRzIGlzIGxpa2VseVxyXG4gICAgLy8gdG8gYmUgbXVjaCBtb3JlIGNvbW1vbiB0aGFuIHNwZWNpZnlpbmcgYHRoaXNgLCBoZW5jZSB0aGlzIG9yZGVyaW5nOlxyXG4gICAgYXJncywgdGhpc0FyZykge1xyXG4gICAgICAgIGlmIChjdXJyZW50Q29udGV4dCkge1xyXG4gICAgICAgICAgICB2YXIgc2F2ZWQgPSBjdXJyZW50Q29udGV4dDtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIGN1cnJlbnRDb250ZXh0ID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIC8vIEZ1bmN0aW9uLnByb3RvdHlwZS5hcHBseSBhbGxvd3MgdGhlIGFyZ3VtZW50cyBhcnJheSBhcmd1bWVudCB0byBiZVxyXG4gICAgICAgICAgICAgICAgLy8gb21pdHRlZCBvciB1bmRlZmluZWQsIHNvIGFyZ3MhIGlzIGZpbmUgaGVyZS5cclxuICAgICAgICAgICAgICAgIHJldHVybiBjYWxsYmFjay5hcHBseSh0aGlzQXJnLCBhcmdzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmaW5hbGx5IHtcclxuICAgICAgICAgICAgICAgIGN1cnJlbnRDb250ZXh0ID0gc2F2ZWQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBjYWxsYmFjay5hcHBseSh0aGlzQXJnLCBhcmdzKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIFNsb3Q7XHJcbn0oKSk7IH07XHJcbi8vIFdlIHN0b3JlIGEgc2luZ2xlIGdsb2JhbCBpbXBsZW1lbnRhdGlvbiBvZiB0aGUgU2xvdCBjbGFzcyBhcyBhIHBlcm1hbmVudFxyXG4vLyBub24tZW51bWVyYWJsZSBzeW1ib2wgcHJvcGVydHkgb2YgdGhlIEFycmF5IGNvbnN0cnVjdG9yLiBUaGlzIG9iZnVzY2F0aW9uXHJcbi8vIGRvZXMgbm90aGluZyB0byBwcmV2ZW50IGFjY2VzcyB0byB0aGUgU2xvdCBjbGFzcywgYnV0IGF0IGxlYXN0IGl0IGVuc3VyZXNcclxuLy8gdGhlIGltcGxlbWVudGF0aW9uIChpLmUuIGN1cnJlbnRDb250ZXh0KSBjYW5ub3QgYmUgdGFtcGVyZWQgd2l0aCwgYW5kIGFsbFxyXG4vLyBjb3BpZXMgb2YgdGhlIEB3cnkvY29udGV4dCBwYWNrYWdlIChob3BlZnVsbHkganVzdCBvbmUpIHdpbGwgc2hhcmUgdGhlXHJcbi8vIHNhbWUgU2xvdCBpbXBsZW1lbnRhdGlvbi4gU2luY2UgdGhlIGZpcnN0IGNvcHkgb2YgdGhlIEB3cnkvY29udGV4dCBwYWNrYWdlXHJcbi8vIHRvIGJlIGltcG9ydGVkIHdpbnMsIHRoaXMgdGVjaG5pcXVlIGltcG9zZXMgYSB2ZXJ5IGhpZ2ggY29zdCBmb3IgYW55XHJcbi8vIGZ1dHVyZSBicmVha2luZyBjaGFuZ2VzIHRvIHRoZSBTbG90IGNsYXNzLlxyXG52YXIgZ2xvYmFsS2V5ID0gXCJAd3J5L2NvbnRleHQ6U2xvdFwiO1xyXG52YXIgaG9zdCA9IEFycmF5O1xyXG52YXIgU2xvdCA9IGhvc3RbZ2xvYmFsS2V5XSB8fCBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgU2xvdCA9IG1ha2VTbG90Q2xhc3MoKTtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGhvc3QsIGdsb2JhbEtleSwge1xyXG4gICAgICAgICAgICB2YWx1ZTogaG9zdFtnbG9iYWxLZXldID0gU2xvdCxcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiBmYWxzZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiBmYWxzZSxcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIGZpbmFsbHkge1xyXG4gICAgICAgIHJldHVybiBTbG90O1xyXG4gICAgfVxyXG59KCk7XG5cbnZhciBiaW5kID0gU2xvdC5iaW5kLCBub0NvbnRleHQgPSBTbG90Lm5vQ29udGV4dDtcclxuZnVuY3Rpb24gc2V0VGltZW91dFdpdGhDb250ZXh0KGNhbGxiYWNrLCBkZWxheSkge1xyXG4gICAgcmV0dXJuIHNldFRpbWVvdXQoYmluZChjYWxsYmFjayksIGRlbGF5KTtcclxufVxyXG4vLyBUdXJuIGFueSBnZW5lcmF0b3IgZnVuY3Rpb24gaW50byBhbiBhc3luYyBmdW5jdGlvbiAodXNpbmcgeWllbGQgaW5zdGVhZFxyXG4vLyBvZiBhd2FpdCksIHdpdGggY29udGV4dCBhdXRvbWF0aWNhbGx5IHByZXNlcnZlZCBhY3Jvc3MgeWllbGRzLlxyXG5mdW5jdGlvbiBhc3luY0Zyb21HZW4oZ2VuRm4pIHtcclxuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGdlbiA9IGdlbkZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbiAgICAgICAgdmFyIGJvdW5kTmV4dCA9IGJpbmQoZ2VuLm5leHQpO1xyXG4gICAgICAgIHZhciBib3VuZFRocm93ID0gYmluZChnZW4udGhyb3cpO1xyXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGludm9rZShtZXRob2QsIGFyZ3VtZW50KSB7XHJcbiAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBtZXRob2QuY2FsbChnZW4sIGFyZ3VtZW50KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZWplY3QoZXJyb3IpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdmFyIG5leHQgPSByZXN1bHQuZG9uZSA/IHJlc29sdmUgOiBpbnZva2VOZXh0O1xyXG4gICAgICAgICAgICAgICAgaWYgKGlzUHJvbWlzZUxpa2UocmVzdWx0LnZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC52YWx1ZS50aGVuKG5leHQsIHJlc3VsdC5kb25lID8gcmVqZWN0IDogaW52b2tlVGhyb3cpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV4dChyZXN1bHQudmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciBpbnZva2VOZXh0ID0gZnVuY3Rpb24gKHZhbHVlKSB7IHJldHVybiBpbnZva2UoYm91bmROZXh0LCB2YWx1ZSk7IH07XHJcbiAgICAgICAgICAgIHZhciBpbnZva2VUaHJvdyA9IGZ1bmN0aW9uIChlcnJvcikgeyByZXR1cm4gaW52b2tlKGJvdW5kVGhyb3csIGVycm9yKTsgfTtcclxuICAgICAgICAgICAgaW52b2tlTmV4dCgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxufVxyXG5mdW5jdGlvbiBpc1Byb21pc2VMaWtlKHZhbHVlKSB7XHJcbiAgICByZXR1cm4gdmFsdWUgJiYgdHlwZW9mIHZhbHVlLnRoZW4gPT09IFwiZnVuY3Rpb25cIjtcclxufVxyXG4vLyBJZiB5b3UgdXNlIHRoZSBmaWJlcnMgbnBtIHBhY2thZ2UgdG8gaW1wbGVtZW50IGNvcm91dGluZXMgaW4gTm9kZS5qcyxcclxuLy8geW91IHNob3VsZCBjYWxsIHRoaXMgZnVuY3Rpb24gYXQgbGVhc3Qgb25jZSB0byBlbnN1cmUgY29udGV4dCBtYW5hZ2VtZW50XHJcbi8vIHJlbWFpbnMgY29oZXJlbnQgYWNyb3NzIGFueSB5aWVsZHMuXHJcbnZhciB3cmFwcGVkRmliZXJzID0gW107XHJcbmZ1bmN0aW9uIHdyYXBZaWVsZGluZ0ZpYmVyTWV0aG9kcyhGaWJlcikge1xyXG4gICAgLy8gVGhlcmUgY2FuIGJlIG9ubHkgb25lIGltcGxlbWVudGF0aW9uIG9mIEZpYmVyIHBlciBwcm9jZXNzLCBzbyB0aGlzIGFycmF5XHJcbiAgICAvLyBzaG91bGQgbmV2ZXIgZ3JvdyBsb25nZXIgdGhhbiBvbmUgZWxlbWVudC5cclxuICAgIGlmICh3cmFwcGVkRmliZXJzLmluZGV4T2YoRmliZXIpIDwgMCkge1xyXG4gICAgICAgIHZhciB3cmFwID0gZnVuY3Rpb24gKG9iaiwgbWV0aG9kKSB7XHJcbiAgICAgICAgICAgIHZhciBmbiA9IG9ialttZXRob2RdO1xyXG4gICAgICAgICAgICBvYmpbbWV0aG9kXSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBub0NvbnRleHQoZm4sIGFyZ3VtZW50cywgdGhpcyk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfTtcclxuICAgICAgICAvLyBUaGVzZSBtZXRob2RzIGNhbiB5aWVsZCwgYWNjb3JkaW5nIHRvXHJcbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2xhdmVyZGV0L25vZGUtZmliZXJzL2Jsb2IvZGRlYmVkOWI4YWUzODgzZTU3ZjgyMmUyMTA4ZTY5NDNlNWM4ZDJhOC9maWJlcnMuanMjTDk3LUwxMDBcclxuICAgICAgICB3cmFwKEZpYmVyLCBcInlpZWxkXCIpO1xyXG4gICAgICAgIHdyYXAoRmliZXIucHJvdG90eXBlLCBcInJ1blwiKTtcclxuICAgICAgICB3cmFwKEZpYmVyLnByb3RvdHlwZSwgXCJ0aHJvd0ludG9cIik7XHJcbiAgICAgICAgd3JhcHBlZEZpYmVycy5wdXNoKEZpYmVyKTtcclxuICAgIH1cclxuICAgIHJldHVybiBGaWJlcjtcclxufVxuXG5leHBvcnQgeyBTbG90LCBhc3luY0Zyb21HZW4sIGJpbmQsIG5vQ29udGV4dCwgc2V0VGltZW91dFdpdGhDb250ZXh0IGFzIHNldFRpbWVvdXQsIHdyYXBZaWVsZGluZ0ZpYmVyTWV0aG9kcyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29udGV4dC5lc20uanMubWFwXG4iLCJpbXBvcnQgeyBTbG90IH0gZnJvbSAnQHdyeS9jb250ZXh0JztcbmV4cG9ydCB7IGFzeW5jRnJvbUdlbiwgYmluZCBhcyBiaW5kQ29udGV4dCwgbm9Db250ZXh0LCBzZXRUaW1lb3V0IH0gZnJvbSAnQHdyeS9jb250ZXh0JztcblxuZnVuY3Rpb24gZGVmYXVsdERpc3Bvc2UoKSB7IH1cclxudmFyIENhY2hlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gQ2FjaGUobWF4LCBkaXNwb3NlKSB7XHJcbiAgICAgICAgaWYgKG1heCA9PT0gdm9pZCAwKSB7IG1heCA9IEluZmluaXR5OyB9XHJcbiAgICAgICAgaWYgKGRpc3Bvc2UgPT09IHZvaWQgMCkgeyBkaXNwb3NlID0gZGVmYXVsdERpc3Bvc2U7IH1cclxuICAgICAgICB0aGlzLm1heCA9IG1heDtcclxuICAgICAgICB0aGlzLmRpc3Bvc2UgPSBkaXNwb3NlO1xyXG4gICAgICAgIHRoaXMubWFwID0gbmV3IE1hcCgpO1xyXG4gICAgICAgIHRoaXMubmV3ZXN0ID0gbnVsbDtcclxuICAgICAgICB0aGlzLm9sZGVzdCA9IG51bGw7XHJcbiAgICB9XHJcbiAgICBDYWNoZS5wcm90b3R5cGUuaGFzID0gZnVuY3Rpb24gKGtleSkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLm1hcC5oYXMoa2V5KTtcclxuICAgIH07XHJcbiAgICBDYWNoZS5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gKGtleSkge1xyXG4gICAgICAgIHZhciBlbnRyeSA9IHRoaXMuZ2V0RW50cnkoa2V5KTtcclxuICAgICAgICByZXR1cm4gZW50cnkgJiYgZW50cnkudmFsdWU7XHJcbiAgICB9O1xyXG4gICAgQ2FjaGUucHJvdG90eXBlLmdldEVudHJ5ID0gZnVuY3Rpb24gKGtleSkge1xyXG4gICAgICAgIHZhciBlbnRyeSA9IHRoaXMubWFwLmdldChrZXkpO1xyXG4gICAgICAgIGlmIChlbnRyeSAmJiBlbnRyeSAhPT0gdGhpcy5uZXdlc3QpIHtcclxuICAgICAgICAgICAgdmFyIG9sZGVyID0gZW50cnkub2xkZXIsIG5ld2VyID0gZW50cnkubmV3ZXI7XHJcbiAgICAgICAgICAgIGlmIChuZXdlcikge1xyXG4gICAgICAgICAgICAgICAgbmV3ZXIub2xkZXIgPSBvbGRlcjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAob2xkZXIpIHtcclxuICAgICAgICAgICAgICAgIG9sZGVyLm5ld2VyID0gbmV3ZXI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZW50cnkub2xkZXIgPSB0aGlzLm5ld2VzdDtcclxuICAgICAgICAgICAgZW50cnkub2xkZXIubmV3ZXIgPSBlbnRyeTtcclxuICAgICAgICAgICAgZW50cnkubmV3ZXIgPSBudWxsO1xyXG4gICAgICAgICAgICB0aGlzLm5ld2VzdCA9IGVudHJ5O1xyXG4gICAgICAgICAgICBpZiAoZW50cnkgPT09IHRoaXMub2xkZXN0KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9sZGVzdCA9IG5ld2VyO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBlbnRyeTtcclxuICAgIH07XHJcbiAgICBDYWNoZS5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcclxuICAgICAgICB2YXIgZW50cnkgPSB0aGlzLmdldEVudHJ5KGtleSk7XHJcbiAgICAgICAgaWYgKGVudHJ5KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBlbnRyeS52YWx1ZSA9IHZhbHVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbnRyeSA9IHtcclxuICAgICAgICAgICAga2V5OiBrZXksXHJcbiAgICAgICAgICAgIHZhbHVlOiB2YWx1ZSxcclxuICAgICAgICAgICAgbmV3ZXI6IG51bGwsXHJcbiAgICAgICAgICAgIG9sZGVyOiB0aGlzLm5ld2VzdFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgaWYgKHRoaXMubmV3ZXN0KSB7XHJcbiAgICAgICAgICAgIHRoaXMubmV3ZXN0Lm5ld2VyID0gZW50cnk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMubmV3ZXN0ID0gZW50cnk7XHJcbiAgICAgICAgdGhpcy5vbGRlc3QgPSB0aGlzLm9sZGVzdCB8fCBlbnRyeTtcclxuICAgICAgICB0aGlzLm1hcC5zZXQoa2V5LCBlbnRyeSk7XHJcbiAgICAgICAgcmV0dXJuIGVudHJ5LnZhbHVlO1xyXG4gICAgfTtcclxuICAgIENhY2hlLnByb3RvdHlwZS5jbGVhbiA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB3aGlsZSAodGhpcy5vbGRlc3QgJiYgdGhpcy5tYXAuc2l6ZSA+IHRoaXMubWF4KSB7XHJcbiAgICAgICAgICAgIHRoaXMuZGVsZXRlKHRoaXMub2xkZXN0LmtleSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIENhY2hlLnByb3RvdHlwZS5kZWxldGUgPSBmdW5jdGlvbiAoa2V5KSB7XHJcbiAgICAgICAgdmFyIGVudHJ5ID0gdGhpcy5tYXAuZ2V0KGtleSk7XHJcbiAgICAgICAgaWYgKGVudHJ5KSB7XHJcbiAgICAgICAgICAgIGlmIChlbnRyeSA9PT0gdGhpcy5uZXdlc3QpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubmV3ZXN0ID0gZW50cnkub2xkZXI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGVudHJ5ID09PSB0aGlzLm9sZGVzdCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5vbGRlc3QgPSBlbnRyeS5uZXdlcjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoZW50cnkubmV3ZXIpIHtcclxuICAgICAgICAgICAgICAgIGVudHJ5Lm5ld2VyLm9sZGVyID0gZW50cnkub2xkZXI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGVudHJ5Lm9sZGVyKSB7XHJcbiAgICAgICAgICAgICAgICBlbnRyeS5vbGRlci5uZXdlciA9IGVudHJ5Lm5ld2VyO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMubWFwLmRlbGV0ZShrZXkpO1xyXG4gICAgICAgICAgICB0aGlzLmRpc3Bvc2UoZW50cnkudmFsdWUsIGtleSk7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIENhY2hlO1xyXG59KCkpO1xuXG52YXIgcGFyZW50RW50cnlTbG90ID0gbmV3IFNsb3QoKTtcblxudmFyIHJldXNhYmxlRW1wdHlBcnJheSA9IFtdO1xyXG52YXIgZW1wdHlTZXRQb29sID0gW107XHJcbnZhciBQT09MX1RBUkdFVF9TSVpFID0gMTAwO1xyXG4vLyBTaW5jZSB0aGlzIHBhY2thZ2UgbWlnaHQgYmUgdXNlZCBicm93c2Vycywgd2Ugc2hvdWxkIGF2b2lkIHVzaW5nIHRoZVxyXG4vLyBOb2RlIGJ1aWx0LWluIGFzc2VydCBtb2R1bGUuXHJcbmZ1bmN0aW9uIGFzc2VydChjb25kaXRpb24sIG9wdGlvbmFsTWVzc2FnZSkge1xyXG4gICAgaWYgKCFjb25kaXRpb24pIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3Iob3B0aW9uYWxNZXNzYWdlIHx8IFwiYXNzZXJ0aW9uIGZhaWx1cmVcIik7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gdmFsdWVJcyhhLCBiKSB7XHJcbiAgICB2YXIgbGVuID0gYS5sZW5ndGg7XHJcbiAgICByZXR1cm4gKFxyXG4gICAgLy8gVW5rbm93biB2YWx1ZXMgYXJlIG5vdCBlcXVhbCB0byBlYWNoIG90aGVyLlxyXG4gICAgbGVuID4gMCAmJlxyXG4gICAgICAgIC8vIEJvdGggdmFsdWVzIG11c3QgYmUgb3JkaW5hcnkgKG9yIGJvdGggZXhjZXB0aW9uYWwpIHRvIGJlIGVxdWFsLlxyXG4gICAgICAgIGxlbiA9PT0gYi5sZW5ndGggJiZcclxuICAgICAgICAvLyBUaGUgdW5kZXJseWluZyB2YWx1ZSBvciBleGNlcHRpb24gbXVzdCBiZSB0aGUgc2FtZS5cclxuICAgICAgICBhW2xlbiAtIDFdID09PSBiW2xlbiAtIDFdKTtcclxufVxyXG5mdW5jdGlvbiB2YWx1ZUdldCh2YWx1ZSkge1xyXG4gICAgc3dpdGNoICh2YWx1ZS5sZW5ndGgpIHtcclxuICAgICAgICBjYXNlIDA6IHRocm93IG5ldyBFcnJvcihcInVua25vd24gdmFsdWVcIik7XHJcbiAgICAgICAgY2FzZSAxOiByZXR1cm4gdmFsdWVbMF07XHJcbiAgICAgICAgY2FzZSAyOiB0aHJvdyB2YWx1ZVsxXTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiB2YWx1ZUNvcHkodmFsdWUpIHtcclxuICAgIHJldHVybiB2YWx1ZS5zbGljZSgwKTtcclxufVxyXG52YXIgRW50cnkgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBFbnRyeShmbiwgYXJncykge1xyXG4gICAgICAgIHRoaXMuZm4gPSBmbjtcclxuICAgICAgICB0aGlzLmFyZ3MgPSBhcmdzO1xyXG4gICAgICAgIHRoaXMucGFyZW50cyA9IG5ldyBTZXQoKTtcclxuICAgICAgICB0aGlzLmNoaWxkVmFsdWVzID0gbmV3IE1hcCgpO1xyXG4gICAgICAgIC8vIFdoZW4gdGhpcyBFbnRyeSBoYXMgY2hpbGRyZW4gdGhhdCBhcmUgZGlydHksIHRoaXMgcHJvcGVydHkgYmVjb21lc1xyXG4gICAgICAgIC8vIGEgU2V0IGNvbnRhaW5pbmcgb3RoZXIgRW50cnkgb2JqZWN0cywgYm9ycm93ZWQgZnJvbSBlbXB0eVNldFBvb2wuXHJcbiAgICAgICAgLy8gV2hlbiB0aGUgc2V0IGJlY29tZXMgZW1wdHksIGl0IGdldHMgcmVjeWNsZWQgYmFjayB0byBlbXB0eVNldFBvb2wuXHJcbiAgICAgICAgdGhpcy5kaXJ0eUNoaWxkcmVuID0gbnVsbDtcclxuICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLnJlY29tcHV0aW5nID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy52YWx1ZSA9IFtdO1xyXG4gICAgICAgICsrRW50cnkuY291bnQ7XHJcbiAgICB9XHJcbiAgICAvLyBUaGlzIGlzIHRoZSBtb3N0IGltcG9ydGFudCBtZXRob2Qgb2YgdGhlIEVudHJ5IEFQSSwgYmVjYXVzZSBpdFxyXG4gICAgLy8gZGV0ZXJtaW5lcyB3aGV0aGVyIHRoZSBjYWNoZWQgdGhpcy52YWx1ZSBjYW4gYmUgcmV0dXJuZWQgaW1tZWRpYXRlbHksXHJcbiAgICAvLyBvciBtdXN0IGJlIHJlY29tcHV0ZWQuIFRoZSBvdmVyYWxsIHBlcmZvcm1hbmNlIG9mIHRoZSBjYWNoaW5nIHN5c3RlbVxyXG4gICAgLy8gZGVwZW5kcyBvbiB0aGUgdHJ1dGggb2YgdGhlIGZvbGxvd2luZyBvYnNlcnZhdGlvbnM6ICgxKSB0aGlzLmRpcnR5IGlzXHJcbiAgICAvLyB1c3VhbGx5IGZhbHNlLCAoMikgdGhpcy5kaXJ0eUNoaWxkcmVuIGlzIHVzdWFsbHkgbnVsbC9lbXB0eSwgYW5kIHRodXNcclxuICAgIC8vICgzKSB2YWx1ZUdldCh0aGlzLnZhbHVlKSBpcyB1c3VhbGx5IHJldHVybmVkIHdpdGhvdXQgcmVjb21wdXRhdGlvbi5cclxuICAgIEVudHJ5LnByb3RvdHlwZS5yZWNvbXB1dGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgYXNzZXJ0KCF0aGlzLnJlY29tcHV0aW5nLCBcImFscmVhZHkgcmVjb21wdXRpbmdcIik7XHJcbiAgICAgICAgaWYgKCFyZW1lbWJlclBhcmVudCh0aGlzKSAmJiBtYXliZVJlcG9ydE9ycGhhbih0aGlzKSkge1xyXG4gICAgICAgICAgICAvLyBUaGUgcmVjaXBpZW50IG9mIHRoZSBlbnRyeS5yZXBvcnRPcnBoYW4gY2FsbGJhY2sgZGVjaWRlZCB0byBkaXNwb3NlXHJcbiAgICAgICAgICAgIC8vIG9mIHRoaXMgb3JwaGFuIGVudHJ5IGJ5IGNhbGxpbmcgZW50cnkuZGlzcG9zZSgpLCBzbyB3ZSBkb24ndCBuZWVkIHRvXHJcbiAgICAgICAgICAgIC8vIChhbmQgc2hvdWxkIG5vdCkgcHJvY2VlZCB3aXRoIHRoZSByZWNvbXB1dGF0aW9uLlxyXG4gICAgICAgICAgICByZXR1cm4gdm9pZCAwO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbWlnaHRCZURpcnR5KHRoaXMpXHJcbiAgICAgICAgICAgID8gcmVhbGx5UmVjb21wdXRlKHRoaXMpXHJcbiAgICAgICAgICAgIDogdmFsdWVHZXQodGhpcy52YWx1ZSk7XHJcbiAgICB9O1xyXG4gICAgRW50cnkucHJvdG90eXBlLnNldERpcnR5ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmRpcnR5KVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy52YWx1ZS5sZW5ndGggPSAwO1xyXG4gICAgICAgIHJlcG9ydERpcnR5KHRoaXMpO1xyXG4gICAgICAgIC8vIFdlIGNhbiBnbyBhaGVhZCBhbmQgdW5zdWJzY3JpYmUgaGVyZSwgc2luY2UgYW55IGZ1cnRoZXIgZGlydHlcclxuICAgICAgICAvLyBub3RpZmljYXRpb25zIHdlIHJlY2VpdmUgd2lsbCBiZSByZWR1bmRhbnQsIGFuZCB1bnN1YnNjcmliaW5nIG1heVxyXG4gICAgICAgIC8vIGZyZWUgdXAgc29tZSByZXNvdXJjZXMsIGUuZy4gZmlsZSB3YXRjaGVycy5cclxuICAgICAgICBtYXliZVVuc3Vic2NyaWJlKHRoaXMpO1xyXG4gICAgfTtcclxuICAgIEVudHJ5LnByb3RvdHlwZS5kaXNwb3NlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgZm9yZ2V0Q2hpbGRyZW4odGhpcykuZm9yRWFjaChtYXliZVJlcG9ydE9ycGhhbik7XHJcbiAgICAgICAgbWF5YmVVbnN1YnNjcmliZSh0aGlzKTtcclxuICAgICAgICAvLyBCZWNhdXNlIHRoaXMgZW50cnkgaGFzIGJlZW4ga2lja2VkIG91dCBvZiB0aGUgY2FjaGUgKGluIGluZGV4LmpzKSxcclxuICAgICAgICAvLyB3ZSd2ZSBsb3N0IHRoZSBhYmlsaXR5IHRvIGZpbmQgb3V0IGlmL3doZW4gdGhpcyBlbnRyeSBiZWNvbWVzIGRpcnR5LFxyXG4gICAgICAgIC8vIHdoZXRoZXIgdGhhdCBoYXBwZW5zIHRocm91Z2ggYSBzdWJzY3JpcHRpb24sIGJlY2F1c2Ugb2YgYSBkaXJlY3QgY2FsbFxyXG4gICAgICAgIC8vIHRvIGVudHJ5LnNldERpcnR5KCksIG9yIGJlY2F1c2Ugb25lIG9mIGl0cyBjaGlsZHJlbiBiZWNvbWVzIGRpcnR5LlxyXG4gICAgICAgIC8vIEJlY2F1c2Ugb2YgdGhpcyBsb3NzIG9mIGZ1dHVyZSBpbmZvcm1hdGlvbiwgd2UgaGF2ZSB0byBhc3N1bWUgdGhlXHJcbiAgICAgICAgLy8gd29yc3QgKHRoYXQgdGhpcyBlbnRyeSBtaWdodCBoYXZlIGJlY29tZSBkaXJ0eSB2ZXJ5IHNvb24pLCBzbyB3ZSBtdXN0XHJcbiAgICAgICAgLy8gaW1tZWRpYXRlbHkgbWFyayB0aGlzIGVudHJ5J3MgcGFyZW50cyBhcyBkaXJ0eS4gTm9ybWFsbHkgd2UgY291bGRcclxuICAgICAgICAvLyBqdXN0IGNhbGwgZW50cnkuc2V0RGlydHkoKSByYXRoZXIgdGhhbiBjYWxsaW5nIHBhcmVudC5zZXREaXJ0eSgpIGZvclxyXG4gICAgICAgIC8vIGVhY2ggcGFyZW50LCBidXQgdGhhdCB3b3VsZCBsZWF2ZSB0aGlzIGVudHJ5IGluIHBhcmVudC5jaGlsZFZhbHVlc1xyXG4gICAgICAgIC8vIGFuZCBwYXJlbnQuZGlydHlDaGlsZHJlbiwgd2hpY2ggd291bGQgcHJldmVudCB0aGUgY2hpbGQgZnJvbSBiZWluZ1xyXG4gICAgICAgIC8vIHRydWx5IGZvcmdvdHRlbi5cclxuICAgICAgICB0aGlzLnBhcmVudHMuZm9yRWFjaChmdW5jdGlvbiAocGFyZW50KSB7XHJcbiAgICAgICAgICAgIHBhcmVudC5zZXREaXJ0eSgpO1xyXG4gICAgICAgICAgICBmb3JnZXRDaGlsZChwYXJlbnQsIF90aGlzKTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICBFbnRyeS5jb3VudCA9IDA7XHJcbiAgICByZXR1cm4gRW50cnk7XHJcbn0oKSk7XHJcbmZ1bmN0aW9uIHJlbWVtYmVyUGFyZW50KGNoaWxkKSB7XHJcbiAgICB2YXIgcGFyZW50ID0gcGFyZW50RW50cnlTbG90LmdldFZhbHVlKCk7XHJcbiAgICBpZiAocGFyZW50KSB7XHJcbiAgICAgICAgY2hpbGQucGFyZW50cy5hZGQocGFyZW50KTtcclxuICAgICAgICBpZiAoIXBhcmVudC5jaGlsZFZhbHVlcy5oYXMoY2hpbGQpKSB7XHJcbiAgICAgICAgICAgIHBhcmVudC5jaGlsZFZhbHVlcy5zZXQoY2hpbGQsIFtdKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKG1pZ2h0QmVEaXJ0eShjaGlsZCkpIHtcclxuICAgICAgICAgICAgcmVwb3J0RGlydHlDaGlsZChwYXJlbnQsIGNoaWxkKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJlcG9ydENsZWFuQ2hpbGQocGFyZW50LCBjaGlsZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBwYXJlbnQ7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gcmVhbGx5UmVjb21wdXRlKGVudHJ5KSB7XHJcbiAgICAvLyBTaW5jZSB0aGlzIHJlY29tcHV0YXRpb24gaXMgbGlrZWx5IHRvIHJlLXJlbWVtYmVyIHNvbWUgb2YgdGhpc1xyXG4gICAgLy8gZW50cnkncyBjaGlsZHJlbiwgd2UgZm9yZ2V0IG91ciBjaGlsZHJlbiBoZXJlIGJ1dCBkbyBub3QgY2FsbFxyXG4gICAgLy8gbWF5YmVSZXBvcnRPcnBoYW4gdW50aWwgYWZ0ZXIgdGhlIHJlY29tcHV0YXRpb24gZmluaXNoZXMuXHJcbiAgICB2YXIgb3JpZ2luYWxDaGlsZHJlbiA9IGZvcmdldENoaWxkcmVuKGVudHJ5KTtcclxuICAgIC8vIFNldCBlbnRyeSBhcyB0aGUgcGFyZW50IGVudHJ5IHdoaWxlIGNhbGxpbmcgcmVjb21wdXRlTmV3VmFsdWUoZW50cnkpLlxyXG4gICAgcGFyZW50RW50cnlTbG90LndpdGhWYWx1ZShlbnRyeSwgcmVjb21wdXRlTmV3VmFsdWUsIFtlbnRyeV0pO1xyXG4gICAgaWYgKG1heWJlU3Vic2NyaWJlKGVudHJ5KSkge1xyXG4gICAgICAgIC8vIElmIHdlIHN1Y2Nlc3NmdWxseSByZWNvbXB1dGVkIGVudHJ5LnZhbHVlIGFuZCBkaWQgbm90IGZhaWwgdG9cclxuICAgICAgICAvLyAocmUpc3Vic2NyaWJlLCB0aGVuIHRoaXMgRW50cnkgaXMgbm8gbG9uZ2VyIGV4cGxpY2l0bHkgZGlydHkuXHJcbiAgICAgICAgc2V0Q2xlYW4oZW50cnkpO1xyXG4gICAgfVxyXG4gICAgLy8gTm93IHRoYXQgd2UndmUgaGFkIGEgY2hhbmNlIHRvIHJlLXJlbWVtYmVyIGFueSBjaGlsZHJlbiB0aGF0IHdlcmVcclxuICAgIC8vIGludm9sdmVkIGluIHRoZSByZWNvbXB1dGF0aW9uLCB3ZSBjYW4gc2FmZWx5IHJlcG9ydCBhbnkgb3JwaGFuXHJcbiAgICAvLyBjaGlsZHJlbiB0aGF0IHJlbWFpbi5cclxuICAgIG9yaWdpbmFsQ2hpbGRyZW4uZm9yRWFjaChtYXliZVJlcG9ydE9ycGhhbik7XHJcbiAgICByZXR1cm4gdmFsdWVHZXQoZW50cnkudmFsdWUpO1xyXG59XHJcbmZ1bmN0aW9uIHJlY29tcHV0ZU5ld1ZhbHVlKGVudHJ5KSB7XHJcbiAgICBlbnRyeS5yZWNvbXB1dGluZyA9IHRydWU7XHJcbiAgICAvLyBTZXQgZW50cnkudmFsdWUgYXMgdW5rbm93bi5cclxuICAgIGVudHJ5LnZhbHVlLmxlbmd0aCA9IDA7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIC8vIElmIGVudHJ5LmZuIHN1Y2NlZWRzLCBlbnRyeS52YWx1ZSB3aWxsIGJlY29tZSBhIG5vcm1hbCBWYWx1ZS5cclxuICAgICAgICBlbnRyeS52YWx1ZVswXSA9IGVudHJ5LmZuLmFwcGx5KG51bGwsIGVudHJ5LmFyZ3MpO1xyXG4gICAgfVxyXG4gICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICAvLyBJZiBlbnRyeS5mbiB0aHJvd3MsIGVudHJ5LnZhbHVlIHdpbGwgYmVjb21lIGV4Y2VwdGlvbmFsLlxyXG4gICAgICAgIGVudHJ5LnZhbHVlWzFdID0gZTtcclxuICAgIH1cclxuICAgIC8vIEVpdGhlciB3YXksIHRoaXMgbGluZSBpcyBhbHdheXMgcmVhY2hlZC5cclxuICAgIGVudHJ5LnJlY29tcHV0aW5nID0gZmFsc2U7XHJcbn1cclxuZnVuY3Rpb24gbWlnaHRCZURpcnR5KGVudHJ5KSB7XHJcbiAgICByZXR1cm4gZW50cnkuZGlydHkgfHwgISEoZW50cnkuZGlydHlDaGlsZHJlbiAmJiBlbnRyeS5kaXJ0eUNoaWxkcmVuLnNpemUpO1xyXG59XHJcbmZ1bmN0aW9uIHNldENsZWFuKGVudHJ5KSB7XHJcbiAgICBlbnRyeS5kaXJ0eSA9IGZhbHNlO1xyXG4gICAgaWYgKG1pZ2h0QmVEaXJ0eShlbnRyeSkpIHtcclxuICAgICAgICAvLyBUaGlzIEVudHJ5IG1heSBzdGlsbCBoYXZlIGRpcnR5IGNoaWxkcmVuLCBpbiB3aGljaCBjYXNlIHdlIGNhbid0XHJcbiAgICAgICAgLy8gbGV0IG91ciBwYXJlbnRzIGtub3cgd2UncmUgY2xlYW4ganVzdCB5ZXQuXHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgcmVwb3J0Q2xlYW4oZW50cnkpO1xyXG59XHJcbmZ1bmN0aW9uIHJlcG9ydERpcnR5KGNoaWxkKSB7XHJcbiAgICBjaGlsZC5wYXJlbnRzLmZvckVhY2goZnVuY3Rpb24gKHBhcmVudCkgeyByZXR1cm4gcmVwb3J0RGlydHlDaGlsZChwYXJlbnQsIGNoaWxkKTsgfSk7XHJcbn1cclxuZnVuY3Rpb24gcmVwb3J0Q2xlYW4oY2hpbGQpIHtcclxuICAgIGNoaWxkLnBhcmVudHMuZm9yRWFjaChmdW5jdGlvbiAocGFyZW50KSB7IHJldHVybiByZXBvcnRDbGVhbkNoaWxkKHBhcmVudCwgY2hpbGQpOyB9KTtcclxufVxyXG4vLyBMZXQgYSBwYXJlbnQgRW50cnkga25vdyB0aGF0IG9uZSBvZiBpdHMgY2hpbGRyZW4gbWF5IGJlIGRpcnR5LlxyXG5mdW5jdGlvbiByZXBvcnREaXJ0eUNoaWxkKHBhcmVudCwgY2hpbGQpIHtcclxuICAgIC8vIE11c3QgaGF2ZSBjYWxsZWQgcmVtZW1iZXJQYXJlbnQoY2hpbGQpIGJlZm9yZSBjYWxsaW5nXHJcbiAgICAvLyByZXBvcnREaXJ0eUNoaWxkKHBhcmVudCwgY2hpbGQpLlxyXG4gICAgYXNzZXJ0KHBhcmVudC5jaGlsZFZhbHVlcy5oYXMoY2hpbGQpKTtcclxuICAgIGFzc2VydChtaWdodEJlRGlydHkoY2hpbGQpKTtcclxuICAgIGlmICghcGFyZW50LmRpcnR5Q2hpbGRyZW4pIHtcclxuICAgICAgICBwYXJlbnQuZGlydHlDaGlsZHJlbiA9IGVtcHR5U2V0UG9vbC5wb3AoKSB8fCBuZXcgU2V0O1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAocGFyZW50LmRpcnR5Q2hpbGRyZW4uaGFzKGNoaWxkKSkge1xyXG4gICAgICAgIC8vIElmIHdlIGFscmVhZHkga25vdyB0aGlzIGNoaWxkIGlzIGRpcnR5LCB0aGVuIHdlIG11c3QgaGF2ZSBhbHJlYWR5XHJcbiAgICAgICAgLy8gaW5mb3JtZWQgb3VyIG93biBwYXJlbnRzIHRoYXQgd2UgYXJlIGRpcnR5LCBzbyB3ZSBjYW4gdGVybWluYXRlXHJcbiAgICAgICAgLy8gdGhlIHJlY3Vyc2lvbiBlYXJseS5cclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBwYXJlbnQuZGlydHlDaGlsZHJlbi5hZGQoY2hpbGQpO1xyXG4gICAgcmVwb3J0RGlydHkocGFyZW50KTtcclxufVxyXG4vLyBMZXQgYSBwYXJlbnQgRW50cnkga25vdyB0aGF0IG9uZSBvZiBpdHMgY2hpbGRyZW4gaXMgbm8gbG9uZ2VyIGRpcnR5LlxyXG5mdW5jdGlvbiByZXBvcnRDbGVhbkNoaWxkKHBhcmVudCwgY2hpbGQpIHtcclxuICAgIC8vIE11c3QgaGF2ZSBjYWxsZWQgcmVtZW1iZXJDaGlsZChjaGlsZCkgYmVmb3JlIGNhbGxpbmdcclxuICAgIC8vIHJlcG9ydENsZWFuQ2hpbGQocGFyZW50LCBjaGlsZCkuXHJcbiAgICBhc3NlcnQocGFyZW50LmNoaWxkVmFsdWVzLmhhcyhjaGlsZCkpO1xyXG4gICAgYXNzZXJ0KCFtaWdodEJlRGlydHkoY2hpbGQpKTtcclxuICAgIHZhciBjaGlsZFZhbHVlID0gcGFyZW50LmNoaWxkVmFsdWVzLmdldChjaGlsZCk7XHJcbiAgICBpZiAoY2hpbGRWYWx1ZS5sZW5ndGggPT09IDApIHtcclxuICAgICAgICBwYXJlbnQuY2hpbGRWYWx1ZXMuc2V0KGNoaWxkLCB2YWx1ZUNvcHkoY2hpbGQudmFsdWUpKTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKCF2YWx1ZUlzKGNoaWxkVmFsdWUsIGNoaWxkLnZhbHVlKSkge1xyXG4gICAgICAgIHBhcmVudC5zZXREaXJ0eSgpO1xyXG4gICAgfVxyXG4gICAgcmVtb3ZlRGlydHlDaGlsZChwYXJlbnQsIGNoaWxkKTtcclxuICAgIGlmIChtaWdodEJlRGlydHkocGFyZW50KSkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIHJlcG9ydENsZWFuKHBhcmVudCk7XHJcbn1cclxuZnVuY3Rpb24gcmVtb3ZlRGlydHlDaGlsZChwYXJlbnQsIGNoaWxkKSB7XHJcbiAgICB2YXIgZGMgPSBwYXJlbnQuZGlydHlDaGlsZHJlbjtcclxuICAgIGlmIChkYykge1xyXG4gICAgICAgIGRjLmRlbGV0ZShjaGlsZCk7XHJcbiAgICAgICAgaWYgKGRjLnNpemUgPT09IDApIHtcclxuICAgICAgICAgICAgaWYgKGVtcHR5U2V0UG9vbC5sZW5ndGggPCBQT09MX1RBUkdFVF9TSVpFKSB7XHJcbiAgICAgICAgICAgICAgICBlbXB0eVNldFBvb2wucHVzaChkYyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcGFyZW50LmRpcnR5Q2hpbGRyZW4gPSBudWxsO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4vLyBJZiB0aGUgZ2l2ZW4gZW50cnkgaGFzIGEgcmVwb3J0T3JwaGFuIG1ldGhvZCwgYW5kIG5vIHJlbWFpbmluZyBwYXJlbnRzLFxyXG4vLyBjYWxsIGVudHJ5LnJlcG9ydE9ycGhhbiBhbmQgcmV0dXJuIHRydWUgaWZmIGl0IHJldHVybnMgdHJ1ZS4gVGhlXHJcbi8vIHJlcG9ydE9ycGhhbiBmdW5jdGlvbiBzaG91bGQgcmV0dXJuIHRydWUgdG8gaW5kaWNhdGUgZW50cnkuZGlzcG9zZSgpXHJcbi8vIGhhcyBiZWVuIGNhbGxlZCwgYW5kIHRoZSBlbnRyeSBoYXMgYmVlbiByZW1vdmVkIGZyb20gYW55IG90aGVyIGNhY2hlc1xyXG4vLyAoc2VlIGluZGV4LmpzIGZvciB0aGUgb25seSBjdXJyZW50IGV4YW1wbGUpLlxyXG5mdW5jdGlvbiBtYXliZVJlcG9ydE9ycGhhbihlbnRyeSkge1xyXG4gICAgcmV0dXJuIGVudHJ5LnBhcmVudHMuc2l6ZSA9PT0gMCAmJlxyXG4gICAgICAgIHR5cGVvZiBlbnRyeS5yZXBvcnRPcnBoYW4gPT09IFwiZnVuY3Rpb25cIiAmJlxyXG4gICAgICAgIGVudHJ5LnJlcG9ydE9ycGhhbigpID09PSB0cnVlO1xyXG59XHJcbi8vIFJlbW92ZXMgYWxsIGNoaWxkcmVuIGZyb20gdGhpcyBlbnRyeSBhbmQgcmV0dXJucyBhbiBhcnJheSBvZiB0aGVcclxuLy8gcmVtb3ZlZCBjaGlsZHJlbi5cclxuZnVuY3Rpb24gZm9yZ2V0Q2hpbGRyZW4ocGFyZW50KSB7XHJcbiAgICB2YXIgY2hpbGRyZW4gPSByZXVzYWJsZUVtcHR5QXJyYXk7XHJcbiAgICBpZiAocGFyZW50LmNoaWxkVmFsdWVzLnNpemUgPiAwKSB7XHJcbiAgICAgICAgY2hpbGRyZW4gPSBbXTtcclxuICAgICAgICBwYXJlbnQuY2hpbGRWYWx1ZXMuZm9yRWFjaChmdW5jdGlvbiAoX3ZhbHVlLCBjaGlsZCkge1xyXG4gICAgICAgICAgICBmb3JnZXRDaGlsZChwYXJlbnQsIGNoaWxkKTtcclxuICAgICAgICAgICAgY2hpbGRyZW4ucHVzaChjaGlsZCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICAvLyBBZnRlciB3ZSBmb3JnZXQgYWxsIG91ciBjaGlsZHJlbiwgdGhpcy5kaXJ0eUNoaWxkcmVuIG11c3QgYmUgZW1wdHlcclxuICAgIC8vIGFuZCB0aGVyZWZvcmUgbXVzdCBoYXZlIGJlZW4gcmVzZXQgdG8gbnVsbC5cclxuICAgIGFzc2VydChwYXJlbnQuZGlydHlDaGlsZHJlbiA9PT0gbnVsbCk7XHJcbiAgICByZXR1cm4gY2hpbGRyZW47XHJcbn1cclxuZnVuY3Rpb24gZm9yZ2V0Q2hpbGQocGFyZW50LCBjaGlsZCkge1xyXG4gICAgY2hpbGQucGFyZW50cy5kZWxldGUocGFyZW50KTtcclxuICAgIHBhcmVudC5jaGlsZFZhbHVlcy5kZWxldGUoY2hpbGQpO1xyXG4gICAgcmVtb3ZlRGlydHlDaGlsZChwYXJlbnQsIGNoaWxkKTtcclxufVxyXG5mdW5jdGlvbiBtYXliZVN1YnNjcmliZShlbnRyeSkge1xyXG4gICAgaWYgKHR5cGVvZiBlbnRyeS5zdWJzY3JpYmUgPT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIG1heWJlVW5zdWJzY3JpYmUoZW50cnkpOyAvLyBQcmV2ZW50IGRvdWJsZSBzdWJzY3JpcHRpb25zLlxyXG4gICAgICAgICAgICBlbnRyeS51bnN1YnNjcmliZSA9IGVudHJ5LnN1YnNjcmliZS5hcHBseShudWxsLCBlbnRyeS5hcmdzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgLy8gSWYgdGhpcyBFbnRyeSBoYXMgYSBzdWJzY3JpYmUgZnVuY3Rpb24gYW5kIGl0IHRocmV3IGFuIGV4Y2VwdGlvblxyXG4gICAgICAgICAgICAvLyAob3IgYW4gdW5zdWJzY3JpYmUgZnVuY3Rpb24gaXQgcHJldmlvdXNseSByZXR1cm5lZCBub3cgdGhyb3dzKSxcclxuICAgICAgICAgICAgLy8gcmV0dXJuIGZhbHNlIHRvIGluZGljYXRlIHRoYXQgd2Ugd2VyZSBub3QgYWJsZSB0byBzdWJzY3JpYmUgKG9yXHJcbiAgICAgICAgICAgIC8vIHVuc3Vic2NyaWJlKSwgYW5kIHRoaXMgRW50cnkgc2hvdWxkIHJlbWFpbiBkaXJ0eS5cclxuICAgICAgICAgICAgZW50cnkuc2V0RGlydHkoKTtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8vIFJldHVybmluZyB0cnVlIGluZGljYXRlcyBlaXRoZXIgdGhhdCB0aGVyZSB3YXMgbm8gZW50cnkuc3Vic2NyaWJlXHJcbiAgICAvLyBmdW5jdGlvbiBvciB0aGF0IGl0IHN1Y2NlZWRlZC5cclxuICAgIHJldHVybiB0cnVlO1xyXG59XHJcbmZ1bmN0aW9uIG1heWJlVW5zdWJzY3JpYmUoZW50cnkpIHtcclxuICAgIHZhciB1bnN1YnNjcmliZSA9IGVudHJ5LnVuc3Vic2NyaWJlO1xyXG4gICAgaWYgKHR5cGVvZiB1bnN1YnNjcmliZSA9PT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgZW50cnkudW5zdWJzY3JpYmUgPSB2b2lkIDA7XHJcbiAgICAgICAgdW5zdWJzY3JpYmUoKTtcclxuICAgIH1cclxufVxuXG4vLyBBIHRyaWUgZGF0YSBzdHJ1Y3R1cmUgdGhhdCBob2xkcyBvYmplY3Qga2V5cyB3ZWFrbHksIHlldCBjYW4gYWxzbyBob2xkXHJcbi8vIG5vbi1vYmplY3Qga2V5cywgdW5saWtlIHRoZSBuYXRpdmUgYFdlYWtNYXBgLlxyXG52YXIgS2V5VHJpZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIEtleVRyaWUod2Vha25lc3MpIHtcclxuICAgICAgICB0aGlzLndlYWtuZXNzID0gd2Vha25lc3M7XHJcbiAgICB9XHJcbiAgICBLZXlUcmllLnByb3RvdHlwZS5sb29rdXAgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGFycmF5ID0gW107XHJcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICAgICAgYXJyYXlbX2ldID0gYXJndW1lbnRzW19pXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubG9va3VwQXJyYXkoYXJyYXkpO1xyXG4gICAgfTtcclxuICAgIEtleVRyaWUucHJvdG90eXBlLmxvb2t1cEFycmF5ID0gZnVuY3Rpb24gKGFycmF5KSB7XHJcbiAgICAgICAgdmFyIG5vZGUgPSB0aGlzO1xyXG4gICAgICAgIGFycmF5LmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyByZXR1cm4gbm9kZSA9IG5vZGUuZ2V0Q2hpbGRUcmllKGtleSk7IH0pO1xyXG4gICAgICAgIHJldHVybiBub2RlLmRhdGEgfHwgKG5vZGUuZGF0YSA9IE9iamVjdC5jcmVhdGUobnVsbCkpO1xyXG4gICAgfTtcclxuICAgIEtleVRyaWUucHJvdG90eXBlLmdldENoaWxkVHJpZSA9IGZ1bmN0aW9uIChrZXkpIHtcclxuICAgICAgICB2YXIgbWFwID0gdGhpcy53ZWFrbmVzcyAmJiBpc09ialJlZihrZXkpXHJcbiAgICAgICAgICAgID8gdGhpcy53ZWFrIHx8ICh0aGlzLndlYWsgPSBuZXcgV2Vha01hcCgpKVxyXG4gICAgICAgICAgICA6IHRoaXMuc3Ryb25nIHx8ICh0aGlzLnN0cm9uZyA9IG5ldyBNYXAoKSk7XHJcbiAgICAgICAgdmFyIGNoaWxkID0gbWFwLmdldChrZXkpO1xyXG4gICAgICAgIGlmICghY2hpbGQpXHJcbiAgICAgICAgICAgIG1hcC5zZXQoa2V5LCBjaGlsZCA9IG5ldyBLZXlUcmllKHRoaXMud2Vha25lc3MpKTtcclxuICAgICAgICByZXR1cm4gY2hpbGQ7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIEtleVRyaWU7XHJcbn0oKSk7XHJcbmZ1bmN0aW9uIGlzT2JqUmVmKHZhbHVlKSB7XHJcbiAgICBzd2l0Y2ggKHR5cGVvZiB2YWx1ZSkge1xyXG4gICAgICAgIGNhc2UgXCJvYmplY3RcIjpcclxuICAgICAgICAgICAgaWYgKHZhbHVlID09PSBudWxsKVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgLy8gRmFsbCB0aHJvdWdoIHRvIHJldHVybiB0cnVlLi4uXHJcbiAgICAgICAgY2FzZSBcImZ1bmN0aW9uXCI6XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG59XG5cbi8vIFRoZSBkZWZhdWx0TWFrZUNhY2hlS2V5IGZ1bmN0aW9uIGlzIHJlbWFya2FibHkgcG93ZXJmdWwsIGJlY2F1c2UgaXQgZ2l2ZXNcclxuLy8gYSB1bmlxdWUgb2JqZWN0IGZvciBhbnkgc2hhbGxvdy1pZGVudGljYWwgbGlzdCBvZiBhcmd1bWVudHMuIElmIHlvdSBuZWVkXHJcbi8vIHRvIGltcGxlbWVudCBhIGN1c3RvbSBtYWtlQ2FjaGVLZXkgZnVuY3Rpb24sIHlvdSBtYXkgZmluZCBpdCBoZWxwZnVsIHRvXHJcbi8vIGRlbGVnYXRlIHRoZSBmaW5hbCB3b3JrIHRvIGRlZmF1bHRNYWtlQ2FjaGVLZXksIHdoaWNoIGlzIHdoeSB3ZSBleHBvcnQgaXRcclxuLy8gaGVyZS4gSG93ZXZlciwgeW91IG1heSB3YW50IHRvIGF2b2lkIGRlZmF1bHRNYWtlQ2FjaGVLZXkgaWYgeW91ciBydW50aW1lXHJcbi8vIGRvZXMgbm90IHN1cHBvcnQgV2Vha01hcCwgb3IgeW91IGhhdmUgdGhlIGFiaWxpdHkgdG8gcmV0dXJuIGEgc3RyaW5nIGtleS5cclxuLy8gSW4gdGhvc2UgY2FzZXMsIGp1c3Qgd3JpdGUgeW91ciBvd24gY3VzdG9tIG1ha2VDYWNoZUtleSBmdW5jdGlvbnMuXHJcbnZhciBrZXlUcmllID0gbmV3IEtleVRyaWUodHlwZW9mIFdlYWtNYXAgPT09IFwiZnVuY3Rpb25cIik7XHJcbmZ1bmN0aW9uIGRlZmF1bHRNYWtlQ2FjaGVLZXkoKSB7XHJcbiAgICB2YXIgYXJncyA9IFtdO1xyXG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICBhcmdzW19pXSA9IGFyZ3VtZW50c1tfaV07XHJcbiAgICB9XHJcbiAgICByZXR1cm4ga2V5VHJpZS5sb29rdXBBcnJheShhcmdzKTtcclxufVxyXG52YXIgY2FjaGVzID0gbmV3IFNldCgpO1xyXG5mdW5jdGlvbiB3cmFwKG9yaWdpbmFsRnVuY3Rpb24sIG9wdGlvbnMpIHtcclxuICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsgb3B0aW9ucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7IH1cclxuICAgIHZhciBjYWNoZSA9IG5ldyBDYWNoZShvcHRpb25zLm1heCB8fCBNYXRoLnBvdygyLCAxNiksIGZ1bmN0aW9uIChlbnRyeSkgeyByZXR1cm4gZW50cnkuZGlzcG9zZSgpOyB9KTtcclxuICAgIHZhciBkaXNwb3NhYmxlID0gISFvcHRpb25zLmRpc3Bvc2FibGU7XHJcbiAgICB2YXIgbWFrZUNhY2hlS2V5ID0gb3B0aW9ucy5tYWtlQ2FjaGVLZXkgfHwgZGVmYXVsdE1ha2VDYWNoZUtleTtcclxuICAgIGZ1bmN0aW9uIG9wdGltaXN0aWMoKSB7XHJcbiAgICAgICAgaWYgKGRpc3Bvc2FibGUgJiYgIXBhcmVudEVudHJ5U2xvdC5oYXNWYWx1ZSgpKSB7XHJcbiAgICAgICAgICAgIC8vIElmIHRoZXJlJ3Mgbm8gY3VycmVudCBwYXJlbnQgY29tcHV0YXRpb24sIGFuZCB0aGlzIHdyYXBwZWRcclxuICAgICAgICAgICAgLy8gZnVuY3Rpb24gaXMgZGlzcG9zYWJsZSAobWVhbmluZyB3ZSBkb24ndCBjYXJlIGFib3V0IGVudHJ5LnZhbHVlLFxyXG4gICAgICAgICAgICAvLyBqdXN0IGRlcGVuZGVuY3kgdHJhY2tpbmcpLCB0aGVuIHdlIGNhbiBzaG9ydC1jdXQgZXZlcnl0aGluZyBlbHNlXHJcbiAgICAgICAgICAgIC8vIGluIHRoaXMgZnVuY3Rpb24sIGJlY2F1c2UgZW50cnkucmVjb21wdXRlKCkgaXMgZ29pbmcgdG8gcmVjeWNsZVxyXG4gICAgICAgICAgICAvLyB0aGUgZW50cnkgb2JqZWN0IHdpdGhvdXQgcmVjb21wdXRpbmcgYW55dGhpbmcsIGFueXdheS5cclxuICAgICAgICAgICAgcmV0dXJuIHZvaWQgMDtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIGtleSA9IG1ha2VDYWNoZUtleS5hcHBseShudWxsLCBhcmd1bWVudHMpO1xyXG4gICAgICAgIGlmIChrZXkgPT09IHZvaWQgMCkge1xyXG4gICAgICAgICAgICByZXR1cm4gb3JpZ2luYWxGdW5jdGlvbi5hcHBseShudWxsLCBhcmd1bWVudHMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7XHJcbiAgICAgICAgdmFyIGVudHJ5ID0gY2FjaGUuZ2V0KGtleSk7XHJcbiAgICAgICAgaWYgKGVudHJ5KSB7XHJcbiAgICAgICAgICAgIGVudHJ5LmFyZ3MgPSBhcmdzO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgZW50cnkgPSBuZXcgRW50cnkob3JpZ2luYWxGdW5jdGlvbiwgYXJncyk7XHJcbiAgICAgICAgICAgIGNhY2hlLnNldChrZXksIGVudHJ5KTtcclxuICAgICAgICAgICAgZW50cnkuc3Vic2NyaWJlID0gb3B0aW9ucy5zdWJzY3JpYmU7XHJcbiAgICAgICAgICAgIGlmIChkaXNwb3NhYmxlKSB7XHJcbiAgICAgICAgICAgICAgICBlbnRyeS5yZXBvcnRPcnBoYW4gPSBmdW5jdGlvbiAoKSB7IHJldHVybiBjYWNoZS5kZWxldGUoa2V5KTsgfTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgdmFsdWUgPSBlbnRyeS5yZWNvbXB1dGUoKTtcclxuICAgICAgICAvLyBNb3ZlIHRoaXMgZW50cnkgdG8gdGhlIGZyb250IG9mIHRoZSBsZWFzdC1yZWNlbnRseSB1c2VkIHF1ZXVlLFxyXG4gICAgICAgIC8vIHNpbmNlIHdlIGp1c3QgZmluaXNoZWQgY29tcHV0aW5nIGl0cyB2YWx1ZS5cclxuICAgICAgICBjYWNoZS5zZXQoa2V5LCBlbnRyeSk7XHJcbiAgICAgICAgY2FjaGVzLmFkZChjYWNoZSk7XHJcbiAgICAgICAgLy8gQ2xlYW4gdXAgYW55IGV4Y2VzcyBlbnRyaWVzIGluIHRoZSBjYWNoZSwgYnV0IG9ubHkgaWYgdGhlcmUgaXMgbm9cclxuICAgICAgICAvLyBhY3RpdmUgcGFyZW50IGVudHJ5LCBtZWFuaW5nIHdlJ3JlIG5vdCBpbiB0aGUgbWlkZGxlIG9mIGEgbGFyZ2VyXHJcbiAgICAgICAgLy8gY29tcHV0YXRpb24gdGhhdCBtaWdodCBiZSBmbHVtbW94ZWQgYnkgdGhlIGNsZWFuaW5nLlxyXG4gICAgICAgIGlmICghcGFyZW50RW50cnlTbG90Lmhhc1ZhbHVlKCkpIHtcclxuICAgICAgICAgICAgY2FjaGVzLmZvckVhY2goZnVuY3Rpb24gKGNhY2hlKSB7IHJldHVybiBjYWNoZS5jbGVhbigpOyB9KTtcclxuICAgICAgICAgICAgY2FjaGVzLmNsZWFyKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIElmIG9wdGlvbnMuZGlzcG9zYWJsZSBpcyB0cnV0aHksIHRoZSBjYWxsZXIgb2Ygd3JhcCBpcyB0ZWxsaW5nIHVzXHJcbiAgICAgICAgLy8gdGhleSBkb24ndCBjYXJlIGFib3V0IHRoZSByZXN1bHQgb2YgZW50cnkucmVjb21wdXRlKCksIHNvIHdlIHNob3VsZFxyXG4gICAgICAgIC8vIGF2b2lkIHJldHVybmluZyB0aGUgdmFsdWUsIHNvIGl0IHdvbid0IGJlIGFjY2lkZW50YWxseSB1c2VkLlxyXG4gICAgICAgIHJldHVybiBkaXNwb3NhYmxlID8gdm9pZCAwIDogdmFsdWU7XHJcbiAgICB9XHJcbiAgICBvcHRpbWlzdGljLmRpcnR5ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBrZXkgPSBtYWtlQ2FjaGVLZXkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcclxuICAgICAgICB2YXIgY2hpbGQgPSBrZXkgIT09IHZvaWQgMCAmJiBjYWNoZS5nZXQoa2V5KTtcclxuICAgICAgICBpZiAoY2hpbGQpIHtcclxuICAgICAgICAgICAgY2hpbGQuc2V0RGlydHkoKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIG9wdGltaXN0aWM7XHJcbn1cblxuZXhwb3J0IHsgS2V5VHJpZSwgZGVmYXVsdE1ha2VDYWNoZUtleSwgd3JhcCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YnVuZGxlLmVzbS5qcy5tYXBcbiIsIm1vZHVsZS5leHBvcnRzID0geyBcImRlZmF1bHRcIjogcmVxdWlyZShcImNvcmUtanMvbGlicmFyeS9mbi9nZXQtaXRlcmF0b3JcIiksIF9fZXNNb2R1bGU6IHRydWUgfTsiLCIoZnVuY3Rpb24gKGdsb2JhbCwgdW5kZWZpbmVkKSB7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgICBpZiAoZ2xvYmFsLnNldEltbWVkaWF0ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIG5leHRIYW5kbGUgPSAxOyAvLyBTcGVjIHNheXMgZ3JlYXRlciB0aGFuIHplcm9cbiAgICB2YXIgdGFza3NCeUhhbmRsZSA9IHt9O1xuICAgIHZhciBjdXJyZW50bHlSdW5uaW5nQVRhc2sgPSBmYWxzZTtcbiAgICB2YXIgZG9jID0gZ2xvYmFsLmRvY3VtZW50O1xuICAgIHZhciByZWdpc3RlckltbWVkaWF0ZTtcblxuICAgIGZ1bmN0aW9uIHNldEltbWVkaWF0ZShjYWxsYmFjaykge1xuICAgICAgLy8gQ2FsbGJhY2sgY2FuIGVpdGhlciBiZSBhIGZ1bmN0aW9uIG9yIGEgc3RyaW5nXG4gICAgICBpZiAodHlwZW9mIGNhbGxiYWNrICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgY2FsbGJhY2sgPSBuZXcgRnVuY3Rpb24oXCJcIiArIGNhbGxiYWNrKTtcbiAgICAgIH1cbiAgICAgIC8vIENvcHkgZnVuY3Rpb24gYXJndW1lbnRzXG4gICAgICB2YXIgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoIC0gMSk7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBhcmdzW2ldID0gYXJndW1lbnRzW2kgKyAxXTtcbiAgICAgIH1cbiAgICAgIC8vIFN0b3JlIGFuZCByZWdpc3RlciB0aGUgdGFza1xuICAgICAgdmFyIHRhc2sgPSB7IGNhbGxiYWNrOiBjYWxsYmFjaywgYXJnczogYXJncyB9O1xuICAgICAgdGFza3NCeUhhbmRsZVtuZXh0SGFuZGxlXSA9IHRhc2s7XG4gICAgICByZWdpc3RlckltbWVkaWF0ZShuZXh0SGFuZGxlKTtcbiAgICAgIHJldHVybiBuZXh0SGFuZGxlKys7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY2xlYXJJbW1lZGlhdGUoaGFuZGxlKSB7XG4gICAgICAgIGRlbGV0ZSB0YXNrc0J5SGFuZGxlW2hhbmRsZV07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcnVuKHRhc2spIHtcbiAgICAgICAgdmFyIGNhbGxiYWNrID0gdGFzay5jYWxsYmFjaztcbiAgICAgICAgdmFyIGFyZ3MgPSB0YXNrLmFyZ3M7XG4gICAgICAgIHN3aXRjaCAoYXJncy5sZW5ndGgpIHtcbiAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICBjYWxsYmFjayhhcmdzWzBdKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICBjYWxsYmFjayhhcmdzWzBdLCBhcmdzWzFdKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICBjYWxsYmFjayhhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY2FsbGJhY2suYXBwbHkodW5kZWZpbmVkLCBhcmdzKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcnVuSWZQcmVzZW50KGhhbmRsZSkge1xuICAgICAgICAvLyBGcm9tIHRoZSBzcGVjOiBcIldhaXQgdW50aWwgYW55IGludm9jYXRpb25zIG9mIHRoaXMgYWxnb3JpdGhtIHN0YXJ0ZWQgYmVmb3JlIHRoaXMgb25lIGhhdmUgY29tcGxldGVkLlwiXG4gICAgICAgIC8vIFNvIGlmIHdlJ3JlIGN1cnJlbnRseSBydW5uaW5nIGEgdGFzaywgd2UnbGwgbmVlZCB0byBkZWxheSB0aGlzIGludm9jYXRpb24uXG4gICAgICAgIGlmIChjdXJyZW50bHlSdW5uaW5nQVRhc2spIHtcbiAgICAgICAgICAgIC8vIERlbGF5IGJ5IGRvaW5nIGEgc2V0VGltZW91dC4gc2V0SW1tZWRpYXRlIHdhcyB0cmllZCBpbnN0ZWFkLCBidXQgaW4gRmlyZWZveCA3IGl0IGdlbmVyYXRlZCBhXG4gICAgICAgICAgICAvLyBcInRvbyBtdWNoIHJlY3Vyc2lvblwiIGVycm9yLlxuICAgICAgICAgICAgc2V0VGltZW91dChydW5JZlByZXNlbnQsIDAsIGhhbmRsZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgdGFzayA9IHRhc2tzQnlIYW5kbGVbaGFuZGxlXTtcbiAgICAgICAgICAgIGlmICh0YXNrKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudGx5UnVubmluZ0FUYXNrID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBydW4odGFzayk7XG4gICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJJbW1lZGlhdGUoaGFuZGxlKTtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudGx5UnVubmluZ0FUYXNrID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaW5zdGFsbE5leHRUaWNrSW1wbGVtZW50YXRpb24oKSB7XG4gICAgICAgIHJlZ2lzdGVySW1tZWRpYXRlID0gZnVuY3Rpb24oaGFuZGxlKSB7XG4gICAgICAgICAgICBwcm9jZXNzLm5leHRUaWNrKGZ1bmN0aW9uICgpIHsgcnVuSWZQcmVzZW50KGhhbmRsZSk7IH0pO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNhblVzZVBvc3RNZXNzYWdlKCkge1xuICAgICAgICAvLyBUaGUgdGVzdCBhZ2FpbnN0IGBpbXBvcnRTY3JpcHRzYCBwcmV2ZW50cyB0aGlzIGltcGxlbWVudGF0aW9uIGZyb20gYmVpbmcgaW5zdGFsbGVkIGluc2lkZSBhIHdlYiB3b3JrZXIsXG4gICAgICAgIC8vIHdoZXJlIGBnbG9iYWwucG9zdE1lc3NhZ2VgIG1lYW5zIHNvbWV0aGluZyBjb21wbGV0ZWx5IGRpZmZlcmVudCBhbmQgY2FuJ3QgYmUgdXNlZCBmb3IgdGhpcyBwdXJwb3NlLlxuICAgICAgICBpZiAoZ2xvYmFsLnBvc3RNZXNzYWdlICYmICFnbG9iYWwuaW1wb3J0U2NyaXB0cykge1xuICAgICAgICAgICAgdmFyIHBvc3RNZXNzYWdlSXNBc3luY2hyb25vdXMgPSB0cnVlO1xuICAgICAgICAgICAgdmFyIG9sZE9uTWVzc2FnZSA9IGdsb2JhbC5vbm1lc3NhZ2U7XG4gICAgICAgICAgICBnbG9iYWwub25tZXNzYWdlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgcG9zdE1lc3NhZ2VJc0FzeW5jaHJvbm91cyA9IGZhbHNlO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGdsb2JhbC5wb3N0TWVzc2FnZShcIlwiLCBcIipcIik7XG4gICAgICAgICAgICBnbG9iYWwub25tZXNzYWdlID0gb2xkT25NZXNzYWdlO1xuICAgICAgICAgICAgcmV0dXJuIHBvc3RNZXNzYWdlSXNBc3luY2hyb25vdXM7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpbnN0YWxsUG9zdE1lc3NhZ2VJbXBsZW1lbnRhdGlvbigpIHtcbiAgICAgICAgLy8gSW5zdGFsbHMgYW4gZXZlbnQgaGFuZGxlciBvbiBgZ2xvYmFsYCBmb3IgdGhlIGBtZXNzYWdlYCBldmVudDogc2VlXG4gICAgICAgIC8vICogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vRE9NL3dpbmRvdy5wb3N0TWVzc2FnZVxuICAgICAgICAvLyAqIGh0dHA6Ly93d3cud2hhdHdnLm9yZy9zcGVjcy93ZWItYXBwcy9jdXJyZW50LXdvcmsvbXVsdGlwYWdlL2NvbW1zLmh0bWwjY3Jvc3NEb2N1bWVudE1lc3NhZ2VzXG5cbiAgICAgICAgdmFyIG1lc3NhZ2VQcmVmaXggPSBcInNldEltbWVkaWF0ZSRcIiArIE1hdGgucmFuZG9tKCkgKyBcIiRcIjtcbiAgICAgICAgdmFyIG9uR2xvYmFsTWVzc2FnZSA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICBpZiAoZXZlbnQuc291cmNlID09PSBnbG9iYWwgJiZcbiAgICAgICAgICAgICAgICB0eXBlb2YgZXZlbnQuZGF0YSA9PT0gXCJzdHJpbmdcIiAmJlxuICAgICAgICAgICAgICAgIGV2ZW50LmRhdGEuaW5kZXhPZihtZXNzYWdlUHJlZml4KSA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHJ1bklmUHJlc2VudCgrZXZlbnQuZGF0YS5zbGljZShtZXNzYWdlUHJlZml4Lmxlbmd0aCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIGlmIChnbG9iYWwuYWRkRXZlbnRMaXN0ZW5lcikge1xuICAgICAgICAgICAgZ2xvYmFsLmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsIG9uR2xvYmFsTWVzc2FnZSwgZmFsc2UpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZ2xvYmFsLmF0dGFjaEV2ZW50KFwib25tZXNzYWdlXCIsIG9uR2xvYmFsTWVzc2FnZSk7XG4gICAgICAgIH1cblxuICAgICAgICByZWdpc3RlckltbWVkaWF0ZSA9IGZ1bmN0aW9uKGhhbmRsZSkge1xuICAgICAgICAgICAgZ2xvYmFsLnBvc3RNZXNzYWdlKG1lc3NhZ2VQcmVmaXggKyBoYW5kbGUsIFwiKlwiKTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpbnN0YWxsTWVzc2FnZUNoYW5uZWxJbXBsZW1lbnRhdGlvbigpIHtcbiAgICAgICAgdmFyIGNoYW5uZWwgPSBuZXcgTWVzc2FnZUNoYW5uZWwoKTtcbiAgICAgICAgY2hhbm5lbC5wb3J0MS5vbm1lc3NhZ2UgPSBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgdmFyIGhhbmRsZSA9IGV2ZW50LmRhdGE7XG4gICAgICAgICAgICBydW5JZlByZXNlbnQoaGFuZGxlKTtcbiAgICAgICAgfTtcblxuICAgICAgICByZWdpc3RlckltbWVkaWF0ZSA9IGZ1bmN0aW9uKGhhbmRsZSkge1xuICAgICAgICAgICAgY2hhbm5lbC5wb3J0Mi5wb3N0TWVzc2FnZShoYW5kbGUpO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGluc3RhbGxSZWFkeVN0YXRlQ2hhbmdlSW1wbGVtZW50YXRpb24oKSB7XG4gICAgICAgIHZhciBodG1sID0gZG9jLmRvY3VtZW50RWxlbWVudDtcbiAgICAgICAgcmVnaXN0ZXJJbW1lZGlhdGUgPSBmdW5jdGlvbihoYW5kbGUpIHtcbiAgICAgICAgICAgIC8vIENyZWF0ZSBhIDxzY3JpcHQ+IGVsZW1lbnQ7IGl0cyByZWFkeXN0YXRlY2hhbmdlIGV2ZW50IHdpbGwgYmUgZmlyZWQgYXN5bmNocm9ub3VzbHkgb25jZSBpdCBpcyBpbnNlcnRlZFxuICAgICAgICAgICAgLy8gaW50byB0aGUgZG9jdW1lbnQuIERvIHNvLCB0aHVzIHF1ZXVpbmcgdXAgdGhlIHRhc2suIFJlbWVtYmVyIHRvIGNsZWFuIHVwIG9uY2UgaXQncyBiZWVuIGNhbGxlZC5cbiAgICAgICAgICAgIHZhciBzY3JpcHQgPSBkb2MuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKTtcbiAgICAgICAgICAgIHNjcmlwdC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcnVuSWZQcmVzZW50KGhhbmRsZSk7XG4gICAgICAgICAgICAgICAgc2NyaXB0Lm9ucmVhZHlzdGF0ZWNoYW5nZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgaHRtbC5yZW1vdmVDaGlsZChzY3JpcHQpO1xuICAgICAgICAgICAgICAgIHNjcmlwdCA9IG51bGw7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaHRtbC5hcHBlbmRDaGlsZChzY3JpcHQpO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGluc3RhbGxTZXRUaW1lb3V0SW1wbGVtZW50YXRpb24oKSB7XG4gICAgICAgIHJlZ2lzdGVySW1tZWRpYXRlID0gZnVuY3Rpb24oaGFuZGxlKSB7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KHJ1bklmUHJlc2VudCwgMCwgaGFuZGxlKTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvLyBJZiBzdXBwb3J0ZWQsIHdlIHNob3VsZCBhdHRhY2ggdG8gdGhlIHByb3RvdHlwZSBvZiBnbG9iYWwsIHNpbmNlIHRoYXQgaXMgd2hlcmUgc2V0VGltZW91dCBldCBhbC4gbGl2ZS5cbiAgICB2YXIgYXR0YWNoVG8gPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YgJiYgT2JqZWN0LmdldFByb3RvdHlwZU9mKGdsb2JhbCk7XG4gICAgYXR0YWNoVG8gPSBhdHRhY2hUbyAmJiBhdHRhY2hUby5zZXRUaW1lb3V0ID8gYXR0YWNoVG8gOiBnbG9iYWw7XG5cbiAgICAvLyBEb24ndCBnZXQgZm9vbGVkIGJ5IGUuZy4gYnJvd3NlcmlmeSBlbnZpcm9ubWVudHMuXG4gICAgaWYgKHt9LnRvU3RyaW5nLmNhbGwoZ2xvYmFsLnByb2Nlc3MpID09PSBcIltvYmplY3QgcHJvY2Vzc11cIikge1xuICAgICAgICAvLyBGb3IgTm9kZS5qcyBiZWZvcmUgMC45XG4gICAgICAgIGluc3RhbGxOZXh0VGlja0ltcGxlbWVudGF0aW9uKCk7XG5cbiAgICB9IGVsc2UgaWYgKGNhblVzZVBvc3RNZXNzYWdlKCkpIHtcbiAgICAgICAgLy8gRm9yIG5vbi1JRTEwIG1vZGVybiBicm93c2Vyc1xuICAgICAgICBpbnN0YWxsUG9zdE1lc3NhZ2VJbXBsZW1lbnRhdGlvbigpO1xuXG4gICAgfSBlbHNlIGlmIChnbG9iYWwuTWVzc2FnZUNoYW5uZWwpIHtcbiAgICAgICAgLy8gRm9yIHdlYiB3b3JrZXJzLCB3aGVyZSBzdXBwb3J0ZWRcbiAgICAgICAgaW5zdGFsbE1lc3NhZ2VDaGFubmVsSW1wbGVtZW50YXRpb24oKTtcblxuICAgIH0gZWxzZSBpZiAoZG9jICYmIFwib25yZWFkeXN0YXRlY2hhbmdlXCIgaW4gZG9jLmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIikpIHtcbiAgICAgICAgLy8gRm9yIElFIDbigJM4XG4gICAgICAgIGluc3RhbGxSZWFkeVN0YXRlQ2hhbmdlSW1wbGVtZW50YXRpb24oKTtcblxuICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIEZvciBvbGRlciBicm93c2Vyc1xuICAgICAgICBpbnN0YWxsU2V0VGltZW91dEltcGxlbWVudGF0aW9uKCk7XG4gICAgfVxuXG4gICAgYXR0YWNoVG8uc2V0SW1tZWRpYXRlID0gc2V0SW1tZWRpYXRlO1xuICAgIGF0dGFjaFRvLmNsZWFySW1tZWRpYXRlID0gY2xlYXJJbW1lZGlhdGU7XG59KHR5cGVvZiBzZWxmID09PSBcInVuZGVmaW5lZFwiID8gdHlwZW9mIGdsb2JhbCA9PT0gXCJ1bmRlZmluZWRcIiA/IHRoaXMgOiBnbG9iYWwgOiBzZWxmKSk7XG4iLCIvKipcbiAqIDIwMDctMjAyMCBQcmVzdGFTaG9wIGFuZCBDb250cmlidXRvcnNcbiAqXG4gKiBOT1RJQ0UgT0YgTElDRU5TRVxuICpcbiAqIFRoaXMgc291cmNlIGZpbGUgaXMgc3ViamVjdCB0byB0aGUgQWNhZGVtaWMgRnJlZSBMaWNlbnNlIDMuMCAoQUZMLTMuMClcbiAqIHRoYXQgaXMgYnVuZGxlZCB3aXRoIHRoaXMgcGFja2FnZSBpbiB0aGUgZmlsZSBMSUNFTlNFLnR4dC5cbiAqIEl0IGlzIGFsc28gYXZhaWxhYmxlIHRocm91Z2ggdGhlIHdvcmxkLXdpZGUtd2ViIGF0IHRoaXMgVVJMOlxuICogaHR0cHM6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9BRkwtMy4wXG4gKiBJZiB5b3UgZGlkIG5vdCByZWNlaXZlIGEgY29weSBvZiB0aGUgbGljZW5zZSBhbmQgYXJlIHVuYWJsZSB0b1xuICogb2J0YWluIGl0IHRocm91Z2ggdGhlIHdvcmxkLXdpZGUtd2ViLCBwbGVhc2Ugc2VuZCBhbiBlbWFpbFxuICogdG8gbGljZW5zZUBwcmVzdGFzaG9wLmNvbSBzbyB3ZSBjYW4gc2VuZCB5b3UgYSBjb3B5IGltbWVkaWF0ZWx5LlxuICpcbiAqIEBhdXRob3IgICAgUHJlc3RhU2hvcCBTQSA8Y29udGFjdEBwcmVzdGFzaG9wLmNvbT5cbiAqIEBjb3B5cmlnaHQgMjAwNy0yMDIwIFByZXN0YVNob3AgU0EgYW5kIENvbnRyaWJ1dG9yc1xuICogQGxpY2Vuc2UgICBodHRwczovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL0FGTC0zLjAgQWNhZGVtaWMgRnJlZSBMaWNlbnNlIDMuMCAoQUZMLTMuMClcbiAqIEludGVybmF0aW9uYWwgUmVnaXN0ZXJlZCBUcmFkZW1hcmsgJiBQcm9wZXJ0eSBvZiBQcmVzdGFTaG9wIFNBXG4gKi9cblxuaW1wb3J0IHtBcG9sbG9DbGllbnR9IGZyb20gJ2Fwb2xsby1jbGllbnQnO1xuaW1wb3J0IHtTY2hlbWFMaW5rfSBmcm9tICdhcG9sbG8tbGluay1zY2hlbWEnO1xuaW1wb3J0IHtJbk1lbW9yeUNhY2hlfSBmcm9tICdhcG9sbG8tY2FjaGUtaW5tZW1vcnknO1xuaW1wb3J0IGxpbmsgZnJvbSAnLi9saW5rJztcblxuLyoqXG4gKiBFbmFibGluZyBjbGllbnQgc2lkZSBjYWNoZVxuICovXG5jb25zdCBjYWNoZSA9IG5ldyBJbk1lbW9yeUNhY2hlKCk7XG5cbi8qKlxuICogQ3JlYXRpbmcgdGhlIEFwb2xsb0NsaWVudCBtYW5hZ2luZyBjYWNoZSBhbmQgc2NoZW1hc1xuICovXG5leHBvcnQgZGVmYXVsdCBuZXcgQXBvbGxvQ2xpZW50KHtcbiAgbGluazogbmV3IFNjaGVtYUxpbmsoe3NjaGVtYTogbGlua30pLFxuICBjYWNoZSxcbn0pO1xuIiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihvcmlnaW5hbE1vZHVsZSkge1xuXHRpZiAoIW9yaWdpbmFsTW9kdWxlLndlYnBhY2tQb2x5ZmlsbCkge1xuXHRcdHZhciBtb2R1bGUgPSBPYmplY3QuY3JlYXRlKG9yaWdpbmFsTW9kdWxlKTtcblx0XHQvLyBtb2R1bGUucGFyZW50ID0gdW5kZWZpbmVkIGJ5IGRlZmF1bHRcblx0XHRpZiAoIW1vZHVsZS5jaGlsZHJlbikgbW9kdWxlLmNoaWxkcmVuID0gW107XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG1vZHVsZSwgXCJsb2FkZWRcIiwge1xuXHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcblx0XHRcdGdldDogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHJldHVybiBtb2R1bGUubDtcblx0XHRcdH1cblx0XHR9KTtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobW9kdWxlLCBcImlkXCIsIHtcblx0XHRcdGVudW1lcmFibGU6IHRydWUsXG5cdFx0XHRnZXQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRyZXR1cm4gbW9kdWxlLmk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG1vZHVsZSwgXCJleHBvcnRzXCIsIHtcblx0XHRcdGVudW1lcmFibGU6IHRydWVcblx0XHR9KTtcblx0XHRtb2R1bGUud2VicGFja1BvbHlmaWxsID0gMTtcblx0fVxuXHRyZXR1cm4gbW9kdWxlO1xufTtcbiIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5PYnNlcnZhYmxlID0gdm9pZCAwO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5cbi8vID09PSBTeW1ib2wgU3VwcG9ydCA9PT1cbnZhciBoYXNTeW1ib2xzID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gdHlwZW9mIFN5bWJvbCA9PT0gJ2Z1bmN0aW9uJztcbn07XG5cbnZhciBoYXNTeW1ib2wgPSBmdW5jdGlvbiAobmFtZSkge1xuICByZXR1cm4gaGFzU3ltYm9scygpICYmIEJvb2xlYW4oU3ltYm9sW25hbWVdKTtcbn07XG5cbnZhciBnZXRTeW1ib2wgPSBmdW5jdGlvbiAobmFtZSkge1xuICByZXR1cm4gaGFzU3ltYm9sKG5hbWUpID8gU3ltYm9sW25hbWVdIDogJ0BAJyArIG5hbWU7XG59O1xuXG5pZiAoaGFzU3ltYm9scygpICYmICFoYXNTeW1ib2woJ29ic2VydmFibGUnKSkge1xuICBTeW1ib2wub2JzZXJ2YWJsZSA9IFN5bWJvbCgnb2JzZXJ2YWJsZScpO1xufVxuXG52YXIgU3ltYm9sSXRlcmF0b3IgPSBnZXRTeW1ib2woJ2l0ZXJhdG9yJyk7XG52YXIgU3ltYm9sT2JzZXJ2YWJsZSA9IGdldFN5bWJvbCgnb2JzZXJ2YWJsZScpO1xudmFyIFN5bWJvbFNwZWNpZXMgPSBnZXRTeW1ib2woJ3NwZWNpZXMnKTsgLy8gPT09IEFic3RyYWN0IE9wZXJhdGlvbnMgPT09XG5cbmZ1bmN0aW9uIGdldE1ldGhvZChvYmosIGtleSkge1xuICB2YXIgdmFsdWUgPSBvYmpba2V5XTtcbiAgaWYgKHZhbHVlID09IG51bGwpIHJldHVybiB1bmRlZmluZWQ7XG4gIGlmICh0eXBlb2YgdmFsdWUgIT09ICdmdW5jdGlvbicpIHRocm93IG5ldyBUeXBlRXJyb3IodmFsdWUgKyAnIGlzIG5vdCBhIGZ1bmN0aW9uJyk7XG4gIHJldHVybiB2YWx1ZTtcbn1cblxuZnVuY3Rpb24gZ2V0U3BlY2llcyhvYmopIHtcbiAgdmFyIGN0b3IgPSBvYmouY29uc3RydWN0b3I7XG5cbiAgaWYgKGN0b3IgIT09IHVuZGVmaW5lZCkge1xuICAgIGN0b3IgPSBjdG9yW1N5bWJvbFNwZWNpZXNdO1xuXG4gICAgaWYgKGN0b3IgPT09IG51bGwpIHtcbiAgICAgIGN0b3IgPSB1bmRlZmluZWQ7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGN0b3IgIT09IHVuZGVmaW5lZCA/IGN0b3IgOiBPYnNlcnZhYmxlO1xufVxuXG5mdW5jdGlvbiBpc09ic2VydmFibGUoeCkge1xuICByZXR1cm4geCBpbnN0YW5jZW9mIE9ic2VydmFibGU7IC8vIFNQRUM6IEJyYW5kIGNoZWNrXG59XG5cbmZ1bmN0aW9uIGhvc3RSZXBvcnRFcnJvcihlKSB7XG4gIGlmIChob3N0UmVwb3J0RXJyb3IubG9nKSB7XG4gICAgaG9zdFJlcG9ydEVycm9yLmxvZyhlKTtcbiAgfSBlbHNlIHtcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgIHRocm93IGU7XG4gICAgfSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gZW5xdWV1ZShmbikge1xuICBQcm9taXNlLnJlc29sdmUoKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICB0cnkge1xuICAgICAgZm4oKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBob3N0UmVwb3J0RXJyb3IoZSk7XG4gICAgfVxuICB9KTtcbn1cblxuZnVuY3Rpb24gY2xlYW51cFN1YnNjcmlwdGlvbihzdWJzY3JpcHRpb24pIHtcbiAgdmFyIGNsZWFudXAgPSBzdWJzY3JpcHRpb24uX2NsZWFudXA7XG4gIGlmIChjbGVhbnVwID09PSB1bmRlZmluZWQpIHJldHVybjtcbiAgc3Vic2NyaXB0aW9uLl9jbGVhbnVwID0gdW5kZWZpbmVkO1xuXG4gIGlmICghY2xlYW51cCkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHRyeSB7XG4gICAgaWYgKHR5cGVvZiBjbGVhbnVwID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBjbGVhbnVwKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciB1bnN1YnNjcmliZSA9IGdldE1ldGhvZChjbGVhbnVwLCAndW5zdWJzY3JpYmUnKTtcblxuICAgICAgaWYgKHVuc3Vic2NyaWJlKSB7XG4gICAgICAgIHVuc3Vic2NyaWJlLmNhbGwoY2xlYW51cCk7XG4gICAgICB9XG4gICAgfVxuICB9IGNhdGNoIChlKSB7XG4gICAgaG9zdFJlcG9ydEVycm9yKGUpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGNsb3NlU3Vic2NyaXB0aW9uKHN1YnNjcmlwdGlvbikge1xuICBzdWJzY3JpcHRpb24uX29ic2VydmVyID0gdW5kZWZpbmVkO1xuICBzdWJzY3JpcHRpb24uX3F1ZXVlID0gdW5kZWZpbmVkO1xuICBzdWJzY3JpcHRpb24uX3N0YXRlID0gJ2Nsb3NlZCc7XG59XG5cbmZ1bmN0aW9uIGZsdXNoU3Vic2NyaXB0aW9uKHN1YnNjcmlwdGlvbikge1xuICB2YXIgcXVldWUgPSBzdWJzY3JpcHRpb24uX3F1ZXVlO1xuXG4gIGlmICghcXVldWUpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBzdWJzY3JpcHRpb24uX3F1ZXVlID0gdW5kZWZpbmVkO1xuICBzdWJzY3JpcHRpb24uX3N0YXRlID0gJ3JlYWR5JztcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHF1ZXVlLmxlbmd0aDsgKytpKSB7XG4gICAgbm90aWZ5U3Vic2NyaXB0aW9uKHN1YnNjcmlwdGlvbiwgcXVldWVbaV0udHlwZSwgcXVldWVbaV0udmFsdWUpO1xuICAgIGlmIChzdWJzY3JpcHRpb24uX3N0YXRlID09PSAnY2xvc2VkJykgYnJlYWs7XG4gIH1cbn1cblxuZnVuY3Rpb24gbm90aWZ5U3Vic2NyaXB0aW9uKHN1YnNjcmlwdGlvbiwgdHlwZSwgdmFsdWUpIHtcbiAgc3Vic2NyaXB0aW9uLl9zdGF0ZSA9ICdydW5uaW5nJztcbiAgdmFyIG9ic2VydmVyID0gc3Vic2NyaXB0aW9uLl9vYnNlcnZlcjtcblxuICB0cnkge1xuICAgIHZhciBtID0gZ2V0TWV0aG9kKG9ic2VydmVyLCB0eXBlKTtcblxuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgY2FzZSAnbmV4dCc6XG4gICAgICAgIGlmIChtKSBtLmNhbGwob2JzZXJ2ZXIsIHZhbHVlKTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgJ2Vycm9yJzpcbiAgICAgICAgY2xvc2VTdWJzY3JpcHRpb24oc3Vic2NyaXB0aW9uKTtcbiAgICAgICAgaWYgKG0pIG0uY2FsbChvYnNlcnZlciwgdmFsdWUpO2Vsc2UgdGhyb3cgdmFsdWU7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlICdjb21wbGV0ZSc6XG4gICAgICAgIGNsb3NlU3Vic2NyaXB0aW9uKHN1YnNjcmlwdGlvbik7XG4gICAgICAgIGlmIChtKSBtLmNhbGwob2JzZXJ2ZXIpO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBob3N0UmVwb3J0RXJyb3IoZSk7XG4gIH1cblxuICBpZiAoc3Vic2NyaXB0aW9uLl9zdGF0ZSA9PT0gJ2Nsb3NlZCcpIGNsZWFudXBTdWJzY3JpcHRpb24oc3Vic2NyaXB0aW9uKTtlbHNlIGlmIChzdWJzY3JpcHRpb24uX3N0YXRlID09PSAncnVubmluZycpIHN1YnNjcmlwdGlvbi5fc3RhdGUgPSAncmVhZHknO1xufVxuXG5mdW5jdGlvbiBvbk5vdGlmeShzdWJzY3JpcHRpb24sIHR5cGUsIHZhbHVlKSB7XG4gIGlmIChzdWJzY3JpcHRpb24uX3N0YXRlID09PSAnY2xvc2VkJykgcmV0dXJuO1xuXG4gIGlmIChzdWJzY3JpcHRpb24uX3N0YXRlID09PSAnYnVmZmVyaW5nJykge1xuICAgIHN1YnNjcmlwdGlvbi5fcXVldWUucHVzaCh7XG4gICAgICB0eXBlOiB0eXBlLFxuICAgICAgdmFsdWU6IHZhbHVlXG4gICAgfSk7XG5cbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAoc3Vic2NyaXB0aW9uLl9zdGF0ZSAhPT0gJ3JlYWR5Jykge1xuICAgIHN1YnNjcmlwdGlvbi5fc3RhdGUgPSAnYnVmZmVyaW5nJztcbiAgICBzdWJzY3JpcHRpb24uX3F1ZXVlID0gW3tcbiAgICAgIHR5cGU6IHR5cGUsXG4gICAgICB2YWx1ZTogdmFsdWVcbiAgICB9XTtcbiAgICBlbnF1ZXVlKGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBmbHVzaFN1YnNjcmlwdGlvbihzdWJzY3JpcHRpb24pO1xuICAgIH0pO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIG5vdGlmeVN1YnNjcmlwdGlvbihzdWJzY3JpcHRpb24sIHR5cGUsIHZhbHVlKTtcbn1cblxudmFyIFN1YnNjcmlwdGlvbiA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIFN1YnNjcmlwdGlvbihvYnNlcnZlciwgc3Vic2NyaWJlcikge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBTdWJzY3JpcHRpb24pO1xuXG4gICAgLy8gQVNTRVJUOiBvYnNlcnZlciBpcyBhbiBvYmplY3RcbiAgICAvLyBBU1NFUlQ6IHN1YnNjcmliZXIgaXMgY2FsbGFibGVcbiAgICB0aGlzLl9jbGVhbnVwID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuX29ic2VydmVyID0gb2JzZXJ2ZXI7XG4gICAgdGhpcy5fcXVldWUgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5fc3RhdGUgPSAnaW5pdGlhbGl6aW5nJztcbiAgICB2YXIgc3Vic2NyaXB0aW9uT2JzZXJ2ZXIgPSBuZXcgU3Vic2NyaXB0aW9uT2JzZXJ2ZXIodGhpcyk7XG5cbiAgICB0cnkge1xuICAgICAgdGhpcy5fY2xlYW51cCA9IHN1YnNjcmliZXIuY2FsbCh1bmRlZmluZWQsIHN1YnNjcmlwdGlvbk9ic2VydmVyKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBzdWJzY3JpcHRpb25PYnNlcnZlci5lcnJvcihlKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5fc3RhdGUgPT09ICdpbml0aWFsaXppbmcnKSB0aGlzLl9zdGF0ZSA9ICdyZWFkeSc7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoU3Vic2NyaXB0aW9uLCBbe1xuICAgIGtleTogXCJ1bnN1YnNjcmliZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB1bnN1YnNjcmliZSgpIHtcbiAgICAgIGlmICh0aGlzLl9zdGF0ZSAhPT0gJ2Nsb3NlZCcpIHtcbiAgICAgICAgY2xvc2VTdWJzY3JpcHRpb24odGhpcyk7XG4gICAgICAgIGNsZWFudXBTdWJzY3JpcHRpb24odGhpcyk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImNsb3NlZFwiLFxuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX3N0YXRlID09PSAnY2xvc2VkJztcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gU3Vic2NyaXB0aW9uO1xufSgpO1xuXG52YXIgU3Vic2NyaXB0aW9uT2JzZXJ2ZXIgPVxuLyojX19QVVJFX18qL1xuZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBTdWJzY3JpcHRpb25PYnNlcnZlcihzdWJzY3JpcHRpb24pIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgU3Vic2NyaXB0aW9uT2JzZXJ2ZXIpO1xuXG4gICAgdGhpcy5fc3Vic2NyaXB0aW9uID0gc3Vic2NyaXB0aW9uO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKFN1YnNjcmlwdGlvbk9ic2VydmVyLCBbe1xuICAgIGtleTogXCJuZXh0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG5leHQodmFsdWUpIHtcbiAgICAgIG9uTm90aWZ5KHRoaXMuX3N1YnNjcmlwdGlvbiwgJ25leHQnLCB2YWx1ZSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImVycm9yXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGVycm9yKHZhbHVlKSB7XG4gICAgICBvbk5vdGlmeSh0aGlzLl9zdWJzY3JpcHRpb24sICdlcnJvcicsIHZhbHVlKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiY29tcGxldGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcGxldGUoKSB7XG4gICAgICBvbk5vdGlmeSh0aGlzLl9zdWJzY3JpcHRpb24sICdjb21wbGV0ZScpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJjbG9zZWRcIixcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9zdWJzY3JpcHRpb24uX3N0YXRlID09PSAnY2xvc2VkJztcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gU3Vic2NyaXB0aW9uT2JzZXJ2ZXI7XG59KCk7XG5cbnZhciBPYnNlcnZhYmxlID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gT2JzZXJ2YWJsZShzdWJzY3JpYmVyKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE9ic2VydmFibGUpO1xuXG4gICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIE9ic2VydmFibGUpKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdPYnNlcnZhYmxlIGNhbm5vdCBiZSBjYWxsZWQgYXMgYSBmdW5jdGlvbicpO1xuICAgIGlmICh0eXBlb2Ygc3Vic2NyaWJlciAhPT0gJ2Z1bmN0aW9uJykgdGhyb3cgbmV3IFR5cGVFcnJvcignT2JzZXJ2YWJsZSBpbml0aWFsaXplciBtdXN0IGJlIGEgZnVuY3Rpb24nKTtcbiAgICB0aGlzLl9zdWJzY3JpYmVyID0gc3Vic2NyaWJlcjtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhPYnNlcnZhYmxlLCBbe1xuICAgIGtleTogXCJzdWJzY3JpYmVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc3Vic2NyaWJlKG9ic2VydmVyKSB7XG4gICAgICBpZiAodHlwZW9mIG9ic2VydmVyICE9PSAnb2JqZWN0JyB8fCBvYnNlcnZlciA9PT0gbnVsbCkge1xuICAgICAgICBvYnNlcnZlciA9IHtcbiAgICAgICAgICBuZXh0OiBvYnNlcnZlcixcbiAgICAgICAgICBlcnJvcjogYXJndW1lbnRzWzFdLFxuICAgICAgICAgIGNvbXBsZXRlOiBhcmd1bWVudHNbMl1cbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG5ldyBTdWJzY3JpcHRpb24ob2JzZXJ2ZXIsIHRoaXMuX3N1YnNjcmliZXIpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJmb3JFYWNoXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGZvckVhY2goZm4pIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIGlmICh0eXBlb2YgZm4gIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICByZWplY3QobmV3IFR5cGVFcnJvcihmbiArICcgaXMgbm90IGEgZnVuY3Rpb24nKSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gZG9uZSgpIHtcbiAgICAgICAgICBzdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgc3Vic2NyaXB0aW9uID0gX3RoaXMuc3Vic2NyaWJlKHtcbiAgICAgICAgICBuZXh0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIGZuKHZhbHVlLCBkb25lKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgICAgICAgICBzdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIGVycm9yOiByZWplY3QsXG4gICAgICAgICAgY29tcGxldGU6IHJlc29sdmVcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwibWFwXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG1hcChmbikge1xuICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgIGlmICh0eXBlb2YgZm4gIT09ICdmdW5jdGlvbicpIHRocm93IG5ldyBUeXBlRXJyb3IoZm4gKyAnIGlzIG5vdCBhIGZ1bmN0aW9uJyk7XG4gICAgICB2YXIgQyA9IGdldFNwZWNpZXModGhpcyk7XG4gICAgICByZXR1cm4gbmV3IEMoZnVuY3Rpb24gKG9ic2VydmVyKSB7XG4gICAgICAgIHJldHVybiBfdGhpczIuc3Vic2NyaWJlKHtcbiAgICAgICAgICBuZXh0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIHZhbHVlID0gZm4odmFsdWUpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICByZXR1cm4gb2JzZXJ2ZXIuZXJyb3IoZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIG9ic2VydmVyLm5leHQodmFsdWUpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICBvYnNlcnZlci5lcnJvcihlKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIGNvbXBsZXRlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBvYnNlcnZlci5jb21wbGV0ZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZmlsdGVyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGZpbHRlcihmbikge1xuICAgICAgdmFyIF90aGlzMyA9IHRoaXM7XG5cbiAgICAgIGlmICh0eXBlb2YgZm4gIT09ICdmdW5jdGlvbicpIHRocm93IG5ldyBUeXBlRXJyb3IoZm4gKyAnIGlzIG5vdCBhIGZ1bmN0aW9uJyk7XG4gICAgICB2YXIgQyA9IGdldFNwZWNpZXModGhpcyk7XG4gICAgICByZXR1cm4gbmV3IEMoZnVuY3Rpb24gKG9ic2VydmVyKSB7XG4gICAgICAgIHJldHVybiBfdGhpczMuc3Vic2NyaWJlKHtcbiAgICAgICAgICBuZXh0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIGlmICghZm4odmFsdWUpKSByZXR1cm47XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgIHJldHVybiBvYnNlcnZlci5lcnJvcihlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgb2JzZXJ2ZXIubmV4dCh2YWx1ZSk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBlcnJvcjogZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIG9ic2VydmVyLmVycm9yKGUpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgY29tcGxldGU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIG9ic2VydmVyLmNvbXBsZXRlKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJyZWR1Y2VcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVkdWNlKGZuKSB7XG4gICAgICB2YXIgX3RoaXM0ID0gdGhpcztcblxuICAgICAgaWYgKHR5cGVvZiBmbiAhPT0gJ2Z1bmN0aW9uJykgdGhyb3cgbmV3IFR5cGVFcnJvcihmbiArICcgaXMgbm90IGEgZnVuY3Rpb24nKTtcbiAgICAgIHZhciBDID0gZ2V0U3BlY2llcyh0aGlzKTtcbiAgICAgIHZhciBoYXNTZWVkID0gYXJndW1lbnRzLmxlbmd0aCA+IDE7XG4gICAgICB2YXIgaGFzVmFsdWUgPSBmYWxzZTtcbiAgICAgIHZhciBzZWVkID0gYXJndW1lbnRzWzFdO1xuICAgICAgdmFyIGFjYyA9IHNlZWQ7XG4gICAgICByZXR1cm4gbmV3IEMoZnVuY3Rpb24gKG9ic2VydmVyKSB7XG4gICAgICAgIHJldHVybiBfdGhpczQuc3Vic2NyaWJlKHtcbiAgICAgICAgICBuZXh0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHZhciBmaXJzdCA9ICFoYXNWYWx1ZTtcbiAgICAgICAgICAgIGhhc1ZhbHVlID0gdHJ1ZTtcblxuICAgICAgICAgICAgaWYgKCFmaXJzdCB8fCBoYXNTZWVkKSB7XG4gICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgYWNjID0gZm4oYWNjLCB2YWx1ZSk7XG4gICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gb2JzZXJ2ZXIuZXJyb3IoZSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGFjYyA9IHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICBvYnNlcnZlci5lcnJvcihlKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIGNvbXBsZXRlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoIWhhc1ZhbHVlICYmICFoYXNTZWVkKSByZXR1cm4gb2JzZXJ2ZXIuZXJyb3IobmV3IFR5cGVFcnJvcignQ2Fubm90IHJlZHVjZSBhbiBlbXB0eSBzZXF1ZW5jZScpKTtcbiAgICAgICAgICAgIG9ic2VydmVyLm5leHQoYWNjKTtcbiAgICAgICAgICAgIG9ic2VydmVyLmNvbXBsZXRlKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJjb25jYXRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29uY2F0KCkge1xuICAgICAgdmFyIF90aGlzNSA9IHRoaXM7XG5cbiAgICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBzb3VyY2VzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgICBzb3VyY2VzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgICAgfVxuXG4gICAgICB2YXIgQyA9IGdldFNwZWNpZXModGhpcyk7XG4gICAgICByZXR1cm4gbmV3IEMoZnVuY3Rpb24gKG9ic2VydmVyKSB7XG4gICAgICAgIHZhciBzdWJzY3JpcHRpb247XG4gICAgICAgIHZhciBpbmRleCA9IDA7XG5cbiAgICAgICAgZnVuY3Rpb24gc3RhcnROZXh0KG5leHQpIHtcbiAgICAgICAgICBzdWJzY3JpcHRpb24gPSBuZXh0LnN1YnNjcmliZSh7XG4gICAgICAgICAgICBuZXh0OiBmdW5jdGlvbiAodikge1xuICAgICAgICAgICAgICBvYnNlcnZlci5uZXh0KHYpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICBvYnNlcnZlci5lcnJvcihlKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjb21wbGV0ZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICBpZiAoaW5kZXggPT09IHNvdXJjZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgc3Vic2NyaXB0aW9uID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIG9ic2VydmVyLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc3RhcnROZXh0KEMuZnJvbShzb3VyY2VzW2luZGV4KytdKSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHN0YXJ0TmV4dChfdGhpczUpO1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGlmIChzdWJzY3JpcHRpb24pIHtcbiAgICAgICAgICAgIHN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgc3Vic2NyaXB0aW9uID0gdW5kZWZpbmVkO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJmbGF0TWFwXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGZsYXRNYXAoZm4pIHtcbiAgICAgIHZhciBfdGhpczYgPSB0aGlzO1xuXG4gICAgICBpZiAodHlwZW9mIGZuICE9PSAnZnVuY3Rpb24nKSB0aHJvdyBuZXcgVHlwZUVycm9yKGZuICsgJyBpcyBub3QgYSBmdW5jdGlvbicpO1xuICAgICAgdmFyIEMgPSBnZXRTcGVjaWVzKHRoaXMpO1xuICAgICAgcmV0dXJuIG5ldyBDKGZ1bmN0aW9uIChvYnNlcnZlcikge1xuICAgICAgICB2YXIgc3Vic2NyaXB0aW9ucyA9IFtdO1xuXG4gICAgICAgIHZhciBvdXRlciA9IF90aGlzNi5zdWJzY3JpYmUoe1xuICAgICAgICAgIG5leHQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKGZuKSB7XG4gICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgdmFsdWUgPSBmbih2YWx1ZSk7XG4gICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gb2JzZXJ2ZXIuZXJyb3IoZSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIGlubmVyID0gQy5mcm9tKHZhbHVlKS5zdWJzY3JpYmUoe1xuICAgICAgICAgICAgICBuZXh0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICBvYnNlcnZlci5uZXh0KHZhbHVlKTtcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgb2JzZXJ2ZXIuZXJyb3IoZSk7XG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIGNvbXBsZXRlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIGkgPSBzdWJzY3JpcHRpb25zLmluZGV4T2YoaW5uZXIpO1xuICAgICAgICAgICAgICAgIGlmIChpID49IDApIHN1YnNjcmlwdGlvbnMuc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgICAgIGNvbXBsZXRlSWZEb25lKCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgc3Vic2NyaXB0aW9ucy5wdXNoKGlubmVyKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgb2JzZXJ2ZXIuZXJyb3IoZSk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBjb21wbGV0ZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgY29tcGxldGVJZkRvbmUoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGZ1bmN0aW9uIGNvbXBsZXRlSWZEb25lKCkge1xuICAgICAgICAgIGlmIChvdXRlci5jbG9zZWQgJiYgc3Vic2NyaXB0aW9ucy5sZW5ndGggPT09IDApIG9ic2VydmVyLmNvbXBsZXRlKCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHN1YnNjcmlwdGlvbnMuZm9yRWFjaChmdW5jdGlvbiAocykge1xuICAgICAgICAgICAgcmV0dXJuIHMudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBvdXRlci51bnN1YnNjcmliZSgpO1xuICAgICAgICB9O1xuICAgICAgfSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBTeW1ib2xPYnNlcnZhYmxlLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gIH1dLCBbe1xuICAgIGtleTogXCJmcm9tXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGZyb20oeCkge1xuICAgICAgdmFyIEMgPSB0eXBlb2YgdGhpcyA9PT0gJ2Z1bmN0aW9uJyA/IHRoaXMgOiBPYnNlcnZhYmxlO1xuICAgICAgaWYgKHggPT0gbnVsbCkgdGhyb3cgbmV3IFR5cGVFcnJvcih4ICsgJyBpcyBub3QgYW4gb2JqZWN0Jyk7XG4gICAgICB2YXIgbWV0aG9kID0gZ2V0TWV0aG9kKHgsIFN5bWJvbE9ic2VydmFibGUpO1xuXG4gICAgICBpZiAobWV0aG9kKSB7XG4gICAgICAgIHZhciBvYnNlcnZhYmxlID0gbWV0aG9kLmNhbGwoeCk7XG4gICAgICAgIGlmIChPYmplY3Qob2JzZXJ2YWJsZSkgIT09IG9ic2VydmFibGUpIHRocm93IG5ldyBUeXBlRXJyb3Iob2JzZXJ2YWJsZSArICcgaXMgbm90IGFuIG9iamVjdCcpO1xuICAgICAgICBpZiAoaXNPYnNlcnZhYmxlKG9ic2VydmFibGUpICYmIG9ic2VydmFibGUuY29uc3RydWN0b3IgPT09IEMpIHJldHVybiBvYnNlcnZhYmxlO1xuICAgICAgICByZXR1cm4gbmV3IEMoZnVuY3Rpb24gKG9ic2VydmVyKSB7XG4gICAgICAgICAgcmV0dXJuIG9ic2VydmFibGUuc3Vic2NyaWJlKG9ic2VydmVyKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChoYXNTeW1ib2woJ2l0ZXJhdG9yJykpIHtcbiAgICAgICAgbWV0aG9kID0gZ2V0TWV0aG9kKHgsIFN5bWJvbEl0ZXJhdG9yKTtcblxuICAgICAgICBpZiAobWV0aG9kKSB7XG4gICAgICAgICAgcmV0dXJuIG5ldyBDKGZ1bmN0aW9uIChvYnNlcnZlcikge1xuICAgICAgICAgICAgZW5xdWV1ZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIGlmIChvYnNlcnZlci5jbG9zZWQpIHJldHVybjtcbiAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlO1xuICAgICAgICAgICAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3IgPSBmYWxzZTtcbiAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvckVycm9yID0gdW5kZWZpbmVkO1xuXG4gICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yID0gbWV0aG9kLmNhbGwoeClbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gKF9zdGVwID0gX2l0ZXJhdG9yLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICB2YXIgX2l0ZW0gPSBfc3RlcC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgIG9ic2VydmVyLm5leHQoX2l0ZW0pO1xuICAgICAgICAgICAgICAgICAgaWYgKG9ic2VydmVyLmNsb3NlZCkgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgIF9pdGVyYXRvckVycm9yID0gZXJyO1xuICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gJiYgX2l0ZXJhdG9yLnJldHVybiAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvci5yZXR1cm4oKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIG9ic2VydmVyLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoQXJyYXkuaXNBcnJheSh4KSkge1xuICAgICAgICByZXR1cm4gbmV3IEMoZnVuY3Rpb24gKG9ic2VydmVyKSB7XG4gICAgICAgICAgZW5xdWV1ZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAob2JzZXJ2ZXIuY2xvc2VkKSByZXR1cm47XG5cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgeC5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICBvYnNlcnZlci5uZXh0KHhbaV0pO1xuICAgICAgICAgICAgICBpZiAob2JzZXJ2ZXIuY2xvc2VkKSByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIG9ic2VydmVyLmNvbXBsZXRlKCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKHggKyAnIGlzIG5vdCBvYnNlcnZhYmxlJyk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIm9mXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9mKCkge1xuICAgICAgZm9yICh2YXIgX2xlbjIgPSBhcmd1bWVudHMubGVuZ3RoLCBpdGVtcyA9IG5ldyBBcnJheShfbGVuMiksIF9rZXkyID0gMDsgX2tleTIgPCBfbGVuMjsgX2tleTIrKykge1xuICAgICAgICBpdGVtc1tfa2V5Ml0gPSBhcmd1bWVudHNbX2tleTJdO1xuICAgICAgfVxuXG4gICAgICB2YXIgQyA9IHR5cGVvZiB0aGlzID09PSAnZnVuY3Rpb24nID8gdGhpcyA6IE9ic2VydmFibGU7XG4gICAgICByZXR1cm4gbmV3IEMoZnVuY3Rpb24gKG9ic2VydmVyKSB7XG4gICAgICAgIGVucXVldWUoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGlmIChvYnNlcnZlci5jbG9zZWQpIHJldHVybjtcblxuICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaXRlbXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIG9ic2VydmVyLm5leHQoaXRlbXNbaV0pO1xuICAgICAgICAgICAgaWYgKG9ic2VydmVyLmNsb3NlZCkgcmV0dXJuO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIG9ic2VydmVyLmNvbXBsZXRlKCk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBTeW1ib2xTcGVjaWVzLFxuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIE9ic2VydmFibGU7XG59KCk7XG5cbmV4cG9ydHMuT2JzZXJ2YWJsZSA9IE9ic2VydmFibGU7XG5cbmlmIChoYXNTeW1ib2xzKCkpIHtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE9ic2VydmFibGUsIFN5bWJvbCgnZXh0ZW5zaW9ucycpLCB7XG4gICAgdmFsdWU6IHtcbiAgICAgIHN5bWJvbDogU3ltYm9sT2JzZXJ2YWJsZSxcbiAgICAgIGhvc3RSZXBvcnRFcnJvcjogaG9zdFJlcG9ydEVycm9yXG4gICAgfSxcbiAgICBjb25maWd1cmFibGU6IHRydWVcbiAgfSk7XG59IiwiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTYsIExlZSBCeXJvblxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqXG4gKiBAZmxvd1xuICogQGlnbm9yZVxuICovXG5cbi8qKlxuICogW0l0ZXJhdG9yXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9JdGVyYXRpb25fcHJvdG9jb2xzI2l0ZXJhdG9yKVxuICogaXMgYSAqcHJvdG9jb2wqIHdoaWNoIGRlc2NyaWJlcyBhIHN0YW5kYXJkIHdheSB0byBwcm9kdWNlIGEgc2VxdWVuY2Ugb2ZcbiAqIHZhbHVlcywgdHlwaWNhbGx5IHRoZSB2YWx1ZXMgb2YgdGhlIEl0ZXJhYmxlIHJlcHJlc2VudGVkIGJ5IHRoaXMgSXRlcmF0b3IuXG4gKlxuICogV2hpbGUgZGVzY3JpYmVkIGJ5IHRoZSBbRVMyMDE1IHZlcnNpb24gb2YgSmF2YVNjcmlwdF0oaHR0cDovL3d3dy5lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzYuMC8jc2VjLWl0ZXJhdG9yLWludGVyZmFjZSlcbiAqIGl0IGNhbiBiZSB1dGlsaXplZCBieSBhbnkgdmVyc2lvbiBvZiBKYXZhU2NyaXB0LlxuICpcbiAqIEBleHRlcm5hbCBJdGVyYXRvclxuICogQHNlZSB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvSXRlcmF0aW9uX3Byb3RvY29scyNpdGVyYXRvcnxNRE4gSXRlcmF0aW9uIHByb3RvY29sc31cbiAqL1xuXG4vKipcbiAqIFtJdGVyYWJsZV0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvSXRlcmF0aW9uX3Byb3RvY29scyNpdGVyYWJsZSlcbiAqIGlzIGEgKnByb3RvY29sKiB3aGljaCB3aGVuIGltcGxlbWVudGVkIGFsbG93cyBhIEphdmFTY3JpcHQgb2JqZWN0IHRvIGRlZmluZVxuICogdGhlaXIgaXRlcmF0aW9uIGJlaGF2aW9yLCBzdWNoIGFzIHdoYXQgdmFsdWVzIGFyZSBsb29wZWQgb3ZlciBpbiBhXG4gKiBbYGZvci4uLm9mYF0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvU3RhdGVtZW50cy9mb3IuLi5vZilcbiAqIGxvb3Agb3IgYGl0ZXJhbGxgJ3MgYGZvckVhY2hgIGZ1bmN0aW9uLiBNYW55IFtidWlsdC1pbiB0eXBlc10oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvSXRlcmF0aW9uX3Byb3RvY29scyNCdWlsdGluX2l0ZXJhYmxlcylcbiAqIGltcGxlbWVudCB0aGUgSXRlcmFibGUgcHJvdG9jb2wsIGluY2x1ZGluZyBgQXJyYXlgIGFuZCBgTWFwYC5cbiAqXG4gKiBXaGlsZSBkZXNjcmliZWQgYnkgdGhlIFtFUzIwMTUgdmVyc2lvbiBvZiBKYXZhU2NyaXB0XShodHRwOi8vd3d3LmVjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNi4wLyNzZWMtaXRlcmFibGUtaW50ZXJmYWNlKVxuICogaXQgY2FuIGJlIHV0aWxpemVkIGJ5IGFueSB2ZXJzaW9uIG9mIEphdmFTY3JpcHQuXG4gKlxuICogQGV4dGVybmFsIEl0ZXJhYmxlXG4gKiBAc2VlIHtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9JdGVyYXRpb25fcHJvdG9jb2xzI2l0ZXJhYmxlfE1ETiBJdGVyYXRpb24gcHJvdG9jb2xzfVxuICovXG5cbi8vIEluIEVTMjAxNSBlbnZpcm9ubWVudHMsIFN5bWJvbCBleGlzdHNcbnZhciBTWU1CT0wgLyo6IGFueSAqLyA9IHR5cGVvZiBTeW1ib2wgPT09ICdmdW5jdGlvbicgPyBTeW1ib2wgOiB2b2lkIDBcblxuLy8gSW4gRVMyMDE1IChvciBhIHBvbHlmaWxsZWQpIGVudmlyb25tZW50LCB0aGlzIHdpbGwgYmUgU3ltYm9sLml0ZXJhdG9yXG52YXIgU1lNQk9MX0lURVJBVE9SID0gU1lNQk9MICYmIFNZTUJPTC5pdGVyYXRvclxuXG4vKipcbiAqIEEgcHJvcGVydHkgbmFtZSB0byBiZSB1c2VkIGFzIHRoZSBuYW1lIG9mIGFuIEl0ZXJhYmxlJ3MgbWV0aG9kIHJlc3BvbnNpYmxlXG4gKiBmb3IgcHJvZHVjaW5nIGFuIEl0ZXJhdG9yLCByZWZlcnJlZCB0byBhcyBgQEBpdGVyYXRvcmAuIFR5cGljYWxseSByZXByZXNlbnRzXG4gKiB0aGUgdmFsdWUgYFN5bWJvbC5pdGVyYXRvcmAgYnV0IGZhbGxzIGJhY2sgdG8gdGhlIHN0cmluZyBgXCJAQGl0ZXJhdG9yXCJgIHdoZW5cbiAqIGBTeW1ib2wuaXRlcmF0b3JgIGlzIG5vdCBkZWZpbmVkLlxuICpcbiAqIFVzZSBgJCRpdGVyYXRvcmAgZm9yIGRlZmluaW5nIG5ldyBJdGVyYWJsZXMgaW5zdGVhZCBvZiBgU3ltYm9sLml0ZXJhdG9yYCxcbiAqIGJ1dCBkbyBub3QgdXNlIGl0IGZvciBhY2Nlc3NpbmcgZXhpc3RpbmcgSXRlcmFibGVzLCBpbnN0ZWFkIHVzZVxuICoge0BsaW5rIGdldEl0ZXJhdG9yfSBvciB7QGxpbmsgaXNJdGVyYWJsZX0uXG4gKlxuICogQGV4YW1wbGVcbiAqXG4gKiB2YXIgJCRpdGVyYXRvciA9IHJlcXVpcmUoJ2l0ZXJhbGwnKS4kJGl0ZXJhdG9yXG4gKlxuICogZnVuY3Rpb24gQ291bnRlciAodG8pIHtcbiAqICAgdGhpcy50byA9IHRvXG4gKiB9XG4gKlxuICogQ291bnRlci5wcm90b3R5cGVbJCRpdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7XG4gKiAgIHJldHVybiB7XG4gKiAgICAgdG86IHRoaXMudG8sXG4gKiAgICAgbnVtOiAwLFxuICogICAgIG5leHQgKCkge1xuICogICAgICAgaWYgKHRoaXMubnVtID49IHRoaXMudG8pIHtcbiAqICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IHVuZGVmaW5lZCwgZG9uZTogdHJ1ZSB9XG4gKiAgICAgICB9XG4gKiAgICAgICByZXR1cm4geyB2YWx1ZTogdGhpcy5udW0rKywgZG9uZTogZmFsc2UgfVxuICogICAgIH1cbiAqICAgfVxuICogfVxuICpcbiAqIHZhciBjb3VudGVyID0gbmV3IENvdW50ZXIoMylcbiAqIGZvciAodmFyIG51bWJlciBvZiBjb3VudGVyKSB7XG4gKiAgIGNvbnNvbGUubG9nKG51bWJlcikgLy8gMCAuLi4gMSAuLi4gMlxuICogfVxuICpcbiAqIEB0eXBlIHtTeW1ib2x8c3RyaW5nfVxuICovXG4vKjo6IGRlY2xhcmUgZXhwb3J0IHZhciAkJGl0ZXJhdG9yOiAnQEBpdGVyYXRvcic7ICovXG5leHBvcnQgdmFyICQkaXRlcmF0b3IgPSBTWU1CT0xfSVRFUkFUT1IgfHwgJ0BAaXRlcmF0b3InXG5cbi8qKlxuICogUmV0dXJucyB0cnVlIGlmIHRoZSBwcm92aWRlZCBvYmplY3QgaW1wbGVtZW50cyB0aGUgSXRlcmF0b3IgcHJvdG9jb2wgdmlhXG4gKiBlaXRoZXIgaW1wbGVtZW50aW5nIGEgYFN5bWJvbC5pdGVyYXRvcmAgb3IgYFwiQEBpdGVyYXRvclwiYCBtZXRob2QuXG4gKlxuICogQGV4YW1wbGVcbiAqXG4gKiB2YXIgaXNJdGVyYWJsZSA9IHJlcXVpcmUoJ2l0ZXJhbGwnKS5pc0l0ZXJhYmxlXG4gKiBpc0l0ZXJhYmxlKFsgMSwgMiwgMyBdKSAvLyB0cnVlXG4gKiBpc0l0ZXJhYmxlKCdBQkMnKSAvLyB0cnVlXG4gKiBpc0l0ZXJhYmxlKHsgbGVuZ3RoOiAxLCAwOiAnQWxwaGEnIH0pIC8vIGZhbHNlXG4gKiBpc0l0ZXJhYmxlKHsga2V5OiAndmFsdWUnIH0pIC8vIGZhbHNlXG4gKiBpc0l0ZXJhYmxlKG5ldyBNYXAoKSkgLy8gdHJ1ZVxuICpcbiAqIEBwYXJhbSBvYmpcbiAqICAgQSB2YWx1ZSB3aGljaCBtaWdodCBpbXBsZW1lbnQgdGhlIEl0ZXJhYmxlIHByb3RvY29sLlxuICogQHJldHVybiB7Ym9vbGVhbn0gdHJ1ZSBpZiBJdGVyYWJsZS5cbiAqL1xuLyo6OiBkZWNsYXJlIGV4cG9ydCBmdW5jdGlvbiBpc0l0ZXJhYmxlKG9iajogYW55KTogYm9vbGVhbjsgKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0l0ZXJhYmxlKG9iaikge1xuICByZXR1cm4gISFnZXRJdGVyYXRvck1ldGhvZChvYmopXG59XG5cbi8qKlxuICogUmV0dXJucyB0cnVlIGlmIHRoZSBwcm92aWRlZCBvYmplY3QgaW1wbGVtZW50cyB0aGUgQXJyYXktbGlrZSBwcm90b2NvbCB2aWFcbiAqIGRlZmluaW5nIGEgcG9zaXRpdmUtaW50ZWdlciBgbGVuZ3RoYCBwcm9wZXJ0eS5cbiAqXG4gKiBAZXhhbXBsZVxuICpcbiAqIHZhciBpc0FycmF5TGlrZSA9IHJlcXVpcmUoJ2l0ZXJhbGwnKS5pc0FycmF5TGlrZVxuICogaXNBcnJheUxpa2UoWyAxLCAyLCAzIF0pIC8vIHRydWVcbiAqIGlzQXJyYXlMaWtlKCdBQkMnKSAvLyB0cnVlXG4gKiBpc0FycmF5TGlrZSh7IGxlbmd0aDogMSwgMDogJ0FscGhhJyB9KSAvLyB0cnVlXG4gKiBpc0FycmF5TGlrZSh7IGtleTogJ3ZhbHVlJyB9KSAvLyBmYWxzZVxuICogaXNBcnJheUxpa2UobmV3IE1hcCgpKSAvLyBmYWxzZVxuICpcbiAqIEBwYXJhbSBvYmpcbiAqICAgQSB2YWx1ZSB3aGljaCBtaWdodCBpbXBsZW1lbnQgdGhlIEFycmF5LWxpa2UgcHJvdG9jb2wuXG4gKiBAcmV0dXJuIHtib29sZWFufSB0cnVlIGlmIEFycmF5LWxpa2UuXG4gKi9cbi8qOjogZGVjbGFyZSBleHBvcnQgZnVuY3Rpb24gaXNBcnJheUxpa2Uob2JqOiBhbnkpOiBib29sZWFuOyAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzQXJyYXlMaWtlKG9iaikge1xuICB2YXIgbGVuZ3RoID0gb2JqICE9IG51bGwgJiYgb2JqLmxlbmd0aFxuICByZXR1cm4gdHlwZW9mIGxlbmd0aCA9PT0gJ251bWJlcicgJiYgbGVuZ3RoID49IDAgJiYgbGVuZ3RoICUgMSA9PT0gMFxufVxuXG4vKipcbiAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgcHJvdmlkZWQgb2JqZWN0IGlzIGFuIE9iamVjdCAoaS5lLiBub3QgYSBzdHJpbmcgbGl0ZXJhbClcbiAqIGFuZCBpcyBlaXRoZXIgSXRlcmFibGUgb3IgQXJyYXktbGlrZS5cbiAqXG4gKiBUaGlzIG1heSBiZSB1c2VkIGluIHBsYWNlIG9mIFtBcnJheS5pc0FycmF5KCldW2lzQXJyYXldIHRvIGRldGVybWluZSBpZiBhblxuICogb2JqZWN0IHNob3VsZCBiZSBpdGVyYXRlZC1vdmVyLiBJdCBhbHdheXMgZXhjbHVkZXMgc3RyaW5nIGxpdGVyYWxzIGFuZFxuICogaW5jbHVkZXMgQXJyYXlzIChyZWdhcmRsZXNzIG9mIGlmIGl0IGlzIEl0ZXJhYmxlKS4gSXQgYWxzbyBpbmNsdWRlcyBvdGhlclxuICogQXJyYXktbGlrZSBvYmplY3RzIHN1Y2ggYXMgTm9kZUxpc3QsIFR5cGVkQXJyYXksIGFuZCBCdWZmZXIuXG4gKlxuICogQGV4YW1wbGVcbiAqXG4gKiB2YXIgaXNDb2xsZWN0aW9uID0gcmVxdWlyZSgnaXRlcmFsbCcpLmlzQ29sbGVjdGlvblxuICogaXNDb2xsZWN0aW9uKFsgMSwgMiwgMyBdKSAvLyB0cnVlXG4gKiBpc0NvbGxlY3Rpb24oJ0FCQycpIC8vIGZhbHNlXG4gKiBpc0NvbGxlY3Rpb24oeyBsZW5ndGg6IDEsIDA6ICdBbHBoYScgfSkgLy8gdHJ1ZVxuICogaXNDb2xsZWN0aW9uKHsga2V5OiAndmFsdWUnIH0pIC8vIGZhbHNlXG4gKiBpc0NvbGxlY3Rpb24obmV3IE1hcCgpKSAvLyB0cnVlXG4gKlxuICogQGV4YW1wbGVcbiAqXG4gKiB2YXIgZm9yRWFjaCA9IHJlcXVpcmUoJ2l0ZXJhbGwnKS5mb3JFYWNoXG4gKiBpZiAoaXNDb2xsZWN0aW9uKG9iaikpIHtcbiAqICAgZm9yRWFjaChvYmosIGZ1bmN0aW9uICh2YWx1ZSkge1xuICogICAgIGNvbnNvbGUubG9nKHZhbHVlKVxuICogICB9KVxuICogfVxuICpcbiAqIEBwYXJhbSBvYmpcbiAqICAgQW4gT2JqZWN0IHZhbHVlIHdoaWNoIG1pZ2h0IGltcGxlbWVudCB0aGUgSXRlcmFibGUgb3IgQXJyYXktbGlrZSBwcm90b2NvbHMuXG4gKiBAcmV0dXJuIHtib29sZWFufSB0cnVlIGlmIEl0ZXJhYmxlIG9yIEFycmF5LWxpa2UgT2JqZWN0LlxuICovXG4vKjo6IGRlY2xhcmUgZXhwb3J0IGZ1bmN0aW9uIGlzQ29sbGVjdGlvbihvYmo6IGFueSk6IGJvb2xlYW47ICovXG5leHBvcnQgZnVuY3Rpb24gaXNDb2xsZWN0aW9uKG9iaikge1xuICByZXR1cm4gT2JqZWN0KG9iaikgPT09IG9iaiAmJiAoaXNBcnJheUxpa2Uob2JqKSB8fCBpc0l0ZXJhYmxlKG9iaikpXG59XG5cbi8qKlxuICogSWYgdGhlIHByb3ZpZGVkIG9iamVjdCBpbXBsZW1lbnRzIHRoZSBJdGVyYXRvciBwcm90b2NvbCwgaXRzIEl0ZXJhdG9yIG9iamVjdFxuICogaXMgcmV0dXJuZWQuIE90aGVyd2lzZSByZXR1cm5zIHVuZGVmaW5lZC5cbiAqXG4gKiBAZXhhbXBsZVxuICpcbiAqIHZhciBnZXRJdGVyYXRvciA9IHJlcXVpcmUoJ2l0ZXJhbGwnKS5nZXRJdGVyYXRvclxuICogdmFyIGl0ZXJhdG9yID0gZ2V0SXRlcmF0b3IoWyAxLCAyLCAzIF0pXG4gKiBpdGVyYXRvci5uZXh0KCkgLy8geyB2YWx1ZTogMSwgZG9uZTogZmFsc2UgfVxuICogaXRlcmF0b3IubmV4dCgpIC8vIHsgdmFsdWU6IDIsIGRvbmU6IGZhbHNlIH1cbiAqIGl0ZXJhdG9yLm5leHQoKSAvLyB7IHZhbHVlOiAzLCBkb25lOiBmYWxzZSB9XG4gKiBpdGVyYXRvci5uZXh0KCkgLy8geyB2YWx1ZTogdW5kZWZpbmVkLCBkb25lOiB0cnVlIH1cbiAqXG4gKiBAdGVtcGxhdGUgVCB0aGUgdHlwZSBvZiBlYWNoIGl0ZXJhdGVkIHZhbHVlXG4gKiBAcGFyYW0ge0l0ZXJhYmxlPFQ+fSBpdGVyYWJsZVxuICogICBBbiBJdGVyYWJsZSBvYmplY3Qgd2hpY2ggaXMgdGhlIHNvdXJjZSBvZiBhbiBJdGVyYXRvci5cbiAqIEByZXR1cm4ge0l0ZXJhdG9yPFQ+fSBuZXcgSXRlcmF0b3IgaW5zdGFuY2UuXG4gKi9cbi8qOjogZGVjbGFyZSBleHBvcnQgdmFyIGdldEl0ZXJhdG9yOlxuICAmICg8K1RWYWx1ZT4oaXRlcmFibGU6IEl0ZXJhYmxlPFRWYWx1ZT4pID0+IEl0ZXJhdG9yPFRWYWx1ZT4pXG4gICYgKChpdGVyYWJsZTogbWl4ZWQpID0+IHZvaWQgfCBJdGVyYXRvcjxtaXhlZD4pOyAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEl0ZXJhdG9yKGl0ZXJhYmxlKSB7XG4gIHZhciBtZXRob2QgPSBnZXRJdGVyYXRvck1ldGhvZChpdGVyYWJsZSlcbiAgaWYgKG1ldGhvZCkge1xuICAgIHJldHVybiBtZXRob2QuY2FsbChpdGVyYWJsZSlcbiAgfVxufVxuXG4vKipcbiAqIElmIHRoZSBwcm92aWRlZCBvYmplY3QgaW1wbGVtZW50cyB0aGUgSXRlcmF0b3IgcHJvdG9jb2wsIHRoZSBtZXRob2RcbiAqIHJlc3BvbnNpYmxlIGZvciBwcm9kdWNpbmcgaXRzIEl0ZXJhdG9yIG9iamVjdCBpcyByZXR1cm5lZC5cbiAqXG4gKiBUaGlzIGlzIHVzZWQgaW4gcmFyZSBjYXNlcyBmb3IgcGVyZm9ybWFuY2UgdHVuaW5nLiBUaGlzIG1ldGhvZCBtdXN0IGJlIGNhbGxlZFxuICogd2l0aCBvYmogYXMgdGhlIGNvbnRleHR1YWwgdGhpcy1hcmd1bWVudC5cbiAqXG4gKiBAZXhhbXBsZVxuICpcbiAqIHZhciBnZXRJdGVyYXRvck1ldGhvZCA9IHJlcXVpcmUoJ2l0ZXJhbGwnKS5nZXRJdGVyYXRvck1ldGhvZFxuICogdmFyIG15QXJyYXkgPSBbIDEsIDIsIDMgXVxuICogdmFyIG1ldGhvZCA9IGdldEl0ZXJhdG9yTWV0aG9kKG15QXJyYXkpXG4gKiBpZiAobWV0aG9kKSB7XG4gKiAgIHZhciBpdGVyYXRvciA9IG1ldGhvZC5jYWxsKG15QXJyYXkpXG4gKiB9XG4gKlxuICogQHRlbXBsYXRlIFQgdGhlIHR5cGUgb2YgZWFjaCBpdGVyYXRlZCB2YWx1ZVxuICogQHBhcmFtIHtJdGVyYWJsZTxUPn0gaXRlcmFibGVcbiAqICAgQW4gSXRlcmFibGUgb2JqZWN0IHdoaWNoIGRlZmluZXMgYW4gYEBAaXRlcmF0b3JgIG1ldGhvZC5cbiAqIEByZXR1cm4ge2Z1bmN0aW9uKCk6IEl0ZXJhdG9yPFQ+fSBgQEBpdGVyYXRvcmAgbWV0aG9kLlxuICovXG4vKjo6IGRlY2xhcmUgZXhwb3J0IHZhciBnZXRJdGVyYXRvck1ldGhvZDpcbiAgJiAoPCtUVmFsdWU+KGl0ZXJhYmxlOiBJdGVyYWJsZTxUVmFsdWU+KSA9PiAoKCkgPT4gSXRlcmF0b3I8VFZhbHVlPikpXG4gICYgKChpdGVyYWJsZTogbWl4ZWQpID0+ICh2b2lkIHwgKCgpID0+IEl0ZXJhdG9yPG1peGVkPikpKTsgKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRJdGVyYXRvck1ldGhvZChpdGVyYWJsZSkge1xuICBpZiAoaXRlcmFibGUgIT0gbnVsbCkge1xuICAgIHZhciBtZXRob2QgPVxuICAgICAgKFNZTUJPTF9JVEVSQVRPUiAmJiBpdGVyYWJsZVtTWU1CT0xfSVRFUkFUT1JdKSB8fCBpdGVyYWJsZVsnQEBpdGVyYXRvciddXG4gICAgaWYgKHR5cGVvZiBtZXRob2QgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHJldHVybiBtZXRob2RcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBTaW1pbGFyIHRvIHtAbGluayBnZXRJdGVyYXRvcn0sIHRoaXMgbWV0aG9kIHJldHVybnMgYSBuZXcgSXRlcmF0b3IgZ2l2ZW4gYW5cbiAqIEl0ZXJhYmxlLiBIb3dldmVyIGl0IHdpbGwgYWxzbyBjcmVhdGUgYW4gSXRlcmF0b3IgZm9yIGEgbm9uLUl0ZXJhYmxlXG4gKiBBcnJheS1saWtlIGNvbGxlY3Rpb24sIHN1Y2ggYXMgQXJyYXkgaW4gYSBub24tRVMyMDE1IGVudmlyb25tZW50LlxuICpcbiAqIGBjcmVhdGVJdGVyYXRvcmAgaXMgY29tcGxpbWVudGFyeSB0byBgZm9yRWFjaGAsIGJ1dCBhbGxvd3MgYSBcInB1bGxcIi1iYXNlZFxuICogaXRlcmF0aW9uIGFzIG9wcG9zZWQgdG8gYGZvckVhY2hgJ3MgXCJwdXNoXCItYmFzZWQgaXRlcmF0aW9uLlxuICpcbiAqIGBjcmVhdGVJdGVyYXRvcmAgcHJvZHVjZXMgYW4gSXRlcmF0b3IgZm9yIEFycmF5LWxpa2VzIHdpdGggdGhlIHNhbWUgYmVoYXZpb3JcbiAqIGFzIEFycmF5SXRlcmF0b3JQcm90b3R5cGUgZGVzY3JpYmVkIGluIHRoZSBFQ01BU2NyaXB0IHNwZWNpZmljYXRpb24sIGFuZFxuICogZG9lcyAqbm90KiBza2lwIG92ZXIgXCJob2xlc1wiLlxuICpcbiAqIEBleGFtcGxlXG4gKlxuICogdmFyIGNyZWF0ZUl0ZXJhdG9yID0gcmVxdWlyZSgnaXRlcmFsbCcpLmNyZWF0ZUl0ZXJhdG9yXG4gKlxuICogdmFyIG15QXJyYXlsaWtlID0geyBsZW5ndGg6IDMsIDA6ICdBbHBoYScsIDE6ICdCcmF2bycsIDI6ICdDaGFybGllJyB9XG4gKiB2YXIgaXRlcmF0b3IgPSBjcmVhdGVJdGVyYXRvcihteUFycmF5bGlrZSlcbiAqIGl0ZXJhdG9yLm5leHQoKSAvLyB7IHZhbHVlOiAnQWxwaGEnLCBkb25lOiBmYWxzZSB9XG4gKiBpdGVyYXRvci5uZXh0KCkgLy8geyB2YWx1ZTogJ0JyYXZvJywgZG9uZTogZmFsc2UgfVxuICogaXRlcmF0b3IubmV4dCgpIC8vIHsgdmFsdWU6ICdDaGFybGllJywgZG9uZTogZmFsc2UgfVxuICogaXRlcmF0b3IubmV4dCgpIC8vIHsgdmFsdWU6IHVuZGVmaW5lZCwgZG9uZTogdHJ1ZSB9XG4gKlxuICogQHRlbXBsYXRlIFQgdGhlIHR5cGUgb2YgZWFjaCBpdGVyYXRlZCB2YWx1ZVxuICogQHBhcmFtIHtJdGVyYWJsZTxUPnx7IGxlbmd0aDogbnVtYmVyIH19IGNvbGxlY3Rpb25cbiAqICAgQW4gSXRlcmFibGUgb3IgQXJyYXktbGlrZSBvYmplY3QgdG8gcHJvZHVjZSBhbiBJdGVyYXRvci5cbiAqIEByZXR1cm4ge0l0ZXJhdG9yPFQ+fSBuZXcgSXRlcmF0b3IgaW5zdGFuY2UuXG4gKi9cbi8qOjogZGVjbGFyZSBleHBvcnQgdmFyIGNyZWF0ZUl0ZXJhdG9yOlxuICAmICg8K1RWYWx1ZT4oY29sbGVjdGlvbjogSXRlcmFibGU8VFZhbHVlPikgPT4gSXRlcmF0b3I8VFZhbHVlPilcbiAgJiAoKGNvbGxlY3Rpb246IHtsZW5ndGg6IG51bWJlcn0pID0+IEl0ZXJhdG9yPG1peGVkPilcbiAgJiAoKGNvbGxlY3Rpb246IG1peGVkKSA9PiAodm9pZCB8IEl0ZXJhdG9yPG1peGVkPikpOyAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUl0ZXJhdG9yKGNvbGxlY3Rpb24pIHtcbiAgaWYgKGNvbGxlY3Rpb24gIT0gbnVsbCkge1xuICAgIHZhciBpdGVyYXRvciA9IGdldEl0ZXJhdG9yKGNvbGxlY3Rpb24pXG4gICAgaWYgKGl0ZXJhdG9yKSB7XG4gICAgICByZXR1cm4gaXRlcmF0b3JcbiAgICB9XG4gICAgaWYgKGlzQXJyYXlMaWtlKGNvbGxlY3Rpb24pKSB7XG4gICAgICByZXR1cm4gbmV3IEFycmF5TGlrZUl0ZXJhdG9yKGNvbGxlY3Rpb24pXG4gICAgfVxuICB9XG59XG5cbi8vIFdoZW4gdGhlIG9iamVjdCBwcm92aWRlZCB0byBgY3JlYXRlSXRlcmF0b3JgIGlzIG5vdCBJdGVyYWJsZSBidXQgaXNcbi8vIEFycmF5LWxpa2UsIHRoaXMgc2ltcGxlIEl0ZXJhdG9yIGlzIGNyZWF0ZWQuXG5mdW5jdGlvbiBBcnJheUxpa2VJdGVyYXRvcihvYmopIHtcbiAgdGhpcy5fbyA9IG9ialxuICB0aGlzLl9pID0gMFxufVxuXG4vLyBOb3RlOiBhbGwgSXRlcmF0b3JzIGFyZSB0aGVtc2VsdmVzIEl0ZXJhYmxlLlxuQXJyYXlMaWtlSXRlcmF0b3IucHJvdG90eXBlWyQkaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzXG59XG5cbi8vIEEgc2ltcGxlIHN0YXRlLW1hY2hpbmUgZGV0ZXJtaW5lcyB0aGUgSXRlcmF0b3JSZXN1bHQgcmV0dXJuZWQsIHlpZWxkaW5nXG4vLyBlYWNoIHZhbHVlIGluIHRoZSBBcnJheS1saWtlIG9iamVjdCBpbiBvcmRlciBvZiB0aGVpciBpbmRpY2llcy5cbkFycmF5TGlrZUl0ZXJhdG9yLnByb3RvdHlwZS5uZXh0ID0gZnVuY3Rpb24oKSB7XG4gIGlmICh0aGlzLl9vID09PSB2b2lkIDAgfHwgdGhpcy5faSA+PSB0aGlzLl9vLmxlbmd0aCkge1xuICAgIHRoaXMuX28gPSB2b2lkIDBcbiAgICByZXR1cm4geyB2YWx1ZTogdm9pZCAwLCBkb25lOiB0cnVlIH1cbiAgfVxuICByZXR1cm4geyB2YWx1ZTogdGhpcy5fb1t0aGlzLl9pKytdLCBkb25lOiBmYWxzZSB9XG59XG5cbi8qKlxuICogR2l2ZW4gYW4gb2JqZWN0IHdoaWNoIGVpdGhlciBpbXBsZW1lbnRzIHRoZSBJdGVyYWJsZSBwcm90b2NvbCBvciBpc1xuICogQXJyYXktbGlrZSwgaXRlcmF0ZSBvdmVyIGl0LCBjYWxsaW5nIHRoZSBgY2FsbGJhY2tgIGF0IGVhY2ggaXRlcmF0aW9uLlxuICpcbiAqIFVzZSBgZm9yRWFjaGAgd2hlcmUgeW91IHdvdWxkIGV4cGVjdCB0byB1c2UgYSBgZm9yIC4uLiBvZmAgbG9vcCBpbiBFUzYuXG4gKiBIb3dldmVyIGBmb3JFYWNoYCBhZGhlcmVzIHRvIHRoZSBiZWhhdmlvciBvZiBbQXJyYXkjZm9yRWFjaF1bXSBkZXNjcmliZWQgaW5cbiAqIHRoZSBFQ01BU2NyaXB0IHNwZWNpZmljYXRpb24sIHNraXBwaW5nIG92ZXIgXCJob2xlc1wiIGluIEFycmF5LWxpa2VzLiBJdCB3aWxsXG4gKiBhbHNvIGRlbGVnYXRlIHRvIGEgYGZvckVhY2hgIG1ldGhvZCBvbiBgY29sbGVjdGlvbmAgaWYgb25lIGlzIGRlZmluZWQsXG4gKiBlbnN1cmluZyBuYXRpdmUgcGVyZm9ybWFuY2UgZm9yIGBBcnJheXNgLlxuICpcbiAqIFNpbWlsYXIgdG8gW0FycmF5I2ZvckVhY2hdW10sIHRoZSBgY2FsbGJhY2tgIGZ1bmN0aW9uIGFjY2VwdHMgdGhyZWVcbiAqIGFyZ3VtZW50cywgYW5kIGlzIHByb3ZpZGVkIHdpdGggYHRoaXNBcmdgIGFzIHRoZSBjYWxsaW5nIGNvbnRleHQuXG4gKlxuICogTm90ZTogcHJvdmlkaW5nIGFuIGluZmluaXRlIEl0ZXJhdG9yIHRvIGZvckVhY2ggd2lsbCBwcm9kdWNlIGFuIGVycm9yLlxuICpcbiAqIFtBcnJheSNmb3JFYWNoXTogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvQXJyYXkvZm9yRWFjaFxuICpcbiAqIEBleGFtcGxlXG4gKlxuICogdmFyIGZvckVhY2ggPSByZXF1aXJlKCdpdGVyYWxsJykuZm9yRWFjaFxuICpcbiAqIGZvckVhY2gobXlJdGVyYWJsZSwgZnVuY3Rpb24gKHZhbHVlLCBpbmRleCwgaXRlcmFibGUpIHtcbiAqICAgY29uc29sZS5sb2codmFsdWUsIGluZGV4LCBpdGVyYWJsZSA9PT0gbXlJdGVyYWJsZSlcbiAqIH0pXG4gKlxuICogQGV4YW1wbGVcbiAqXG4gKiAvLyBFUzY6XG4gKiBmb3IgKGxldCB2YWx1ZSBvZiBteUl0ZXJhYmxlKSB7XG4gKiAgIGNvbnNvbGUubG9nKHZhbHVlKVxuICogfVxuICpcbiAqIC8vIEFueSBKYXZhU2NyaXB0IGVudmlyb25tZW50OlxuICogZm9yRWFjaChteUl0ZXJhYmxlLCBmdW5jdGlvbiAodmFsdWUpIHtcbiAqICAgY29uc29sZS5sb2codmFsdWUpXG4gKiB9KVxuICpcbiAqIEB0ZW1wbGF0ZSBUIHRoZSB0eXBlIG9mIGVhY2ggaXRlcmF0ZWQgdmFsdWVcbiAqIEBwYXJhbSB7SXRlcmFibGU8VD58eyBsZW5ndGg6IG51bWJlciB9fSBjb2xsZWN0aW9uXG4gKiAgIFRoZSBJdGVyYWJsZSBvciBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKFQsIG51bWJlciwgb2JqZWN0KX0gY2FsbGJhY2tcbiAqICAgRnVuY3Rpb24gdG8gZXhlY3V0ZSBmb3IgZWFjaCBpdGVyYXRpb24sIHRha2luZyB1cCB0byB0aHJlZSBhcmd1bWVudHNcbiAqIEBwYXJhbSBbdGhpc0FyZ11cbiAqICAgT3B0aW9uYWwuIFZhbHVlIHRvIHVzZSBhcyBgdGhpc2Agd2hlbiBleGVjdXRpbmcgYGNhbGxiYWNrYC5cbiAqL1xuLyo6OiBkZWNsYXJlIGV4cG9ydCB2YXIgZm9yRWFjaDpcbiAgJiAoPCtUVmFsdWUsIFRDb2xsZWN0aW9uOiBJdGVyYWJsZTxUVmFsdWU+PihcbiAgICAgIGNvbGxlY3Rpb246IFRDb2xsZWN0aW9uLFxuICAgICAgY2FsbGJhY2tGbjogKHZhbHVlOiBUVmFsdWUsIGluZGV4OiBudW1iZXIsIGNvbGxlY3Rpb246IFRDb2xsZWN0aW9uKSA9PiBhbnksXG4gICAgICB0aGlzQXJnPzogYW55XG4gICAgKSA9PiB2b2lkKVxuICAmICg8VENvbGxlY3Rpb246IHtsZW5ndGg6IG51bWJlcn0+KFxuICAgICAgY29sbGVjdGlvbjogVENvbGxlY3Rpb24sXG4gICAgICBjYWxsYmFja0ZuOiAodmFsdWU6IG1peGVkLCBpbmRleDogbnVtYmVyLCBjb2xsZWN0aW9uOiBUQ29sbGVjdGlvbikgPT4gYW55LFxuICAgICAgdGhpc0FyZz86IGFueVxuICAgICkgPT4gdm9pZCk7ICovXG5leHBvcnQgZnVuY3Rpb24gZm9yRWFjaChjb2xsZWN0aW9uLCBjYWxsYmFjaywgdGhpc0FyZykge1xuICBpZiAoY29sbGVjdGlvbiAhPSBudWxsKSB7XG4gICAgaWYgKHR5cGVvZiBjb2xsZWN0aW9uLmZvckVhY2ggPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHJldHVybiBjb2xsZWN0aW9uLmZvckVhY2goY2FsbGJhY2ssIHRoaXNBcmcpXG4gICAgfVxuICAgIHZhciBpID0gMFxuICAgIHZhciBpdGVyYXRvciA9IGdldEl0ZXJhdG9yKGNvbGxlY3Rpb24pXG4gICAgaWYgKGl0ZXJhdG9yKSB7XG4gICAgICB2YXIgc3RlcFxuICAgICAgd2hpbGUgKCEoc3RlcCA9IGl0ZXJhdG9yLm5leHQoKSkuZG9uZSkge1xuICAgICAgICBjYWxsYmFjay5jYWxsKHRoaXNBcmcsIHN0ZXAudmFsdWUsIGkrKywgY29sbGVjdGlvbilcbiAgICAgICAgLy8gSW5maW5pdGUgSXRlcmF0b3JzIGNvdWxkIGNhdXNlIGZvckVhY2ggdG8gcnVuIGZvcmV2ZXIuXG4gICAgICAgIC8vIEFmdGVyIGEgdmVyeSBsYXJnZSBudW1iZXIgb2YgaXRlcmF0aW9ucywgcHJvZHVjZSBhbiBlcnJvci5cbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICAgIGlmIChpID4gOTk5OTk5OSkge1xuICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ05lYXItaW5maW5pdGUgaXRlcmF0aW9uLicpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGlzQXJyYXlMaWtlKGNvbGxlY3Rpb24pKSB7XG4gICAgICBmb3IgKDsgaSA8IGNvbGxlY3Rpb24ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGNvbGxlY3Rpb24uaGFzT3duUHJvcGVydHkoaSkpIHtcbiAgICAgICAgICBjYWxsYmFjay5jYWxsKHRoaXNBcmcsIGNvbGxlY3Rpb25baV0sIGksIGNvbGxlY3Rpb24pXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vXG4vLyAgICAgICAgICAgICAgICAgQVNZTkMgSVRFUkFUT1JTICAgICAgICAgICAgICAgICAvL1xuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbi8qKlxuICogW0FzeW5jSXRlcmFibGVdKGh0dHBzOi8vdGMzOS5naXRodWIuaW8vcHJvcG9zYWwtYXN5bmMtaXRlcmF0aW9uLyNzZWMtYXN5bmNpdGVyYWJsZS1pbnRlcmZhY2UpXG4gKiBpcyBhICpwcm90b2NvbCogd2hpY2ggd2hlbiBpbXBsZW1lbnRlZCBhbGxvd3MgYSBKYXZhU2NyaXB0IG9iamVjdCB0byBkZWZpbmVcbiAqIGFuIGFzeW5jaHJvbm91cyBpdGVyYXRpb24gYmVoYXZpb3IsIHN1Y2ggYXMgd2hhdCB2YWx1ZXMgYXJlIGxvb3BlZCBvdmVyIGluXG4gKiBhIFtgZm9yLWF3YWl0LW9mYF0oaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9wcm9wb3NhbC1hc3luYy1pdGVyYXRpb24vI3NlYy1mb3ItaW4tYW5kLWZvci1vZi1zdGF0ZW1lbnRzKVxuICogbG9vcCBvciBgaXRlcmFsbGAncyB7QGxpbmsgZm9yQXdhaXRFYWNofSBmdW5jdGlvbi5cbiAqXG4gKiBXaGlsZSBkZXNjcmliZWQgYXMgYSBwcm9wb3NlZCBhZGRpdGlvbiB0byB0aGUgW0VTMjAxNyB2ZXJzaW9uIG9mIEphdmFTY3JpcHRdKGh0dHBzOi8vdGMzOS5naXRodWIuaW8vcHJvcG9zYWwtYXN5bmMtaXRlcmF0aW9uLylcbiAqIGl0IGNhbiBiZSB1dGlsaXplZCBieSBhbnkgdmVyc2lvbiBvZiBKYXZhU2NyaXB0LlxuICpcbiAqIEBleHRlcm5hbCBBc3luY0l0ZXJhYmxlXG4gKiBAc2VlIHtAbGluayBodHRwczovL3RjMzkuZ2l0aHViLmlvL3Byb3Bvc2FsLWFzeW5jLWl0ZXJhdGlvbi8jc2VjLWFzeW5jaXRlcmFibGUtaW50ZXJmYWNlfEFzeW5jIEl0ZXJhdGlvbiBQcm9wb3NhbH1cbiAqIEB0ZW1wbGF0ZSBUIFRoZSB0eXBlIG9mIGVhY2ggaXRlcmF0ZWQgdmFsdWVcbiAqIEBwcm9wZXJ0eSB7ZnVuY3Rpb24gKCk6IEFzeW5jSXRlcmF0b3I8VD59IFN5bWJvbC5hc3luY0l0ZXJhdG9yXG4gKiAgIEEgbWV0aG9kIHdoaWNoIHByb2R1Y2VzIGFuIEFzeW5jSXRlcmF0b3IgZm9yIHRoaXMgQXN5bmNJdGVyYWJsZS5cbiAqL1xuXG4vKipcbiAqIFtBc3luY0l0ZXJhdG9yXShodHRwczovL3RjMzkuZ2l0aHViLmlvL3Byb3Bvc2FsLWFzeW5jLWl0ZXJhdGlvbi8jc2VjLWFzeW5jaXRlcmF0b3ItaW50ZXJmYWNlKVxuICogaXMgYSAqcHJvdG9jb2wqIHdoaWNoIGRlc2NyaWJlcyBhIHN0YW5kYXJkIHdheSB0byBwcm9kdWNlIGFuZCBjb25zdW1lIGFuXG4gKiBhc3luY2hyb25vdXMgc2VxdWVuY2Ugb2YgdmFsdWVzLCB0eXBpY2FsbHkgdGhlIHZhbHVlcyBvZiB0aGVcbiAqIHtAbGluayBBc3luY0l0ZXJhYmxlfSByZXByZXNlbnRlZCBieSB0aGlzIHtAbGluayBBc3luY0l0ZXJhdG9yfS5cbiAqXG4gKiBBc3luY0l0ZXJhdG9yIGlzIHNpbWlsYXIgdG8gT2JzZXJ2YWJsZSBvciBTdHJlYW0uIExpa2UgYW4ge0BsaW5rIEl0ZXJhdG9yfSBpdFxuICogYWxzbyBhcyBhIGBuZXh0KClgIG1ldGhvZCwgaG93ZXZlciBpbnN0ZWFkIG9mIGFuIEl0ZXJhdG9yUmVzdWx0LFxuICogY2FsbGluZyB0aGlzIG1ldGhvZCByZXR1cm5zIGEge0BsaW5rIFByb21pc2V9IGZvciBhIEl0ZXJhdG9yUmVzdWx0LlxuICpcbiAqIFdoaWxlIGRlc2NyaWJlZCBhcyBhIHByb3Bvc2VkIGFkZGl0aW9uIHRvIHRoZSBbRVMyMDE3IHZlcnNpb24gb2YgSmF2YVNjcmlwdF0oaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9wcm9wb3NhbC1hc3luYy1pdGVyYXRpb24vKVxuICogaXQgY2FuIGJlIHV0aWxpemVkIGJ5IGFueSB2ZXJzaW9uIG9mIEphdmFTY3JpcHQuXG4gKlxuICogQGV4dGVybmFsIEFzeW5jSXRlcmF0b3JcbiAqIEBzZWUge0BsaW5rIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vcHJvcG9zYWwtYXN5bmMtaXRlcmF0aW9uLyNzZWMtYXN5bmNpdGVyYXRvci1pbnRlcmZhY2V8QXN5bmMgSXRlcmF0aW9uIFByb3Bvc2FsfVxuICovXG5cbi8vIEluIEVTMjAxNyAob3IgYSBwb2x5ZmlsbGVkKSBlbnZpcm9ubWVudCwgdGhpcyB3aWxsIGJlIFN5bWJvbC5hc3luY0l0ZXJhdG9yXG52YXIgU1lNQk9MX0FTWU5DX0lURVJBVE9SID0gU1lNQk9MICYmIFNZTUJPTC5hc3luY0l0ZXJhdG9yXG5cbi8qKlxuICogQSBwcm9wZXJ0eSBuYW1lIHRvIGJlIHVzZWQgYXMgdGhlIG5hbWUgb2YgYW4gQXN5bmNJdGVyYWJsZSdzIG1ldGhvZFxuICogcmVzcG9uc2libGUgZm9yIHByb2R1Y2luZyBhbiBJdGVyYXRvciwgcmVmZXJyZWQgdG8gYXMgYEBAYXN5bmNJdGVyYXRvcmAuXG4gKiBUeXBpY2FsbHkgcmVwcmVzZW50cyB0aGUgdmFsdWUgYFN5bWJvbC5hc3luY0l0ZXJhdG9yYCBidXQgZmFsbHMgYmFjayB0byB0aGVcbiAqIHN0cmluZyBgXCJAQGFzeW5jSXRlcmF0b3JcImAgd2hlbiBgU3ltYm9sLmFzeW5jSXRlcmF0b3JgIGlzIG5vdCBkZWZpbmVkLlxuICpcbiAqIFVzZSBgJCRhc3luY0l0ZXJhdG9yYCBmb3IgZGVmaW5pbmcgbmV3IEFzeW5jSXRlcmFibGVzIGluc3RlYWQgb2ZcbiAqIGBTeW1ib2wuYXN5bmNJdGVyYXRvcmAsIGJ1dCBkbyBub3QgdXNlIGl0IGZvciBhY2Nlc3NpbmcgZXhpc3RpbmcgSXRlcmFibGVzLFxuICogaW5zdGVhZCB1c2Uge0BsaW5rIGdldEFzeW5jSXRlcmF0b3J9IG9yIHtAbGluayBpc0FzeW5jSXRlcmFibGV9LlxuICpcbiAqIEBleGFtcGxlXG4gKlxuICogdmFyICQkYXN5bmNJdGVyYXRvciA9IHJlcXVpcmUoJ2l0ZXJhbGwnKS4kJGFzeW5jSXRlcmF0b3JcbiAqXG4gKiBmdW5jdGlvbiBDaGlycGVyICh0bykge1xuICogICB0aGlzLnRvID0gdG9cbiAqIH1cbiAqXG4gKiBDaGlycGVyLnByb3RvdHlwZVskJGFzeW5jSXRlcmF0b3JdID0gZnVuY3Rpb24gKCkge1xuICogICByZXR1cm4ge1xuICogICAgIHRvOiB0aGlzLnRvLFxuICogICAgIG51bTogMCxcbiAqICAgICBuZXh0ICgpIHtcbiAqICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAqICAgICAgICAgaWYgKHRoaXMubnVtID49IHRoaXMudG8pIHtcbiAqICAgICAgICAgICByZXNvbHZlKHsgdmFsdWU6IHVuZGVmaW5lZCwgZG9uZTogdHJ1ZSB9KVxuICogICAgICAgICB9IGVsc2Uge1xuICogICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICogICAgICAgICAgICAgcmVzb2x2ZSh7IHZhbHVlOiB0aGlzLm51bSsrLCBkb25lOiBmYWxzZSB9KVxuICogICAgICAgICAgIH0sIDEwMDApXG4gKiAgICAgICAgIH1cbiAqICAgICAgIH0pXG4gKiAgICAgfVxuICogICB9XG4gKiB9XG4gKlxuICogdmFyIGNoaXJwZXIgPSBuZXcgQ2hpcnBlcigzKVxuICogZm9yIGF3YWl0ICh2YXIgbnVtYmVyIG9mIGNoaXJwZXIpIHtcbiAqICAgY29uc29sZS5sb2cobnVtYmVyKSAvLyAwIC4uLndhaXQuLi4gMSAuLi53YWl0Li4uIDJcbiAqIH1cbiAqXG4gKiBAdHlwZSB7U3ltYm9sfHN0cmluZ31cbiAqL1xuLyo6OiBkZWNsYXJlIGV4cG9ydCB2YXIgJCRhc3luY0l0ZXJhdG9yOiAnQEBhc3luY0l0ZXJhdG9yJzsgKi9cbmV4cG9ydCB2YXIgJCRhc3luY0l0ZXJhdG9yID0gU1lNQk9MX0FTWU5DX0lURVJBVE9SIHx8ICdAQGFzeW5jSXRlcmF0b3InXG5cbi8qKlxuICogUmV0dXJucyB0cnVlIGlmIHRoZSBwcm92aWRlZCBvYmplY3QgaW1wbGVtZW50cyB0aGUgQXN5bmNJdGVyYXRvciBwcm90b2NvbCB2aWFcbiAqIGVpdGhlciBpbXBsZW1lbnRpbmcgYSBgU3ltYm9sLmFzeW5jSXRlcmF0b3JgIG9yIGBcIkBAYXN5bmNJdGVyYXRvclwiYCBtZXRob2QuXG4gKlxuICogQGV4YW1wbGVcbiAqXG4gKiB2YXIgaXNBc3luY0l0ZXJhYmxlID0gcmVxdWlyZSgnaXRlcmFsbCcpLmlzQXN5bmNJdGVyYWJsZVxuICogaXNBc3luY0l0ZXJhYmxlKG15U3RyZWFtKSAvLyB0cnVlXG4gKiBpc0FzeW5jSXRlcmFibGUoJ0FCQycpIC8vIGZhbHNlXG4gKlxuICogQHBhcmFtIG9ialxuICogICBBIHZhbHVlIHdoaWNoIG1pZ2h0IGltcGxlbWVudCB0aGUgQXN5bmNJdGVyYWJsZSBwcm90b2NvbC5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IHRydWUgaWYgQXN5bmNJdGVyYWJsZS5cbiAqL1xuLyo6OiBkZWNsYXJlIGV4cG9ydCBmdW5jdGlvbiBpc0FzeW5jSXRlcmFibGUob2JqOiBhbnkpOiBib29sZWFuOyAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzQXN5bmNJdGVyYWJsZShvYmopIHtcbiAgcmV0dXJuICEhZ2V0QXN5bmNJdGVyYXRvck1ldGhvZChvYmopXG59XG5cbi8qKlxuICogSWYgdGhlIHByb3ZpZGVkIG9iamVjdCBpbXBsZW1lbnRzIHRoZSBBc3luY0l0ZXJhdG9yIHByb3RvY29sLCBpdHNcbiAqIEFzeW5jSXRlcmF0b3Igb2JqZWN0IGlzIHJldHVybmVkLiBPdGhlcndpc2UgcmV0dXJucyB1bmRlZmluZWQuXG4gKlxuICogQGV4YW1wbGVcbiAqXG4gKiB2YXIgZ2V0QXN5bmNJdGVyYXRvciA9IHJlcXVpcmUoJ2l0ZXJhbGwnKS5nZXRBc3luY0l0ZXJhdG9yXG4gKiB2YXIgYXN5bmNJdGVyYXRvciA9IGdldEFzeW5jSXRlcmF0b3IobXlTdHJlYW0pXG4gKiBhc3luY0l0ZXJhdG9yLm5leHQoKS50aGVuKGNvbnNvbGUubG9nKSAvLyB7IHZhbHVlOiAxLCBkb25lOiBmYWxzZSB9XG4gKiBhc3luY0l0ZXJhdG9yLm5leHQoKS50aGVuKGNvbnNvbGUubG9nKSAvLyB7IHZhbHVlOiAyLCBkb25lOiBmYWxzZSB9XG4gKiBhc3luY0l0ZXJhdG9yLm5leHQoKS50aGVuKGNvbnNvbGUubG9nKSAvLyB7IHZhbHVlOiAzLCBkb25lOiBmYWxzZSB9XG4gKiBhc3luY0l0ZXJhdG9yLm5leHQoKS50aGVuKGNvbnNvbGUubG9nKSAvLyB7IHZhbHVlOiB1bmRlZmluZWQsIGRvbmU6IHRydWUgfVxuICpcbiAqIEB0ZW1wbGF0ZSBUIHRoZSB0eXBlIG9mIGVhY2ggaXRlcmF0ZWQgdmFsdWVcbiAqIEBwYXJhbSB7QXN5bmNJdGVyYWJsZTxUPn0gYXN5bmNJdGVyYWJsZVxuICogICBBbiBBc3luY0l0ZXJhYmxlIG9iamVjdCB3aGljaCBpcyB0aGUgc291cmNlIG9mIGFuIEFzeW5jSXRlcmF0b3IuXG4gKiBAcmV0dXJuIHtBc3luY0l0ZXJhdG9yPFQ+fSBuZXcgQXN5bmNJdGVyYXRvciBpbnN0YW5jZS5cbiAqL1xuLyo6OiBkZWNsYXJlIGV4cG9ydCB2YXIgZ2V0QXN5bmNJdGVyYXRvcjpcbiAgJiAoPCtUVmFsdWU+KGFzeW5jSXRlcmFibGU6IEFzeW5jSXRlcmFibGU8VFZhbHVlPikgPT4gQXN5bmNJdGVyYXRvcjxUVmFsdWU+KVxuICAmICgoYXN5bmNJdGVyYWJsZTogbWl4ZWQpID0+ICh2b2lkIHwgQXN5bmNJdGVyYXRvcjxtaXhlZD4pKTsgKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRBc3luY0l0ZXJhdG9yKGFzeW5jSXRlcmFibGUpIHtcbiAgdmFyIG1ldGhvZCA9IGdldEFzeW5jSXRlcmF0b3JNZXRob2QoYXN5bmNJdGVyYWJsZSlcbiAgaWYgKG1ldGhvZCkge1xuICAgIHJldHVybiBtZXRob2QuY2FsbChhc3luY0l0ZXJhYmxlKVxuICB9XG59XG5cbi8qKlxuICogSWYgdGhlIHByb3ZpZGVkIG9iamVjdCBpbXBsZW1lbnRzIHRoZSBBc3luY0l0ZXJhdG9yIHByb3RvY29sLCB0aGUgbWV0aG9kXG4gKiByZXNwb25zaWJsZSBmb3IgcHJvZHVjaW5nIGl0cyBBc3luY0l0ZXJhdG9yIG9iamVjdCBpcyByZXR1cm5lZC5cbiAqXG4gKiBUaGlzIGlzIHVzZWQgaW4gcmFyZSBjYXNlcyBmb3IgcGVyZm9ybWFuY2UgdHVuaW5nLiBUaGlzIG1ldGhvZCBtdXN0IGJlIGNhbGxlZFxuICogd2l0aCBvYmogYXMgdGhlIGNvbnRleHR1YWwgdGhpcy1hcmd1bWVudC5cbiAqXG4gKiBAZXhhbXBsZVxuICpcbiAqIHZhciBnZXRBc3luY0l0ZXJhdG9yTWV0aG9kID0gcmVxdWlyZSgnaXRlcmFsbCcpLmdldEFzeW5jSXRlcmF0b3JNZXRob2RcbiAqIHZhciBtZXRob2QgPSBnZXRBc3luY0l0ZXJhdG9yTWV0aG9kKG15U3RyZWFtKVxuICogaWYgKG1ldGhvZCkge1xuICogICB2YXIgYXN5bmNJdGVyYXRvciA9IG1ldGhvZC5jYWxsKG15U3RyZWFtKVxuICogfVxuICpcbiAqIEB0ZW1wbGF0ZSBUIHRoZSB0eXBlIG9mIGVhY2ggaXRlcmF0ZWQgdmFsdWVcbiAqIEBwYXJhbSB7QXN5bmNJdGVyYWJsZTxUPn0gYXN5bmNJdGVyYWJsZVxuICogICBBbiBBc3luY0l0ZXJhYmxlIG9iamVjdCB3aGljaCBkZWZpbmVzIGFuIGBAQGFzeW5jSXRlcmF0b3JgIG1ldGhvZC5cbiAqIEByZXR1cm4ge2Z1bmN0aW9uKCk6IEFzeW5jSXRlcmF0b3I8VD59IGBAQGFzeW5jSXRlcmF0b3JgIG1ldGhvZC5cbiAqL1xuLyo6OiBkZWNsYXJlIGV4cG9ydCB2YXIgZ2V0QXN5bmNJdGVyYXRvck1ldGhvZDpcbiAgJiAoPCtUVmFsdWU+KGFzeW5jSXRlcmFibGU6IEFzeW5jSXRlcmFibGU8VFZhbHVlPikgPT4gKCgpID0+IEFzeW5jSXRlcmF0b3I8VFZhbHVlPikpXG4gICYgKChhc3luY0l0ZXJhYmxlOiBtaXhlZCkgPT4gKHZvaWQgfCAoKCkgPT4gQXN5bmNJdGVyYXRvcjxtaXhlZD4pKSk7ICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0QXN5bmNJdGVyYXRvck1ldGhvZChhc3luY0l0ZXJhYmxlKSB7XG4gIGlmIChhc3luY0l0ZXJhYmxlICE9IG51bGwpIHtcbiAgICB2YXIgbWV0aG9kID1cbiAgICAgIChTWU1CT0xfQVNZTkNfSVRFUkFUT1IgJiYgYXN5bmNJdGVyYWJsZVtTWU1CT0xfQVNZTkNfSVRFUkFUT1JdKSB8fFxuICAgICAgYXN5bmNJdGVyYWJsZVsnQEBhc3luY0l0ZXJhdG9yJ11cbiAgICBpZiAodHlwZW9mIG1ldGhvZCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgcmV0dXJuIG1ldGhvZFxuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIFNpbWlsYXIgdG8ge0BsaW5rIGdldEFzeW5jSXRlcmF0b3J9LCB0aGlzIG1ldGhvZCByZXR1cm5zIGEgbmV3IEFzeW5jSXRlcmF0b3JcbiAqIGdpdmVuIGFuIEFzeW5jSXRlcmFibGUuIEhvd2V2ZXIgaXQgd2lsbCBhbHNvIGNyZWF0ZSBhbiBBc3luY0l0ZXJhdG9yIGZvciBhXG4gKiBub24tYXN5bmMgSXRlcmFibGUgYXMgd2VsbCBhcyBub24tSXRlcmFibGUgQXJyYXktbGlrZSBjb2xsZWN0aW9uLCBzdWNoIGFzXG4gKiBBcnJheSBpbiBhIHByZS1FUzIwMTUgZW52aXJvbm1lbnQuXG4gKlxuICogYGNyZWF0ZUFzeW5jSXRlcmF0b3JgIGlzIGNvbXBsaW1lbnRhcnkgdG8gYGZvckF3YWl0RWFjaGAsIGJ1dCBhbGxvd3MgYVxuICogYnVmZmVyaW5nIFwicHVsbFwiLWJhc2VkIGl0ZXJhdGlvbiBhcyBvcHBvc2VkIHRvIGBmb3JBd2FpdEVhY2hgJ3NcbiAqIFwicHVzaFwiLWJhc2VkIGl0ZXJhdGlvbi5cbiAqXG4gKiBgY3JlYXRlQXN5bmNJdGVyYXRvcmAgcHJvZHVjZXMgYW4gQXN5bmNJdGVyYXRvciBmb3Igbm9uLWFzeW5jIEl0ZXJhYmxlcyBhc1xuICogZGVzY3JpYmVkIGluIHRoZSBFQ01BU2NyaXB0IHByb3Bvc2FsIFtBc3luYy1mcm9tLVN5bmMgSXRlcmF0b3IgT2JqZWN0c10oaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9wcm9wb3NhbC1hc3luYy1pdGVyYXRpb24vI3NlYy1hc3luYy1mcm9tLXN5bmMtaXRlcmF0b3Itb2JqZWN0cykuXG4gKlxuICogPiBOb3RlOiBDcmVhdGluZyBgQXN5bmNJdGVyYXRvcmBzIHJlcXVpcmVzIHRoZSBleGlzdGVuY2Ugb2YgYFByb21pc2VgLlxuICogPiBXaGlsZSBgUHJvbWlzZWAgaGFzIGJlZW4gYXZhaWxhYmxlIGluIG1vZGVybiBicm93c2VycyBmb3IgYSBudW1iZXIgb2ZcbiAqID4geWVhcnMsIGxlZ2FjeSBicm93c2VycyAobGlrZSBJRSAxMSkgbWF5IHJlcXVpcmUgYSBwb2x5ZmlsbC5cbiAqXG4gKiBAZXhhbXBsZVxuICpcbiAqIHZhciBjcmVhdGVBc3luY0l0ZXJhdG9yID0gcmVxdWlyZSgnaXRlcmFsbCcpLmNyZWF0ZUFzeW5jSXRlcmF0b3JcbiAqXG4gKiB2YXIgbXlBcnJheWxpa2UgPSB7IGxlbmd0aDogMywgMDogJ0FscGhhJywgMTogJ0JyYXZvJywgMjogJ0NoYXJsaWUnIH1cbiAqIHZhciBpdGVyYXRvciA9IGNyZWF0ZUFzeW5jSXRlcmF0b3IobXlBcnJheWxpa2UpXG4gKiBpdGVyYXRvci5uZXh0KCkudGhlbihjb25zb2xlLmxvZykgLy8geyB2YWx1ZTogJ0FscGhhJywgZG9uZTogZmFsc2UgfVxuICogaXRlcmF0b3IubmV4dCgpLnRoZW4oY29uc29sZS5sb2cpIC8vIHsgdmFsdWU6ICdCcmF2bycsIGRvbmU6IGZhbHNlIH1cbiAqIGl0ZXJhdG9yLm5leHQoKS50aGVuKGNvbnNvbGUubG9nKSAvLyB7IHZhbHVlOiAnQ2hhcmxpZScsIGRvbmU6IGZhbHNlIH1cbiAqIGl0ZXJhdG9yLm5leHQoKS50aGVuKGNvbnNvbGUubG9nKSAvLyB7IHZhbHVlOiB1bmRlZmluZWQsIGRvbmU6IHRydWUgfVxuICpcbiAqIEB0ZW1wbGF0ZSBUIHRoZSB0eXBlIG9mIGVhY2ggaXRlcmF0ZWQgdmFsdWVcbiAqIEBwYXJhbSB7QXN5bmNJdGVyYWJsZTxUPnxJdGVyYWJsZTxUPnx7IGxlbmd0aDogbnVtYmVyIH19IHNvdXJjZVxuICogICBBbiBBc3luY0l0ZXJhYmxlLCBJdGVyYWJsZSwgb3IgQXJyYXktbGlrZSBvYmplY3QgdG8gcHJvZHVjZSBhbiBJdGVyYXRvci5cbiAqIEByZXR1cm4ge0FzeW5jSXRlcmF0b3I8VD59IG5ldyBBc3luY0l0ZXJhdG9yIGluc3RhbmNlLlxuICovXG4vKjo6IGRlY2xhcmUgZXhwb3J0IHZhciBjcmVhdGVBc3luY0l0ZXJhdG9yOlxuICAmICg8K1RWYWx1ZT4oXG4gICAgICBjb2xsZWN0aW9uOiBJdGVyYWJsZTxQcm9taXNlPFRWYWx1ZT4gfCBUVmFsdWU+IHwgQXN5bmNJdGVyYWJsZTxUVmFsdWU+XG4gICAgKSA9PiBBc3luY0l0ZXJhdG9yPFRWYWx1ZT4pXG4gICYgKChjb2xsZWN0aW9uOiB7bGVuZ3RoOiBudW1iZXJ9KSA9PiBBc3luY0l0ZXJhdG9yPG1peGVkPilcbiAgJiAoKGNvbGxlY3Rpb246IG1peGVkKSA9PiAodm9pZCB8IEFzeW5jSXRlcmF0b3I8bWl4ZWQ+KSk7ICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlQXN5bmNJdGVyYXRvcihzb3VyY2UpIHtcbiAgaWYgKHNvdXJjZSAhPSBudWxsKSB7XG4gICAgdmFyIGFzeW5jSXRlcmF0b3IgPSBnZXRBc3luY0l0ZXJhdG9yKHNvdXJjZSlcbiAgICBpZiAoYXN5bmNJdGVyYXRvcikge1xuICAgICAgcmV0dXJuIGFzeW5jSXRlcmF0b3JcbiAgICB9XG4gICAgdmFyIGl0ZXJhdG9yID0gY3JlYXRlSXRlcmF0b3Ioc291cmNlKVxuICAgIGlmIChpdGVyYXRvcikge1xuICAgICAgcmV0dXJuIG5ldyBBc3luY0Zyb21TeW5jSXRlcmF0b3IoaXRlcmF0b3IpXG4gICAgfVxuICB9XG59XG5cbi8vIFdoZW4gdGhlIG9iamVjdCBwcm92aWRlZCB0byBgY3JlYXRlQXN5bmNJdGVyYXRvcmAgaXMgbm90IEFzeW5jSXRlcmFibGUgYnV0IGlzXG4vLyBzeW5jIEl0ZXJhYmxlLCB0aGlzIHNpbXBsZSB3cmFwcGVyIGlzIGNyZWF0ZWQuXG5mdW5jdGlvbiBBc3luY0Zyb21TeW5jSXRlcmF0b3IoaXRlcmF0b3IpIHtcbiAgdGhpcy5faSA9IGl0ZXJhdG9yXG59XG5cbi8vIE5vdGU6IGFsbCBBc3luY0l0ZXJhdG9ycyBhcmUgdGhlbXNlbHZlcyBBc3luY0l0ZXJhYmxlLlxuQXN5bmNGcm9tU3luY0l0ZXJhdG9yLnByb3RvdHlwZVskJGFzeW5jSXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzXG59XG5cbi8vIEEgc2ltcGxlIHN0YXRlLW1hY2hpbmUgZGV0ZXJtaW5lcyB0aGUgSXRlcmF0b3JSZXN1bHQgcmV0dXJuZWQsIHlpZWxkaW5nXG4vLyBlYWNoIHZhbHVlIGluIHRoZSBBcnJheS1saWtlIG9iamVjdCBpbiBvcmRlciBvZiB0aGVpciBpbmRpY2llcy5cbkFzeW5jRnJvbVN5bmNJdGVyYXRvci5wcm90b3R5cGUubmV4dCA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gIHJldHVybiB1bndyYXBBc3luY0Zyb21TeW5jKHRoaXMuX2ksICduZXh0JywgdmFsdWUpXG59XG5cbkFzeW5jRnJvbVN5bmNJdGVyYXRvci5wcm90b3R5cGUucmV0dXJuID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgcmV0dXJuIHRoaXMuX2kucmV0dXJuXG4gICAgPyB1bndyYXBBc3luY0Zyb21TeW5jKHRoaXMuX2ksICdyZXR1cm4nLCB2YWx1ZSlcbiAgICA6IFByb21pc2UucmVzb2x2ZSh7IHZhbHVlOiB2YWx1ZSwgZG9uZTogdHJ1ZSB9KVxufVxuXG5Bc3luY0Zyb21TeW5jSXRlcmF0b3IucHJvdG90eXBlLnRocm93ID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgcmV0dXJuIHRoaXMuX2kudGhyb3dcbiAgICA/IHVud3JhcEFzeW5jRnJvbVN5bmModGhpcy5faSwgJ3Rocm93JywgdmFsdWUpXG4gICAgOiBQcm9taXNlLnJlamVjdCh2YWx1ZSlcbn1cblxuZnVuY3Rpb24gdW53cmFwQXN5bmNGcm9tU3luYyhpdGVyYXRvciwgZm4sIHZhbHVlKSB7XG4gIHZhciBzdGVwXG4gIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlKSB7XG4gICAgc3RlcCA9IGl0ZXJhdG9yW2ZuXSh2YWx1ZSlcbiAgICByZXNvbHZlKHN0ZXAudmFsdWUpXG4gIH0pLnRoZW4oZnVuY3Rpb24odmFsdWUpIHtcbiAgICByZXR1cm4geyB2YWx1ZTogdmFsdWUsIGRvbmU6IHN0ZXAuZG9uZSB9XG4gIH0pXG59XG5cbi8qKlxuICogR2l2ZW4gYW4gb2JqZWN0IHdoaWNoIGVpdGhlciBpbXBsZW1lbnRzIHRoZSBBc3luY0l0ZXJhYmxlIHByb3RvY29sIG9yIGlzXG4gKiBBcnJheS1saWtlLCBpdGVyYXRlIG92ZXIgaXQsIGNhbGxpbmcgdGhlIGBjYWxsYmFja2AgYXQgZWFjaCBpdGVyYXRpb24uXG4gKlxuICogVXNlIGBmb3JBd2FpdEVhY2hgIHdoZXJlIHlvdSB3b3VsZCBleHBlY3QgdG8gdXNlIGEgW2Zvci1hd2FpdC1vZl0oaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9wcm9wb3NhbC1hc3luYy1pdGVyYXRpb24vI3NlYy1mb3ItaW4tYW5kLWZvci1vZi1zdGF0ZW1lbnRzKSBsb29wLlxuICpcbiAqIFNpbWlsYXIgdG8gW0FycmF5I2ZvckVhY2hdW10sIHRoZSBgY2FsbGJhY2tgIGZ1bmN0aW9uIGFjY2VwdHMgdGhyZWVcbiAqIGFyZ3VtZW50cywgYW5kIGlzIHByb3ZpZGVkIHdpdGggYHRoaXNBcmdgIGFzIHRoZSBjYWxsaW5nIGNvbnRleHQuXG4gKlxuICogPiBOb3RlOiBVc2luZyBgZm9yQXdhaXRFYWNoYCByZXF1aXJlcyB0aGUgZXhpc3RlbmNlIG9mIGBQcm9taXNlYC5cbiAqID4gV2hpbGUgYFByb21pc2VgIGhhcyBiZWVuIGF2YWlsYWJsZSBpbiBtb2Rlcm4gYnJvd3NlcnMgZm9yIGEgbnVtYmVyIG9mXG4gKiA+IHllYXJzLCBsZWdhY3kgYnJvd3NlcnMgKGxpa2UgSUUgMTEpIG1heSByZXF1aXJlIGEgcG9seWZpbGwuXG4gKlxuICogQGV4YW1wbGVcbiAqXG4gKiB2YXIgZm9yQXdhaXRFYWNoID0gcmVxdWlyZSgnaXRlcmFsbCcpLmZvckF3YWl0RWFjaFxuICpcbiAqIGZvckF3YWl0RWFjaChteUl0ZXJhYmxlLCBmdW5jdGlvbiAodmFsdWUsIGluZGV4LCBpdGVyYWJsZSkge1xuICogICBjb25zb2xlLmxvZyh2YWx1ZSwgaW5kZXgsIGl0ZXJhYmxlID09PSBteUl0ZXJhYmxlKVxuICogfSlcbiAqXG4gKiBAZXhhbXBsZVxuICpcbiAqIC8vIEVTMjAxNzpcbiAqIGZvciBhd2FpdCAobGV0IHZhbHVlIG9mIG15QXN5bmNJdGVyYWJsZSkge1xuICogICBjb25zb2xlLmxvZyhhd2FpdCBkb1NvbWV0aGluZ0FzeW5jKHZhbHVlKSlcbiAqIH1cbiAqIGNvbnNvbGUubG9nKCdkb25lJylcbiAqXG4gKiAvLyBBbnkgSmF2YVNjcmlwdCBlbnZpcm9ubWVudDpcbiAqIGZvckF3YWl0RWFjaChteUFzeW5jSXRlcmFibGUsIGZ1bmN0aW9uICh2YWx1ZSkge1xuICogICByZXR1cm4gZG9Tb21ldGhpbmdBc3luYyh2YWx1ZSkudGhlbihjb25zb2xlLmxvZylcbiAqIH0pLnRoZW4oZnVuY3Rpb24gKCkge1xuICogICBjb25zb2xlLmxvZygnZG9uZScpXG4gKiB9KVxuICpcbiAqIEB0ZW1wbGF0ZSBUIHRoZSB0eXBlIG9mIGVhY2ggaXRlcmF0ZWQgdmFsdWVcbiAqIEBwYXJhbSB7QXN5bmNJdGVyYWJsZTxUPnxJdGVyYWJsZTxQcm9taXNlPFQ+IHwgVD58eyBsZW5ndGg6IG51bWJlciB9fSBzb3VyY2VcbiAqICAgVGhlIEFzeW5jSXRlcmFibGUgb3IgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICogQHBhcmFtIHtmdW5jdGlvbihULCBudW1iZXIsIG9iamVjdCl9IGNhbGxiYWNrXG4gKiAgIEZ1bmN0aW9uIHRvIGV4ZWN1dGUgZm9yIGVhY2ggaXRlcmF0aW9uLCB0YWtpbmcgdXAgdG8gdGhyZWUgYXJndW1lbnRzXG4gKiBAcGFyYW0gW3RoaXNBcmddXG4gKiAgIE9wdGlvbmFsLiBWYWx1ZSB0byB1c2UgYXMgYHRoaXNgIHdoZW4gZXhlY3V0aW5nIGBjYWxsYmFja2AuXG4gKi9cbi8qOjogZGVjbGFyZSBleHBvcnQgdmFyIGZvckF3YWl0RWFjaDpcbiAgJiAoPCtUVmFsdWUsIFRDb2xsZWN0aW9uOiBJdGVyYWJsZTxQcm9taXNlPFRWYWx1ZT4gfCBUVmFsdWU+IHwgQXN5bmNJdGVyYWJsZTxUVmFsdWU+PihcbiAgICAgIGNvbGxlY3Rpb246IFRDb2xsZWN0aW9uLFxuICAgICAgY2FsbGJhY2tGbjogKHZhbHVlOiBUVmFsdWUsIGluZGV4OiBudW1iZXIsIGNvbGxlY3Rpb246IFRDb2xsZWN0aW9uKSA9PiBhbnksXG4gICAgICB0aGlzQXJnPzogYW55XG4gICAgKSA9PiBQcm9taXNlPHZvaWQ+KVxuICAmICg8VENvbGxlY3Rpb246IHsgbGVuZ3RoOiBudW1iZXIgfT4oXG4gICAgICBjb2xsZWN0aW9uOiBUQ29sbGVjdGlvbixcbiAgICAgIGNhbGxiYWNrRm46ICh2YWx1ZTogbWl4ZWQsIGluZGV4OiBudW1iZXIsIGNvbGxlY3Rpb246IFRDb2xsZWN0aW9uKSA9PiBhbnksXG4gICAgICB0aGlzQXJnPzogYW55XG4gICAgKSA9PiBQcm9taXNlPHZvaWQ+KTsgKi9cbmV4cG9ydCBmdW5jdGlvbiBmb3JBd2FpdEVhY2goc291cmNlLCBjYWxsYmFjaywgdGhpc0FyZykge1xuICB2YXIgYXN5bmNJdGVyYXRvciA9IGNyZWF0ZUFzeW5jSXRlcmF0b3Ioc291cmNlKVxuICBpZiAoYXN5bmNJdGVyYXRvcikge1xuICAgIHZhciBpID0gMFxuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIGZ1bmN0aW9uIG5leHQoKSB7XG4gICAgICAgIGFzeW5jSXRlcmF0b3JcbiAgICAgICAgICAubmV4dCgpXG4gICAgICAgICAgLnRoZW4oZnVuY3Rpb24oc3RlcCkge1xuICAgICAgICAgICAgaWYgKCFzdGVwLmRvbmUpIHtcbiAgICAgICAgICAgICAgUHJvbWlzZS5yZXNvbHZlKGNhbGxiYWNrLmNhbGwodGhpc0FyZywgc3RlcC52YWx1ZSwgaSsrLCBzb3VyY2UpKVxuICAgICAgICAgICAgICAgIC50aGVuKG5leHQpXG4gICAgICAgICAgICAgICAgLmNhdGNoKHJlamVjdClcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHJlc29sdmUoKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gRXhwbGljaXRseSByZXR1cm4gbnVsbCwgc2lsZW5jaW5nIGJsdWViaXJkLXN0eWxlIHdhcm5pbmdzLlxuICAgICAgICAgICAgcmV0dXJuIG51bGxcbiAgICAgICAgICB9KVxuICAgICAgICAgIC5jYXRjaChyZWplY3QpXG4gICAgICAgIC8vIEV4cGxpY2l0bHkgcmV0dXJuIG51bGwsIHNpbGVuY2luZyBibHVlYmlyZC1zdHlsZSB3YXJuaW5ncy5cbiAgICAgICAgcmV0dXJuIG51bGxcbiAgICAgIH1cbiAgICAgIG5leHQoKVxuICAgIH0pXG4gIH1cbn1cbiIsIi8qKlxuICogMjAwNy0yMDIwIFByZXN0YVNob3AgYW5kIENvbnRyaWJ1dG9yc1xuICpcbiAqIE5PVElDRSBPRiBMSUNFTlNFXG4gKlxuICogVGhpcyBzb3VyY2UgZmlsZSBpcyBzdWJqZWN0IHRvIHRoZSBBY2FkZW1pYyBGcmVlIExpY2Vuc2UgMy4wIChBRkwtMy4wKVxuICogdGhhdCBpcyBidW5kbGVkIHdpdGggdGhpcyBwYWNrYWdlIGluIHRoZSBmaWxlIExJQ0VOU0UudHh0LlxuICogSXQgaXMgYWxzbyBhdmFpbGFibGUgdGhyb3VnaCB0aGUgd29ybGQtd2lkZS13ZWIgYXQgdGhpcyBVUkw6XG4gKiBodHRwczovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL0FGTC0zLjBcbiAqIElmIHlvdSBkaWQgbm90IHJlY2VpdmUgYSBjb3B5IG9mIHRoZSBsaWNlbnNlIGFuZCBhcmUgdW5hYmxlIHRvXG4gKiBvYnRhaW4gaXQgdGhyb3VnaCB0aGUgd29ybGQtd2lkZS13ZWIsIHBsZWFzZSBzZW5kIGFuIGVtYWlsXG4gKiB0byBsaWNlbnNlQHByZXN0YXNob3AuY29tIHNvIHdlIGNhbiBzZW5kIHlvdSBhIGNvcHkgaW1tZWRpYXRlbHkuXG4gKlxuICogQGF1dGhvciAgICBQcmVzdGFTaG9wIFNBIDxjb250YWN0QHByZXN0YXNob3AuY29tPlxuICogQGNvcHlyaWdodCAyMDA3LTIwMjAgUHJlc3RhU2hvcCBTQSBhbmQgQ29udHJpYnV0b3JzXG4gKiBAbGljZW5zZSAgIGh0dHBzOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvQUZMLTMuMCBBY2FkZW1pYyBGcmVlIExpY2Vuc2UgMy4wIChBRkwtMy4wKVxuICogSW50ZXJuYXRpb25hbCBSZWdpc3RlcmVkIFRyYWRlbWFyayAmIFByb3BlcnR5IG9mIFByZXN0YVNob3AgU0FcbiAqL1xuXG5pbXBvcnQge21ha2VFeGVjdXRhYmxlU2NoZW1hfSBmcm9tICdncmFwaHFsLXRvb2xzJztcbmltcG9ydCByZXNvbHZlcnMgZnJvbSAnLi9yZXNvbHZlcnMnO1xuaW1wb3J0IHR5cGVEZWZzIGZyb20gJy4vdHlwZXMnO1xuXG4vKipcbiAqIEdlbmVyYXRlIFNjaGVtYUxpbmsgdGhhdCBBcG9sbG9DbGllbnQgbmVlZHMgdG8gdW5kZXJzdGFuZCBzY2hlbWFzXG4gKiBhbmQgbGluayByZXNvbHZlcnMgdG8gc2NoZW1hc1xuICovXG5leHBvcnQgZGVmYXVsdCBtYWtlRXhlY3V0YWJsZVNjaGVtYSh7XG4gIHR5cGVEZWZzLFxuICByZXNvbHZlcnMsXG59KTtcbiIsInZhciBybmcgPSByZXF1aXJlKCcuL2xpYi9ybmcnKTtcbnZhciBieXRlc1RvVXVpZCA9IHJlcXVpcmUoJy4vbGliL2J5dGVzVG9VdWlkJyk7XG5cbi8vICoqYHYxKClgIC0gR2VuZXJhdGUgdGltZS1iYXNlZCBVVUlEKipcbi8vXG4vLyBJbnNwaXJlZCBieSBodHRwczovL2dpdGh1Yi5jb20vTGlvc0svVVVJRC5qc1xuLy8gYW5kIGh0dHA6Ly9kb2NzLnB5dGhvbi5vcmcvbGlicmFyeS91dWlkLmh0bWxcblxudmFyIF9ub2RlSWQ7XG52YXIgX2Nsb2Nrc2VxO1xuXG4vLyBQcmV2aW91cyB1dWlkIGNyZWF0aW9uIHRpbWVcbnZhciBfbGFzdE1TZWNzID0gMDtcbnZhciBfbGFzdE5TZWNzID0gMDtcblxuLy8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS91dWlkanMvdXVpZCBmb3IgQVBJIGRldGFpbHNcbmZ1bmN0aW9uIHYxKG9wdGlvbnMsIGJ1Ziwgb2Zmc2V0KSB7XG4gIHZhciBpID0gYnVmICYmIG9mZnNldCB8fCAwO1xuICB2YXIgYiA9IGJ1ZiB8fCBbXTtcblxuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgdmFyIG5vZGUgPSBvcHRpb25zLm5vZGUgfHwgX25vZGVJZDtcbiAgdmFyIGNsb2Nrc2VxID0gb3B0aW9ucy5jbG9ja3NlcSAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5jbG9ja3NlcSA6IF9jbG9ja3NlcTtcblxuICAvLyBub2RlIGFuZCBjbG9ja3NlcSBuZWVkIHRvIGJlIGluaXRpYWxpemVkIHRvIHJhbmRvbSB2YWx1ZXMgaWYgdGhleSdyZSBub3RcbiAgLy8gc3BlY2lmaWVkLiAgV2UgZG8gdGhpcyBsYXppbHkgdG8gbWluaW1pemUgaXNzdWVzIHJlbGF0ZWQgdG8gaW5zdWZmaWNpZW50XG4gIC8vIHN5c3RlbSBlbnRyb3B5LiAgU2VlICMxODlcbiAgaWYgKG5vZGUgPT0gbnVsbCB8fCBjbG9ja3NlcSA9PSBudWxsKSB7XG4gICAgdmFyIHNlZWRCeXRlcyA9IHJuZygpO1xuICAgIGlmIChub2RlID09IG51bGwpIHtcbiAgICAgIC8vIFBlciA0LjUsIGNyZWF0ZSBhbmQgNDgtYml0IG5vZGUgaWQsICg0NyByYW5kb20gYml0cyArIG11bHRpY2FzdCBiaXQgPSAxKVxuICAgICAgbm9kZSA9IF9ub2RlSWQgPSBbXG4gICAgICAgIHNlZWRCeXRlc1swXSB8IDB4MDEsXG4gICAgICAgIHNlZWRCeXRlc1sxXSwgc2VlZEJ5dGVzWzJdLCBzZWVkQnl0ZXNbM10sIHNlZWRCeXRlc1s0XSwgc2VlZEJ5dGVzWzVdXG4gICAgICBdO1xuICAgIH1cbiAgICBpZiAoY2xvY2tzZXEgPT0gbnVsbCkge1xuICAgICAgLy8gUGVyIDQuMi4yLCByYW5kb21pemUgKDE0IGJpdCkgY2xvY2tzZXFcbiAgICAgIGNsb2Nrc2VxID0gX2Nsb2Nrc2VxID0gKHNlZWRCeXRlc1s2XSA8PCA4IHwgc2VlZEJ5dGVzWzddKSAmIDB4M2ZmZjtcbiAgICB9XG4gIH1cblxuICAvLyBVVUlEIHRpbWVzdGFtcHMgYXJlIDEwMCBuYW5vLXNlY29uZCB1bml0cyBzaW5jZSB0aGUgR3JlZ29yaWFuIGVwb2NoLFxuICAvLyAoMTU4Mi0xMC0xNSAwMDowMCkuICBKU051bWJlcnMgYXJlbid0IHByZWNpc2UgZW5vdWdoIGZvciB0aGlzLCBzb1xuICAvLyB0aW1lIGlzIGhhbmRsZWQgaW50ZXJuYWxseSBhcyAnbXNlY3MnIChpbnRlZ2VyIG1pbGxpc2Vjb25kcykgYW5kICduc2VjcydcbiAgLy8gKDEwMC1uYW5vc2Vjb25kcyBvZmZzZXQgZnJvbSBtc2Vjcykgc2luY2UgdW5peCBlcG9jaCwgMTk3MC0wMS0wMSAwMDowMC5cbiAgdmFyIG1zZWNzID0gb3B0aW9ucy5tc2VjcyAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5tc2VjcyA6IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuXG4gIC8vIFBlciA0LjIuMS4yLCB1c2UgY291bnQgb2YgdXVpZCdzIGdlbmVyYXRlZCBkdXJpbmcgdGhlIGN1cnJlbnQgY2xvY2tcbiAgLy8gY3ljbGUgdG8gc2ltdWxhdGUgaGlnaGVyIHJlc29sdXRpb24gY2xvY2tcbiAgdmFyIG5zZWNzID0gb3B0aW9ucy5uc2VjcyAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5uc2VjcyA6IF9sYXN0TlNlY3MgKyAxO1xuXG4gIC8vIFRpbWUgc2luY2UgbGFzdCB1dWlkIGNyZWF0aW9uIChpbiBtc2VjcylcbiAgdmFyIGR0ID0gKG1zZWNzIC0gX2xhc3RNU2VjcykgKyAobnNlY3MgLSBfbGFzdE5TZWNzKS8xMDAwMDtcblxuICAvLyBQZXIgNC4yLjEuMiwgQnVtcCBjbG9ja3NlcSBvbiBjbG9jayByZWdyZXNzaW9uXG4gIGlmIChkdCA8IDAgJiYgb3B0aW9ucy5jbG9ja3NlcSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgY2xvY2tzZXEgPSBjbG9ja3NlcSArIDEgJiAweDNmZmY7XG4gIH1cblxuICAvLyBSZXNldCBuc2VjcyBpZiBjbG9jayByZWdyZXNzZXMgKG5ldyBjbG9ja3NlcSkgb3Igd2UndmUgbW92ZWQgb250byBhIG5ld1xuICAvLyB0aW1lIGludGVydmFsXG4gIGlmICgoZHQgPCAwIHx8IG1zZWNzID4gX2xhc3RNU2VjcykgJiYgb3B0aW9ucy5uc2VjcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgbnNlY3MgPSAwO1xuICB9XG5cbiAgLy8gUGVyIDQuMi4xLjIgVGhyb3cgZXJyb3IgaWYgdG9vIG1hbnkgdXVpZHMgYXJlIHJlcXVlc3RlZFxuICBpZiAobnNlY3MgPj0gMTAwMDApIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3V1aWQudjEoKTogQ2FuXFwndCBjcmVhdGUgbW9yZSB0aGFuIDEwTSB1dWlkcy9zZWMnKTtcbiAgfVxuXG4gIF9sYXN0TVNlY3MgPSBtc2VjcztcbiAgX2xhc3ROU2VjcyA9IG5zZWNzO1xuICBfY2xvY2tzZXEgPSBjbG9ja3NlcTtcblxuICAvLyBQZXIgNC4xLjQgLSBDb252ZXJ0IGZyb20gdW5peCBlcG9jaCB0byBHcmVnb3JpYW4gZXBvY2hcbiAgbXNlY3MgKz0gMTIyMTkyOTI4MDAwMDA7XG5cbiAgLy8gYHRpbWVfbG93YFxuICB2YXIgdGwgPSAoKG1zZWNzICYgMHhmZmZmZmZmKSAqIDEwMDAwICsgbnNlY3MpICUgMHgxMDAwMDAwMDA7XG4gIGJbaSsrXSA9IHRsID4+PiAyNCAmIDB4ZmY7XG4gIGJbaSsrXSA9IHRsID4+PiAxNiAmIDB4ZmY7XG4gIGJbaSsrXSA9IHRsID4+PiA4ICYgMHhmZjtcbiAgYltpKytdID0gdGwgJiAweGZmO1xuXG4gIC8vIGB0aW1lX21pZGBcbiAgdmFyIHRtaCA9IChtc2VjcyAvIDB4MTAwMDAwMDAwICogMTAwMDApICYgMHhmZmZmZmZmO1xuICBiW2krK10gPSB0bWggPj4+IDggJiAweGZmO1xuICBiW2krK10gPSB0bWggJiAweGZmO1xuXG4gIC8vIGB0aW1lX2hpZ2hfYW5kX3ZlcnNpb25gXG4gIGJbaSsrXSA9IHRtaCA+Pj4gMjQgJiAweGYgfCAweDEwOyAvLyBpbmNsdWRlIHZlcnNpb25cbiAgYltpKytdID0gdG1oID4+PiAxNiAmIDB4ZmY7XG5cbiAgLy8gYGNsb2NrX3NlcV9oaV9hbmRfcmVzZXJ2ZWRgIChQZXIgNC4yLjIgLSBpbmNsdWRlIHZhcmlhbnQpXG4gIGJbaSsrXSA9IGNsb2Nrc2VxID4+PiA4IHwgMHg4MDtcblxuICAvLyBgY2xvY2tfc2VxX2xvd2BcbiAgYltpKytdID0gY2xvY2tzZXEgJiAweGZmO1xuXG4gIC8vIGBub2RlYFxuICBmb3IgKHZhciBuID0gMDsgbiA8IDY7ICsrbikge1xuICAgIGJbaSArIG5dID0gbm9kZVtuXTtcbiAgfVxuXG4gIHJldHVybiBidWYgPyBidWYgOiBieXRlc1RvVXVpZChiKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB2MTtcbiIsInZhciBybmcgPSByZXF1aXJlKCcuL2xpYi9ybmcnKTtcbnZhciBieXRlc1RvVXVpZCA9IHJlcXVpcmUoJy4vbGliL2J5dGVzVG9VdWlkJyk7XG5cbmZ1bmN0aW9uIHY0KG9wdGlvbnMsIGJ1Ziwgb2Zmc2V0KSB7XG4gIHZhciBpID0gYnVmICYmIG9mZnNldCB8fCAwO1xuXG4gIGlmICh0eXBlb2Yob3B0aW9ucykgPT0gJ3N0cmluZycpIHtcbiAgICBidWYgPSBvcHRpb25zID09PSAnYmluYXJ5JyA/IG5ldyBBcnJheSgxNikgOiBudWxsO1xuICAgIG9wdGlvbnMgPSBudWxsO1xuICB9XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gIHZhciBybmRzID0gb3B0aW9ucy5yYW5kb20gfHwgKG9wdGlvbnMucm5nIHx8IHJuZykoKTtcblxuICAvLyBQZXIgNC40LCBzZXQgYml0cyBmb3IgdmVyc2lvbiBhbmQgYGNsb2NrX3NlcV9oaV9hbmRfcmVzZXJ2ZWRgXG4gIHJuZHNbNl0gPSAocm5kc1s2XSAmIDB4MGYpIHwgMHg0MDtcbiAgcm5kc1s4XSA9IChybmRzWzhdICYgMHgzZikgfCAweDgwO1xuXG4gIC8vIENvcHkgYnl0ZXMgdG8gYnVmZmVyLCBpZiBwcm92aWRlZFxuICBpZiAoYnVmKSB7XG4gICAgZm9yICh2YXIgaWkgPSAwOyBpaSA8IDE2OyArK2lpKSB7XG4gICAgICBidWZbaSArIGlpXSA9IHJuZHNbaWldO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBidWYgfHwgYnl0ZXNUb1V1aWQocm5kcyk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gdjQ7XG4iLCIvKipcbiAqIDIwMDctMjAyMCBQcmVzdGFTaG9wIGFuZCBDb250cmlidXRvcnNcbiAqXG4gKiBOT1RJQ0UgT0YgTElDRU5TRVxuICpcbiAqIFRoaXMgc291cmNlIGZpbGUgaXMgc3ViamVjdCB0byB0aGUgQWNhZGVtaWMgRnJlZSBMaWNlbnNlIDMuMCAoQUZMLTMuMClcbiAqIHRoYXQgaXMgYnVuZGxlZCB3aXRoIHRoaXMgcGFja2FnZSBpbiB0aGUgZmlsZSBMSUNFTlNFLnR4dC5cbiAqIEl0IGlzIGFsc28gYXZhaWxhYmxlIHRocm91Z2ggdGhlIHdvcmxkLXdpZGUtd2ViIGF0IHRoaXMgVVJMOlxuICogaHR0cHM6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9BRkwtMy4wXG4gKiBJZiB5b3UgZGlkIG5vdCByZWNlaXZlIGEgY29weSBvZiB0aGUgbGljZW5zZSBhbmQgYXJlIHVuYWJsZSB0b1xuICogb2J0YWluIGl0IHRocm91Z2ggdGhlIHdvcmxkLXdpZGUtd2ViLCBwbGVhc2Ugc2VuZCBhbiBlbWFpbFxuICogdG8gbGljZW5zZUBwcmVzdGFzaG9wLmNvbSBzbyB3ZSBjYW4gc2VuZCB5b3UgYSBjb3B5IGltbWVkaWF0ZWx5LlxuICpcbiAqIEBhdXRob3IgICAgUHJlc3RhU2hvcCBTQSA8Y29udGFjdEBwcmVzdGFzaG9wLmNvbT5cbiAqIEBjb3B5cmlnaHQgMjAwNy0yMDIwIFByZXN0YVNob3AgU0EgYW5kIENvbnRyaWJ1dG9yc1xuICogQGxpY2Vuc2UgICBodHRwczovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL0FGTC0zLjAgQWNhZGVtaWMgRnJlZSBMaWNlbnNlIDMuMCAoQUZMLTMuMClcbiAqIEludGVybmF0aW9uYWwgUmVnaXN0ZXJlZCBUcmFkZW1hcmsgJiBQcm9wZXJ0eSBvZiBQcmVzdGFTaG9wIFNBXG4gKi9cblxuaW1wb3J0IEV2ZW50QnVzIGZyb20gJ0Bjb21wb25lbnRzL0V2ZW50QnVzJztcbmltcG9ydCBoZWFkZXJzIGZyb20gJ0Bjb25zdGFudHMvaGVhZGVycyc7XG5pbXBvcnQgR3JhcGhRTEpTT04sIHtHcmFwaFFMSlNPTk9iamVjdH0gZnJvbSAnZ3JhcGhxbC10eXBlLWpzb24nO1xuXG4vKipcbiAqIFJlc29sdmVycyBsaW5rZWQgdG8gc2NoZW1hcyBkZWZpbml0aW9uc1xuICovXG5leHBvcnQgZGVmYXVsdCB7XG4gIEpTT046IEdyYXBoUUxKU09OLFxuICBKU09OT2JqZWN0OiBHcmFwaFFMSlNPTk9iamVjdCxcbiAgUXVlcnk6IHtcbiAgICAvKipcbiAgICAgKiBHZXQgcHJvZHVjdCBmcm9tIGEgbGlzdFxuICAgICAqL1xuICAgIHByb2R1Y3RzOiBhc3luYyAocm9vdCwge3VybH0pID0+IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7dXJsfSZmcm9tLXhocmAsIHtcbiAgICAgICAgaGVhZGVyczogaGVhZGVycy5wcm9kdWN0cyxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCBkYXRhcyA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuICAgICAgRXZlbnRCdXMuJGVtaXQoJ3BhZ2luYXRlJywge1xuICAgICAgICBkZXRhaWw6IHtcbiAgICAgICAgICB0b3RhbDogZGF0YXMucGFnaW5hdGlvbi50b3RhbF9pdGVtcyxcbiAgICAgICAgICBtaW5TaG93bjogZGF0YXMucGFnaW5hdGlvbi5pdGVtc19zaG93bl9mcm9tLFxuICAgICAgICAgIG1heFNob3duOiBkYXRhcy5wYWdpbmF0aW9uLml0ZW1zX3Nob3duX3RvLFxuICAgICAgICAgIHBhZ2VOdW1iZXI6IGRhdGFzLnBhZ2luYXRpb24ucGFnZXNfY291bnQsXG4gICAgICAgICAgcGFnZXM6IGRhdGFzLnBhZ2luYXRpb24ucGFnZXMsXG4gICAgICAgICAgZGlzcGxheTogZGF0YXMucGFnaW5hdGlvbi5zaG91bGRfYmVfZGlzcGxheWVkLFxuICAgICAgICAgIGN1cnJlbnRQYWdlOiBkYXRhcy5wYWdpbmF0aW9uLmN1cnJlbnRfcGFnZSxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuXG4gICAgICB3aW5kb3cuaGlzdG9yeS5wdXNoU3RhdGUoZGF0YXMsIGRvY3VtZW50LnRpdGxlLCBkYXRhcy5jdXJyZW50X3VybCk7XG4gICAgICB3aW5kb3cuc2Nyb2xsVG8oMCwgMCk7XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIGRhdGFzOiB7XG4gICAgICAgICAgcHJvZHVjdHM6IGRhdGFzLnByb2R1Y3RzLFxuICAgICAgICAgIHBhZ2luYXRpb246IGRhdGFzLnBhZ2luYXRpb24sXG4gICAgICAgICAgY3VycmVudF91cmw6IGRhdGFzLmN1cnJlbnRfdXJsLFxuICAgICAgICAgIHNvcnRfb3JkZXJzOiBkYXRhcy5zb3J0X29yZGVycyxcbiAgICAgICAgICBzb3J0X3NlbGVjdGVkOiBkYXRhcy5zb3J0X3NlbGVjdGVkLFxuICAgICAgICB9LFxuICAgICAgfTtcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIEdldCBldmVyeSBsaXN0cyBmcm9tIFVzZXJcbiAgICAgKi9cbiAgICBsaXN0czogYXN5bmMgKHJvb3QsIHt1cmx9KSA9PiB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHVybCk7XG5cbiAgICAgIGNvbnN0IGRhdGFzID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuXG4gICAgICByZXR1cm4gZGF0YXMud2lzaGxpc3RzO1xuICAgIH0sXG4gIH0sXG4gIE11dGF0aW9uOiB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgbGlzdCBiYXNlZCBvbiBhIG5hbWUgYW5kIGFuIHVzZXJJZFxuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IG5hbWUgVGhlIG5hbWUgb2YgdGhlIGxpc3RcbiAgICAgKiBAcGFyYW0ge0ludH0gdXNlcklkIFRoZSBJRCBvZiB0aGUgdXNlciB5b3Ugd2FudCB0byBjcmVhdGUgYSBsaXN0IG9uXG4gICAgICovXG4gICAgY3JlYXRlTGlzdDogYXN5bmMgKHJvb3QsIHtuYW1lLCB1cmx9KSA9PiB7XG4gICAgICBjb25zdCBuYW1lRW5jb2RlZCA9IGVuY29kZVVSSUNvbXBvbmVudChuYW1lKTtcblxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgJHt1cmx9JnBhcmFtc1tuYW1lXT0ke25hbWVFbmNvZGVkfWAsIHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgZGF0YXMgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cbiAgICAgIHJldHVybiBkYXRhcztcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIFJlbmFtZSBhIGxpc3RcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSB7bmFtZSBOZXcgbmFtZSBvZiB0aGUgbGlzdFxuICAgICAqIEBwYXJhbSB7SW50fSB1c2VySWQgSWQgb2YgdGhlIHVzZXJcbiAgICAgKiBAcGFyYW0ge0ludH0gbGlzdElkfSBJRCBvZiB0aGUgbGlzdCB0byBiZSByZW5hbWVkXG4gICAgICovXG4gICAgcmVuYW1lTGlzdDogYXN5bmMgKHJvb3QsIHtuYW1lLCBsaXN0SWQsIHVybH0pID0+IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7dXJsfSZwYXJhbXNbbmFtZV09JHtuYW1lfSZwYXJhbXNbaWRXaXNoTGlzdF09JHtsaXN0SWR9YCwge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCBkYXRhcyA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuICAgICAgcmV0dXJuIGRhdGFzO1xuICAgIH0sXG4gICAgLyoqXG4gICAgICogQWRkIGEgcHJvZHVjdCB0byBhIGxpc3RcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7SW50fSBsaXN0SWQgVGhlIGxpc3QgaWRcbiAgICAgKiBAcGFyYW0ge0ludH0gdXNlcklkIFRoZSB1c2VyIGlkXG4gICAgICogQHBhcmFtIHtJbnR9IHByb2R1Y3RJZCBUaGUgcHJvZHVjdCBpZCB0byBiZSBhZGRlZCB0byB0aGUgbGlzdCBpZFxuICAgICAqXG4gICAgICogQHJldHVybnMge0pTT059IEEgc3VjY2VzcyBvciBmYWlsZWQgcmVzcG9uc2VcbiAgICAgKi9cbiAgICBhZGRUb0xpc3Q6IGFzeW5jIChyb290LCB7XG4gICAgICBsaXN0SWQsIHVybCwgcHJvZHVjdElkLCBxdWFudGl0eSwgcHJvZHVjdEF0dHJpYnV0ZUlkLFxuICAgIH0pID0+IHtcbiAgICAgIC8qIGVzbGludC1kaXNhYmxlICovXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKFxuICAgICAgICBgJHt1cmx9JnBhcmFtc1tpZF9wcm9kdWN0XT0ke3Byb2R1Y3RJZH0mcGFyYW1zW2lkV2lzaExpc3RdPSR7bGlzdElkfSZwYXJhbXNbcXVhbnRpdHldPSR7cXVhbnRpdHl9JnBhcmFtc1tpZF9wcm9kdWN0X2F0dHJpYnV0ZV09JHtwcm9kdWN0QXR0cmlidXRlSWR9YCxcbiAgICAgICAge1xuICAgICAgICAgIG1ldGhvZDogJ1BPU1QnXG4gICAgICAgIH1cbiAgICAgICk7XG4gICAgICAvKiBlc2xpbnQtZW5hYmxlICovXG5cbiAgICAgIGNvbnN0IGRhdGFzID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuXG4gICAgICBpZiAoZGF0YXMuc3VjY2Vzcykge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbiAgICAgICAgcHJvZHVjdHNBbHJlYWR5VGFnZ2VkLnB1c2goe1xuICAgICAgICAgIGlkX3Byb2R1Y3Q6IHByb2R1Y3RJZC50b1N0cmluZygpLFxuICAgICAgICAgIGlkX3dpc2hsaXN0OiBsaXN0SWQudG9TdHJpbmcoKSxcbiAgICAgICAgICBxdWFudGl0eTogcXVhbnRpdHkudG9TdHJpbmcoKSxcbiAgICAgICAgICBpZF9wcm9kdWN0X2F0dHJpYnV0ZTogcHJvZHVjdEF0dHJpYnV0ZUlkLnRvU3RyaW5nKCksXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZGF0YXM7XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBSZW1vdmUgYSBwcm9kdWN0IGZyb20gYSBsaXN0XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0ludH0gbGlzdElkIFRoZSBsaXN0IGlkXG4gICAgICogQHBhcmFtIHtJbnR9IHVzZXJJZCBUaGUgdXNlciBpZFxuICAgICAqIEBwYXJhbSB7SW50fSBwcm9kdWN0SWQgVGhlIHByb2R1Y3QgaWQgdG8gYmUgcmVtb3ZlZCBmcm9tIHRoZSBsaXN0IGlkXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7SlNPTn0gQSBzdWNjZXNzIG9yIGZhaWxlZCByZXNwb25zZVxuICAgICAqL1xuICAgIHJlbW92ZUZyb21MaXN0OiBhc3luYyAocm9vdCwge1xuICAgICAgbGlzdElkLCBwcm9kdWN0SWQsIHVybCwgcHJvZHVjdEF0dHJpYnV0ZUlkLFxuICAgIH0pID0+IHtcbiAgICAgIC8qIGVzbGludC1kaXNhYmxlICovXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKFxuICAgICAgICBgJHt1cmx9JnBhcmFtc1tpZF9wcm9kdWN0XT0ke3Byb2R1Y3RJZH0mcGFyYW1zW2lkV2lzaExpc3RdPSR7bGlzdElkfSZwYXJhbXNbaWRfcHJvZHVjdF9hdHRyaWJ1dGVdPSR7cHJvZHVjdEF0dHJpYnV0ZUlkfWAsXG4gICAgICAgIHtcbiAgICAgICAgICBtZXRob2Q6ICdQT1NUJ1xuICAgICAgICB9XG4gICAgICApO1xuICAgICAgLyogZXNsaW50LWVuYWJsZSAqL1xuXG4gICAgICBjb25zdCBkYXRhcyA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuICAgICAgaWYgKGRhdGFzLnN1Y2Nlc3MpIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gICAgICAgIHByb2R1Y3RzQWxyZWFkeVRhZ2dlZCA9IHByb2R1Y3RzQWxyZWFkeVRhZ2dlZC5maWx0ZXIoXG4gICAgICAgICAgKGUpID0+IGUuaWRfcHJvZHVjdCAhPT0gcHJvZHVjdElkLnRvU3RyaW5nKClcbiAgICAgICAgICAgIHx8IChlLmlkX3Byb2R1Y3RfYXR0cmlidXRlICE9PSBwcm9kdWN0QXR0cmlidXRlSWQudG9TdHJpbmcoKSAmJiBlLmlkX3Byb2R1Y3QgPT09IHByb2R1Y3RJZC50b1N0cmluZygpKVxuICAgICAgICAgICAgfHwgZS5pZF93aXNobGlzdCAhPT0gbGlzdElkLnRvU3RyaW5nKCksXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBkYXRhcztcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIFJlbW92ZSBhIGxpc3RcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7SW50fSB7bGlzdElkfSBUaGUgbGlzdCBpZFxuICAgICAqXG4gICAgICogQHJldHVybnMge0pTT059IGEgSlNPTiBzdWNjZXNzIG9yIGZhaWxlZCByZXNwb25zZVxuICAgICAqL1xuICAgIGRlbGV0ZUxpc3Q6IGFzeW5jIChyb290LCB7bGlzdElkLCB1cmx9KSA9PiB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke3VybH0mcGFyYW1zW2lkV2lzaExpc3RdPSR7bGlzdElkfWAsIHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgZGF0YXMgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cbiAgICAgIHJldHVybiBkYXRhcztcbiAgICB9LFxuICB9LFxufTtcbiIsIm1vZHVsZS5leHBvcnRzID0geyBcImRlZmF1bHRcIjogcmVxdWlyZShcImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZGVmaW5lLXByb3BlcnRpZXNcIiksIF9fZXNNb2R1bGU6IHRydWUgfTsiLCJtb2R1bGUuZXhwb3J0cyA9IHsgXCJkZWZhdWx0XCI6IHJlcXVpcmUoXCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2ZyZWV6ZVwiKSwgX19lc01vZHVsZTogdHJ1ZSB9OyIsIi8vIHN0eWxlLWxvYWRlcjogQWRkcyBzb21lIGNzcyB0byB0aGUgRE9NIGJ5IGFkZGluZyBhIDxzdHlsZT4gdGFnXG5cbi8vIGxvYWQgdGhlIHN0eWxlc1xudmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvbG9hZGVycy9zdHlsZVBvc3RMb2FkZXIuanMhLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vQ3JlYXRlLnZ1ZT92dWUmdHlwZT1zdHlsZSZpbmRleD0wJmxhbmc9c2NzcyZcIik7XG5pZihjb250ZW50Ll9fZXNNb2R1bGUpIGNvbnRlbnQgPSBjb250ZW50LmRlZmF1bHQ7XG5pZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcbmlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuLy8gYWRkIHRoZSBzdHlsZXMgdG8gdGhlIERPTVxudmFyIGFkZCA9IHJlcXVpcmUoXCIhLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1zdHlsZS1sb2FkZXIvbGliL2FkZFN0eWxlc0NsaWVudC5qc1wiKS5kZWZhdWx0XG52YXIgdXBkYXRlID0gYWRkKFwiNzlkNjc5YTZcIiwgY29udGVudCwgZmFsc2UsIHt9KTtcbi8vIEhvdCBNb2R1bGUgUmVwbGFjZW1lbnRcbmlmKG1vZHVsZS5ob3QpIHtcbiAvLyBXaGVuIHRoZSBzdHlsZXMgY2hhbmdlLCB1cGRhdGUgdGhlIDxzdHlsZT4gdGFnc1xuIGlmKCFjb250ZW50LmxvY2Fscykge1xuICAgbW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9sb2FkZXJzL3N0eWxlUG9zdExvYWRlci5qcyEuLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvZGlzdC9janMuanMhLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9DcmVhdGUudnVlP3Z1ZSZ0eXBlPXN0eWxlJmluZGV4PTAmbGFuZz1zY3NzJlwiLCBmdW5jdGlvbigpIHtcbiAgICAgdmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvbG9hZGVycy9zdHlsZVBvc3RMb2FkZXIuanMhLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vQ3JlYXRlLnZ1ZT92dWUmdHlwZT1zdHlsZSZpbmRleD0wJmxhbmc9c2NzcyZcIik7XG4gICAgIGlmKG5ld0NvbnRlbnQuX19lc01vZHVsZSkgbmV3Q29udGVudCA9IG5ld0NvbnRlbnQuZGVmYXVsdDtcbiAgICAgaWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG4gICAgIHVwZGF0ZShuZXdDb250ZW50KTtcbiAgIH0pO1xuIH1cbiAvLyBXaGVuIHRoZSBtb2R1bGUgaXMgZGlzcG9zZWQsIHJlbW92ZSB0aGUgPHN0eWxlPiB0YWdzXG4gbW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG59IiwiLyogZ2xvYmFsIHdpbmRvdyAqL1xuaW1wb3J0IHBvbnlmaWxsIGZyb20gJy4vcG9ueWZpbGwuanMnO1xuXG52YXIgcm9vdDtcblxuaWYgKHR5cGVvZiBzZWxmICE9PSAndW5kZWZpbmVkJykge1xuICByb290ID0gc2VsZjtcbn0gZWxzZSBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgcm9vdCA9IHdpbmRvdztcbn0gZWxzZSBpZiAodHlwZW9mIGdsb2JhbCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgcm9vdCA9IGdsb2JhbDtcbn0gZWxzZSBpZiAodHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgcm9vdCA9IG1vZHVsZTtcbn0gZWxzZSB7XG4gIHJvb3QgPSBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xufVxuXG52YXIgcmVzdWx0ID0gcG9ueWZpbGwocm9vdCk7XG5leHBvcnQgZGVmYXVsdCByZXN1bHQ7XG4iLCIndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGRhdGEsIG9wdHMpIHtcbiAgICBpZiAoIW9wdHMpIG9wdHMgPSB7fTtcbiAgICBpZiAodHlwZW9mIG9wdHMgPT09ICdmdW5jdGlvbicpIG9wdHMgPSB7IGNtcDogb3B0cyB9O1xuICAgIHZhciBjeWNsZXMgPSAodHlwZW9mIG9wdHMuY3ljbGVzID09PSAnYm9vbGVhbicpID8gb3B0cy5jeWNsZXMgOiBmYWxzZTtcblxuICAgIHZhciBjbXAgPSBvcHRzLmNtcCAmJiAoZnVuY3Rpb24gKGYpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgICAgICAgICAgICB2YXIgYW9iaiA9IHsga2V5OiBhLCB2YWx1ZTogbm9kZVthXSB9O1xuICAgICAgICAgICAgICAgIHZhciBib2JqID0geyBrZXk6IGIsIHZhbHVlOiBub2RlW2JdIH07XG4gICAgICAgICAgICAgICAgcmV0dXJuIGYoYW9iaiwgYm9iaik7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9O1xuICAgIH0pKG9wdHMuY21wKTtcblxuICAgIHZhciBzZWVuID0gW107XG4gICAgcmV0dXJuIChmdW5jdGlvbiBzdHJpbmdpZnkgKG5vZGUpIHtcbiAgICAgICAgaWYgKG5vZGUgJiYgbm9kZS50b0pTT04gJiYgdHlwZW9mIG5vZGUudG9KU09OID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBub2RlID0gbm9kZS50b0pTT04oKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChub2RlID09PSB1bmRlZmluZWQpIHJldHVybjtcbiAgICAgICAgaWYgKHR5cGVvZiBub2RlID09ICdudW1iZXInKSByZXR1cm4gaXNGaW5pdGUobm9kZSkgPyAnJyArIG5vZGUgOiAnbnVsbCc7XG4gICAgICAgIGlmICh0eXBlb2Ygbm9kZSAhPT0gJ29iamVjdCcpIHJldHVybiBKU09OLnN0cmluZ2lmeShub2RlKTtcblxuICAgICAgICB2YXIgaSwgb3V0O1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShub2RlKSkge1xuICAgICAgICAgICAgb3V0ID0gJ1snO1xuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IG5vZGUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoaSkgb3V0ICs9ICcsJztcbiAgICAgICAgICAgICAgICBvdXQgKz0gc3RyaW5naWZ5KG5vZGVbaV0pIHx8ICdudWxsJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBvdXQgKyAnXSc7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobm9kZSA9PT0gbnVsbCkgcmV0dXJuICdudWxsJztcblxuICAgICAgICBpZiAoc2Vlbi5pbmRleE9mKG5vZGUpICE9PSAtMSkge1xuICAgICAgICAgICAgaWYgKGN5Y2xlcykgcmV0dXJuIEpTT04uc3RyaW5naWZ5KCdfX2N5Y2xlX18nKTtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0NvbnZlcnRpbmcgY2lyY3VsYXIgc3RydWN0dXJlIHRvIEpTT04nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBzZWVuSW5kZXggPSBzZWVuLnB1c2gobm9kZSkgLSAxO1xuICAgICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG5vZGUpLnNvcnQoY21wICYmIGNtcChub2RlKSk7XG4gICAgICAgIG91dCA9ICcnO1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGtleSA9IGtleXNbaV07XG4gICAgICAgICAgICB2YXIgdmFsdWUgPSBzdHJpbmdpZnkobm9kZVtrZXldKTtcblxuICAgICAgICAgICAgaWYgKCF2YWx1ZSkgY29udGludWU7XG4gICAgICAgICAgICBpZiAob3V0KSBvdXQgKz0gJywnO1xuICAgICAgICAgICAgb3V0ICs9IEpTT04uc3RyaW5naWZ5KGtleSkgKyAnOicgKyB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBzZWVuLnNwbGljZShzZWVuSW5kZXgsIDEpO1xuICAgICAgICByZXR1cm4gJ3snICsgb3V0ICsgJ30nO1xuICAgIH0pKGRhdGEpO1xufTtcbiIsImltcG9ydCB7IGdldEZyYWdtZW50UXVlcnlEb2N1bWVudCB9IGZyb20gJ2Fwb2xsby11dGlsaXRpZXMnO1xuXG5mdW5jdGlvbiBxdWVyeUZyb21Qb2pvKG9iaikge1xuICAgIHZhciBvcCA9IHtcbiAgICAgICAga2luZDogJ09wZXJhdGlvbkRlZmluaXRpb24nLFxuICAgICAgICBvcGVyYXRpb246ICdxdWVyeScsXG4gICAgICAgIG5hbWU6IHtcbiAgICAgICAgICAgIGtpbmQ6ICdOYW1lJyxcbiAgICAgICAgICAgIHZhbHVlOiAnR2VuZXJhdGVkQ2xpZW50UXVlcnknLFxuICAgICAgICB9LFxuICAgICAgICBzZWxlY3Rpb25TZXQ6IHNlbGVjdGlvblNldEZyb21PYmoob2JqKSxcbiAgICB9O1xuICAgIHZhciBvdXQgPSB7XG4gICAgICAgIGtpbmQ6ICdEb2N1bWVudCcsXG4gICAgICAgIGRlZmluaXRpb25zOiBbb3BdLFxuICAgIH07XG4gICAgcmV0dXJuIG91dDtcbn1cbmZ1bmN0aW9uIGZyYWdtZW50RnJvbVBvam8ob2JqLCB0eXBlbmFtZSkge1xuICAgIHZhciBmcmFnID0ge1xuICAgICAgICBraW5kOiAnRnJhZ21lbnREZWZpbml0aW9uJyxcbiAgICAgICAgdHlwZUNvbmRpdGlvbjoge1xuICAgICAgICAgICAga2luZDogJ05hbWVkVHlwZScsXG4gICAgICAgICAgICBuYW1lOiB7XG4gICAgICAgICAgICAgICAga2luZDogJ05hbWUnLFxuICAgICAgICAgICAgICAgIHZhbHVlOiB0eXBlbmFtZSB8fCAnX19GYWtlVHlwZScsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICBuYW1lOiB7XG4gICAgICAgICAgICBraW5kOiAnTmFtZScsXG4gICAgICAgICAgICB2YWx1ZTogJ0dlbmVyYXRlZENsaWVudFF1ZXJ5JyxcbiAgICAgICAgfSxcbiAgICAgICAgc2VsZWN0aW9uU2V0OiBzZWxlY3Rpb25TZXRGcm9tT2JqKG9iaiksXG4gICAgfTtcbiAgICB2YXIgb3V0ID0ge1xuICAgICAgICBraW5kOiAnRG9jdW1lbnQnLFxuICAgICAgICBkZWZpbml0aW9uczogW2ZyYWddLFxuICAgIH07XG4gICAgcmV0dXJuIG91dDtcbn1cbmZ1bmN0aW9uIHNlbGVjdGlvblNldEZyb21PYmoob2JqKSB7XG4gICAgaWYgKHR5cGVvZiBvYmogPT09ICdudW1iZXInIHx8XG4gICAgICAgIHR5cGVvZiBvYmogPT09ICdib29sZWFuJyB8fFxuICAgICAgICB0eXBlb2Ygb2JqID09PSAnc3RyaW5nJyB8fFxuICAgICAgICB0eXBlb2Ygb2JqID09PSAndW5kZWZpbmVkJyB8fFxuICAgICAgICBvYmogPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGlmIChBcnJheS5pc0FycmF5KG9iaikpIHtcbiAgICAgICAgcmV0dXJuIHNlbGVjdGlvblNldEZyb21PYmoob2JqWzBdKTtcbiAgICB9XG4gICAgdmFyIHNlbGVjdGlvbnMgPSBbXTtcbiAgICBPYmplY3Qua2V5cyhvYmopLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgICB2YXIgbmVzdGVkU2VsU2V0ID0gc2VsZWN0aW9uU2V0RnJvbU9iaihvYmpba2V5XSk7XG4gICAgICAgIHZhciBmaWVsZCA9IHtcbiAgICAgICAgICAgIGtpbmQ6ICdGaWVsZCcsXG4gICAgICAgICAgICBuYW1lOiB7XG4gICAgICAgICAgICAgICAga2luZDogJ05hbWUnLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBrZXksXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2VsZWN0aW9uU2V0OiBuZXN0ZWRTZWxTZXQgfHwgdW5kZWZpbmVkLFxuICAgICAgICB9O1xuICAgICAgICBzZWxlY3Rpb25zLnB1c2goZmllbGQpO1xuICAgIH0pO1xuICAgIHZhciBzZWxlY3Rpb25TZXQgPSB7XG4gICAgICAgIGtpbmQ6ICdTZWxlY3Rpb25TZXQnLFxuICAgICAgICBzZWxlY3Rpb25zOiBzZWxlY3Rpb25zLFxuICAgIH07XG4gICAgcmV0dXJuIHNlbGVjdGlvblNldDtcbn1cbnZhciBqdXN0VHlwZW5hbWVRdWVyeSA9IHtcbiAgICBraW5kOiAnRG9jdW1lbnQnLFxuICAgIGRlZmluaXRpb25zOiBbXG4gICAgICAgIHtcbiAgICAgICAgICAgIGtpbmQ6ICdPcGVyYXRpb25EZWZpbml0aW9uJyxcbiAgICAgICAgICAgIG9wZXJhdGlvbjogJ3F1ZXJ5JyxcbiAgICAgICAgICAgIG5hbWU6IG51bGwsXG4gICAgICAgICAgICB2YXJpYWJsZURlZmluaXRpb25zOiBudWxsLFxuICAgICAgICAgICAgZGlyZWN0aXZlczogW10sXG4gICAgICAgICAgICBzZWxlY3Rpb25TZXQ6IHtcbiAgICAgICAgICAgICAgICBraW5kOiAnU2VsZWN0aW9uU2V0JyxcbiAgICAgICAgICAgICAgICBzZWxlY3Rpb25zOiBbXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGtpbmQ6ICdGaWVsZCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGlhczogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBraW5kOiAnTmFtZScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6ICdfX3R5cGVuYW1lJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBhcmd1bWVudHM6IFtdLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGlyZWN0aXZlczogW10sXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3Rpb25TZXQ6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgXSxcbn07XG5cbnZhciBBcG9sbG9DYWNoZSA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQXBvbGxvQ2FjaGUoKSB7XG4gICAgfVxuICAgIEFwb2xsb0NhY2hlLnByb3RvdHlwZS50cmFuc2Zvcm1Eb2N1bWVudCA9IGZ1bmN0aW9uIChkb2N1bWVudCkge1xuICAgICAgICByZXR1cm4gZG9jdW1lbnQ7XG4gICAgfTtcbiAgICBBcG9sbG9DYWNoZS5wcm90b3R5cGUudHJhbnNmb3JtRm9yTGluayA9IGZ1bmN0aW9uIChkb2N1bWVudCkge1xuICAgICAgICByZXR1cm4gZG9jdW1lbnQ7XG4gICAgfTtcbiAgICBBcG9sbG9DYWNoZS5wcm90b3R5cGUucmVhZFF1ZXJ5ID0gZnVuY3Rpb24gKG9wdGlvbnMsIG9wdGltaXN0aWMpIHtcbiAgICAgICAgaWYgKG9wdGltaXN0aWMgPT09IHZvaWQgMCkgeyBvcHRpbWlzdGljID0gZmFsc2U7IH1cbiAgICAgICAgcmV0dXJuIHRoaXMucmVhZCh7XG4gICAgICAgICAgICBxdWVyeTogb3B0aW9ucy5xdWVyeSxcbiAgICAgICAgICAgIHZhcmlhYmxlczogb3B0aW9ucy52YXJpYWJsZXMsXG4gICAgICAgICAgICBvcHRpbWlzdGljOiBvcHRpbWlzdGljLFxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIEFwb2xsb0NhY2hlLnByb3RvdHlwZS5yZWFkRnJhZ21lbnQgPSBmdW5jdGlvbiAob3B0aW9ucywgb3B0aW1pc3RpYykge1xuICAgICAgICBpZiAob3B0aW1pc3RpYyA9PT0gdm9pZCAwKSB7IG9wdGltaXN0aWMgPSBmYWxzZTsgfVxuICAgICAgICByZXR1cm4gdGhpcy5yZWFkKHtcbiAgICAgICAgICAgIHF1ZXJ5OiBnZXRGcmFnbWVudFF1ZXJ5RG9jdW1lbnQob3B0aW9ucy5mcmFnbWVudCwgb3B0aW9ucy5mcmFnbWVudE5hbWUpLFxuICAgICAgICAgICAgdmFyaWFibGVzOiBvcHRpb25zLnZhcmlhYmxlcyxcbiAgICAgICAgICAgIHJvb3RJZDogb3B0aW9ucy5pZCxcbiAgICAgICAgICAgIG9wdGltaXN0aWM6IG9wdGltaXN0aWMsXG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgQXBvbGxvQ2FjaGUucHJvdG90eXBlLndyaXRlUXVlcnkgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICB0aGlzLndyaXRlKHtcbiAgICAgICAgICAgIGRhdGFJZDogJ1JPT1RfUVVFUlknLFxuICAgICAgICAgICAgcmVzdWx0OiBvcHRpb25zLmRhdGEsXG4gICAgICAgICAgICBxdWVyeTogb3B0aW9ucy5xdWVyeSxcbiAgICAgICAgICAgIHZhcmlhYmxlczogb3B0aW9ucy52YXJpYWJsZXMsXG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgQXBvbGxvQ2FjaGUucHJvdG90eXBlLndyaXRlRnJhZ21lbnQgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICB0aGlzLndyaXRlKHtcbiAgICAgICAgICAgIGRhdGFJZDogb3B0aW9ucy5pZCxcbiAgICAgICAgICAgIHJlc3VsdDogb3B0aW9ucy5kYXRhLFxuICAgICAgICAgICAgdmFyaWFibGVzOiBvcHRpb25zLnZhcmlhYmxlcyxcbiAgICAgICAgICAgIHF1ZXJ5OiBnZXRGcmFnbWVudFF1ZXJ5RG9jdW1lbnQob3B0aW9ucy5mcmFnbWVudCwgb3B0aW9ucy5mcmFnbWVudE5hbWUpLFxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIEFwb2xsb0NhY2hlLnByb3RvdHlwZS53cml0ZURhdGEgPSBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgdmFyIGlkID0gX2EuaWQsIGRhdGEgPSBfYS5kYXRhO1xuICAgICAgICBpZiAodHlwZW9mIGlkICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgdmFyIHR5cGVuYW1lUmVzdWx0ID0gbnVsbDtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgdHlwZW5hbWVSZXN1bHQgPSB0aGlzLnJlYWQoe1xuICAgICAgICAgICAgICAgICAgICByb290SWQ6IGlkLFxuICAgICAgICAgICAgICAgICAgICBvcHRpbWlzdGljOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgcXVlcnk6IGp1c3RUeXBlbmFtZVF1ZXJ5LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBfX3R5cGVuYW1lID0gKHR5cGVuYW1lUmVzdWx0ICYmIHR5cGVuYW1lUmVzdWx0Ll9fdHlwZW5hbWUpIHx8ICdfX0NsaWVudERhdGEnO1xuICAgICAgICAgICAgdmFyIGRhdGFUb1dyaXRlID0gT2JqZWN0LmFzc2lnbih7IF9fdHlwZW5hbWU6IF9fdHlwZW5hbWUgfSwgZGF0YSk7XG4gICAgICAgICAgICB0aGlzLndyaXRlRnJhZ21lbnQoe1xuICAgICAgICAgICAgICAgIGlkOiBpZCxcbiAgICAgICAgICAgICAgICBmcmFnbWVudDogZnJhZ21lbnRGcm9tUG9qbyhkYXRhVG9Xcml0ZSwgX190eXBlbmFtZSksXG4gICAgICAgICAgICAgICAgZGF0YTogZGF0YVRvV3JpdGUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMud3JpdGVRdWVyeSh7IHF1ZXJ5OiBxdWVyeUZyb21Qb2pvKGRhdGEpLCBkYXRhOiBkYXRhIH0pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gQXBvbGxvQ2FjaGU7XG59KCkpO1xuXG52YXIgQ2FjaGU7XG4oZnVuY3Rpb24gKENhY2hlKSB7XG59KShDYWNoZSB8fCAoQ2FjaGUgPSB7fSkpO1xuXG5leHBvcnQgeyBBcG9sbG9DYWNoZSwgQ2FjaGUgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJ1bmRsZS5lc20uanMubWFwXG4iLCJ2YXIgc2NvcGUgPSAodHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBnbG9iYWwpIHx8XG4gICAgICAgICAgICAodHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIgJiYgc2VsZikgfHxcbiAgICAgICAgICAgIHdpbmRvdztcbnZhciBhcHBseSA9IEZ1bmN0aW9uLnByb3RvdHlwZS5hcHBseTtcblxuLy8gRE9NIEFQSXMsIGZvciBjb21wbGV0ZW5lc3NcblxuZXhwb3J0cy5zZXRUaW1lb3V0ID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBuZXcgVGltZW91dChhcHBseS5jYWxsKHNldFRpbWVvdXQsIHNjb3BlLCBhcmd1bWVudHMpLCBjbGVhclRpbWVvdXQpO1xufTtcbmV4cG9ydHMuc2V0SW50ZXJ2YWwgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG5ldyBUaW1lb3V0KGFwcGx5LmNhbGwoc2V0SW50ZXJ2YWwsIHNjb3BlLCBhcmd1bWVudHMpLCBjbGVhckludGVydmFsKTtcbn07XG5leHBvcnRzLmNsZWFyVGltZW91dCA9XG5leHBvcnRzLmNsZWFySW50ZXJ2YWwgPSBmdW5jdGlvbih0aW1lb3V0KSB7XG4gIGlmICh0aW1lb3V0KSB7XG4gICAgdGltZW91dC5jbG9zZSgpO1xuICB9XG59O1xuXG5mdW5jdGlvbiBUaW1lb3V0KGlkLCBjbGVhckZuKSB7XG4gIHRoaXMuX2lkID0gaWQ7XG4gIHRoaXMuX2NsZWFyRm4gPSBjbGVhckZuO1xufVxuVGltZW91dC5wcm90b3R5cGUudW5yZWYgPSBUaW1lb3V0LnByb3RvdHlwZS5yZWYgPSBmdW5jdGlvbigpIHt9O1xuVGltZW91dC5wcm90b3R5cGUuY2xvc2UgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5fY2xlYXJGbi5jYWxsKHNjb3BlLCB0aGlzLl9pZCk7XG59O1xuXG4vLyBEb2VzIG5vdCBzdGFydCB0aGUgdGltZSwganVzdCBzZXRzIHVwIHRoZSBtZW1iZXJzIG5lZWRlZC5cbmV4cG9ydHMuZW5yb2xsID0gZnVuY3Rpb24oaXRlbSwgbXNlY3MpIHtcbiAgY2xlYXJUaW1lb3V0KGl0ZW0uX2lkbGVUaW1lb3V0SWQpO1xuICBpdGVtLl9pZGxlVGltZW91dCA9IG1zZWNzO1xufTtcblxuZXhwb3J0cy51bmVucm9sbCA9IGZ1bmN0aW9uKGl0ZW0pIHtcbiAgY2xlYXJUaW1lb3V0KGl0ZW0uX2lkbGVUaW1lb3V0SWQpO1xuICBpdGVtLl9pZGxlVGltZW91dCA9IC0xO1xufTtcblxuZXhwb3J0cy5fdW5yZWZBY3RpdmUgPSBleHBvcnRzLmFjdGl2ZSA9IGZ1bmN0aW9uKGl0ZW0pIHtcbiAgY2xlYXJUaW1lb3V0KGl0ZW0uX2lkbGVUaW1lb3V0SWQpO1xuXG4gIHZhciBtc2VjcyA9IGl0ZW0uX2lkbGVUaW1lb3V0O1xuICBpZiAobXNlY3MgPj0gMCkge1xuICAgIGl0ZW0uX2lkbGVUaW1lb3V0SWQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uIG9uVGltZW91dCgpIHtcbiAgICAgIGlmIChpdGVtLl9vblRpbWVvdXQpXG4gICAgICAgIGl0ZW0uX29uVGltZW91dCgpO1xuICAgIH0sIG1zZWNzKTtcbiAgfVxufTtcblxuLy8gc2V0aW1tZWRpYXRlIGF0dGFjaGVzIGl0c2VsZiB0byB0aGUgZ2xvYmFsIG9iamVjdFxucmVxdWlyZShcInNldGltbWVkaWF0ZVwiKTtcbi8vIE9uIHNvbWUgZXhvdGljIGVudmlyb25tZW50cywgaXQncyBub3QgY2xlYXIgd2hpY2ggb2JqZWN0IGBzZXRpbW1lZGlhdGVgIHdhc1xuLy8gYWJsZSB0byBpbnN0YWxsIG9udG8uICBTZWFyY2ggZWFjaCBwb3NzaWJpbGl0eSBpbiB0aGUgc2FtZSBvcmRlciBhcyB0aGVcbi8vIGBzZXRpbW1lZGlhdGVgIGxpYnJhcnkuXG5leHBvcnRzLnNldEltbWVkaWF0ZSA9ICh0eXBlb2Ygc2VsZiAhPT0gXCJ1bmRlZmluZWRcIiAmJiBzZWxmLnNldEltbWVkaWF0ZSkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgKHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIgJiYgZ2xvYmFsLnNldEltbWVkaWF0ZSkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgKHRoaXMgJiYgdGhpcy5zZXRJbW1lZGlhdGUpO1xuZXhwb3J0cy5jbGVhckltbWVkaWF0ZSA9ICh0eXBlb2Ygc2VsZiAhPT0gXCJ1bmRlZmluZWRcIiAmJiBzZWxmLmNsZWFySW1tZWRpYXRlKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICh0eXBlb2YgZ2xvYmFsICE9PSBcInVuZGVmaW5lZFwiICYmIGdsb2JhbC5jbGVhckltbWVkaWF0ZSkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAodGhpcyAmJiB0aGlzLmNsZWFySW1tZWRpYXRlKTtcbiIsIi8qXHJcbiAgICBEZXByZWNhdGVkIERlY29yYXRvciB2MC4xXHJcbiAgICBodHRwczovL2dpdGh1Yi5jb20vdmlsaWMvZGVwcmVjYXRlZC1kZWNvcmF0b3JcclxuKi9cclxuXCJ1c2Ugc3RyaWN0XCI7XHJcbi8qKiBAaW50ZXJuYWwgKi9cclxuZXhwb3J0cy5vcHRpb25zID0ge1xyXG4gICAgZ2V0V2FybmVyOiB1bmRlZmluZWRcclxufTtcclxuZnVuY3Rpb24gY3JlYXRlV2FybmVyKHR5cGUsIG5hbWUsIGFsdGVybmF0aXZlLCB2ZXJzaW9uLCB1cmwpIHtcclxuICAgIHZhciB3YXJuZWRQb3NpdGlvbnMgPSB7fTtcclxuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIHN0YWNrID0gKG5ldyBFcnJvcigpKS5zdGFjayB8fCAnJztcclxuICAgICAgICB2YXIgYXQgPSAoc3RhY2subWF0Y2goLyg/OlxccythdFxccy4rKXsyfVxccythdFxccyguKykvKSB8fCBbdW5kZWZpbmVkLCAnJ10pWzFdO1xyXG4gICAgICAgIGlmICgvXFwpJC8udGVzdChhdCkpIHtcclxuICAgICAgICAgICAgYXQgPSBhdC5tYXRjaCgvW14oXSsoPz1cXCkkKS8pWzBdO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgYXQgPSBhdC50cmltKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChhdCBpbiB3YXJuZWRQb3NpdGlvbnMpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB3YXJuZWRQb3NpdGlvbnNbYXRdID0gdHJ1ZTtcclxuICAgICAgICB2YXIgbWVzc2FnZTtcclxuICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcclxuICAgICAgICAgICAgY2FzZSAnY2xhc3MnOlxyXG4gICAgICAgICAgICAgICAgbWVzc2FnZSA9ICdDbGFzcyc7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAncHJvcGVydHknOlxyXG4gICAgICAgICAgICAgICAgbWVzc2FnZSA9ICdQcm9wZXJ0eSc7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAnbWV0aG9kJzpcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSAnTWV0aG9kJztcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICdmdW5jdGlvbic6XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlID0gJ0Z1bmN0aW9uJztcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgICBtZXNzYWdlICs9IFwiIGBcIiArIG5hbWUgKyBcImAgaGFzIGJlZW4gZGVwcmVjYXRlZFwiO1xyXG4gICAgICAgIGlmICh2ZXJzaW9uKSB7XHJcbiAgICAgICAgICAgIG1lc3NhZ2UgKz0gXCIgc2luY2UgdmVyc2lvbiBcIiArIHZlcnNpb247XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChhbHRlcm5hdGl2ZSkge1xyXG4gICAgICAgICAgICBtZXNzYWdlICs9IFwiLCB1c2UgYFwiICsgYWx0ZXJuYXRpdmUgKyBcImAgaW5zdGVhZFwiO1xyXG4gICAgICAgIH1cclxuICAgICAgICBtZXNzYWdlICs9ICcuJztcclxuICAgICAgICBpZiAoYXQpIHtcclxuICAgICAgICAgICAgbWVzc2FnZSArPSBcIlxcbiAgICBhdCBcIiArIGF0O1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodXJsKSB7XHJcbiAgICAgICAgICAgIG1lc3NhZ2UgKz0gXCJcXG5DaGVjayBvdXQgXCIgKyB1cmwgKyBcIiBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cIjtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc29sZS53YXJuKG1lc3NhZ2UpO1xyXG4gICAgfTtcclxufVxyXG5mdW5jdGlvbiBkZWNvcmF0ZVByb3BlcnR5KHR5cGUsIG5hbWUsIGRlc2NyaXB0b3IsIGFsdGVybmF0aXZlLCB2ZXJzaW9uLCB1cmwpIHtcclxuICAgIHZhciB3YXJuZXIgPSAoZXhwb3J0cy5vcHRpb25zLmdldFdhcm5lciB8fCBjcmVhdGVXYXJuZXIpKHR5cGUsIG5hbWUsIGFsdGVybmF0aXZlLCB2ZXJzaW9uLCB1cmwpO1xyXG4gICAgZGVzY3JpcHRvciA9IGRlc2NyaXB0b3IgfHwge1xyXG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgfTtcclxuICAgIHZhciBkZXByZWNhdGVkRGVzY3JpcHRvciA9IHtcclxuICAgICAgICBlbnVtZXJhYmxlOiBkZXNjcmlwdG9yLmVudW1lcmFibGUsXHJcbiAgICAgICAgY29uZmlndXJhYmxlOiBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZVxyXG4gICAgfTtcclxuICAgIGlmIChkZXNjcmlwdG9yLmdldCB8fCBkZXNjcmlwdG9yLnNldCkge1xyXG4gICAgICAgIGlmIChkZXNjcmlwdG9yLmdldCkge1xyXG4gICAgICAgICAgICBkZXByZWNhdGVkRGVzY3JpcHRvci5nZXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB3YXJuZXIoKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBkZXNjcmlwdG9yLmdldC5jYWxsKHRoaXMpO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoZGVzY3JpcHRvci5zZXQpIHtcclxuICAgICAgICAgICAgZGVwcmVjYXRlZERlc2NyaXB0b3Iuc2V0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICB3YXJuZXIoKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBkZXNjcmlwdG9yLnNldC5jYWxsKHRoaXMsIHZhbHVlKTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICB2YXIgcHJvcGVydHlWYWx1ZV8xID0gZGVzY3JpcHRvci52YWx1ZTtcclxuICAgICAgICBkZXByZWNhdGVkRGVzY3JpcHRvci5nZXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHdhcm5lcigpO1xyXG4gICAgICAgICAgICByZXR1cm4gcHJvcGVydHlWYWx1ZV8xO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgaWYgKGRlc2NyaXB0b3Iud3JpdGFibGUpIHtcclxuICAgICAgICAgICAgZGVwcmVjYXRlZERlc2NyaXB0b3Iuc2V0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICB3YXJuZXIoKTtcclxuICAgICAgICAgICAgICAgIHByb3BlcnR5VmFsdWVfMSA9IHZhbHVlO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBkZXByZWNhdGVkRGVzY3JpcHRvcjtcclxufVxyXG5mdW5jdGlvbiBkZWNvcmF0ZUZ1bmN0aW9uKHR5cGUsIHRhcmdldCwgYWx0ZXJuYXRpdmUsIHZlcnNpb24sIHVybCkge1xyXG4gICAgdmFyIG5hbWUgPSB0YXJnZXQubmFtZTtcclxuICAgIHZhciB3YXJuZXIgPSAoZXhwb3J0cy5vcHRpb25zLmdldFdhcm5lciB8fCBjcmVhdGVXYXJuZXIpKHR5cGUsIG5hbWUsIGFsdGVybmF0aXZlLCB2ZXJzaW9uLCB1cmwpO1xyXG4gICAgdmFyIGZuID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHdhcm5lcigpO1xyXG4gICAgICAgIHJldHVybiB0YXJnZXQuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxuICAgIH07XHJcbiAgICBmb3IgKHZhciBfaSA9IDAsIF9hID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModGFyZ2V0KTsgX2kgPCBfYS5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICB2YXIgcHJvcGVydHlOYW1lID0gX2FbX2ldO1xyXG4gICAgICAgIHZhciBkZXNjcmlwdG9yID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIHByb3BlcnR5TmFtZSk7XHJcbiAgICAgICAgaWYgKGRlc2NyaXB0b3Iud3JpdGFibGUpIHtcclxuICAgICAgICAgICAgZm5bcHJvcGVydHlOYW1lXSA9IHRhcmdldFtwcm9wZXJ0eU5hbWVdO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSkge1xyXG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZm4sIHByb3BlcnR5TmFtZSwgZGVzY3JpcHRvcik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZuO1xyXG59XHJcbmZ1bmN0aW9uIGRlcHJlY2F0ZWQoKSB7XHJcbiAgICB2YXIgYXJncyA9IFtdO1xyXG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICBhcmdzW19pIC0gMF0gPSBhcmd1bWVudHNbX2ldO1xyXG4gICAgfVxyXG4gICAgdmFyIGZuID0gYXJnc1thcmdzLmxlbmd0aCAtIDFdO1xyXG4gICAgaWYgKHR5cGVvZiBmbiA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgIGZuID0gYXJncy5wb3AoKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGZuID0gdW5kZWZpbmVkO1xyXG4gICAgfVxyXG4gICAgdmFyIG9wdGlvbnMgPSBhcmdzWzBdO1xyXG4gICAgdmFyIGFsdGVybmF0aXZlO1xyXG4gICAgdmFyIHZlcnNpb247XHJcbiAgICB2YXIgdXJsO1xyXG4gICAgaWYgKHR5cGVvZiBvcHRpb25zID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgIGFsdGVybmF0aXZlID0gb3B0aW9ucztcclxuICAgICAgICB2ZXJzaW9uID0gYXJnc1sxXTtcclxuICAgICAgICB1cmwgPSBhcmdzWzJdO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAob3B0aW9ucykge1xyXG4gICAgICAgIChhbHRlcm5hdGl2ZSA9IG9wdGlvbnMuYWx0ZXJuYXRpdmUsIHZlcnNpb24gPSBvcHRpb25zLnZlcnNpb24sIHVybCA9IG9wdGlvbnMudXJsLCBvcHRpb25zKTtcclxuICAgIH1cclxuICAgIGlmIChmbikge1xyXG4gICAgICAgIHJldHVybiBkZWNvcmF0ZUZ1bmN0aW9uKCdmdW5jdGlvbicsIGZuLCBhbHRlcm5hdGl2ZSwgdmVyc2lvbiwgdXJsKTtcclxuICAgIH1cclxuICAgIHJldHVybiBmdW5jdGlvbiAodGFyZ2V0LCBuYW1lLCBkZXNjcmlwdG9yKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBuYW1lID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgICB2YXIgdHlwZSA9IGRlc2NyaXB0b3IgJiYgdHlwZW9mIGRlc2NyaXB0b3IudmFsdWUgPT09ICdmdW5jdGlvbicgP1xyXG4gICAgICAgICAgICAgICAgJ21ldGhvZCcgOiAncHJvcGVydHknO1xyXG4gICAgICAgICAgICByZXR1cm4gZGVjb3JhdGVQcm9wZXJ0eSh0eXBlLCBuYW1lLCBkZXNjcmlwdG9yLCBhbHRlcm5hdGl2ZSwgdmVyc2lvbiwgdXJsKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIHRhcmdldCA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICB2YXIgY29uc3RydWN0b3IgPSBkZWNvcmF0ZUZ1bmN0aW9uKCdjbGFzcycsIHRhcmdldCwgYWx0ZXJuYXRpdmUsIHZlcnNpb24sIHVybCk7XHJcbiAgICAgICAgICAgIHZhciBjbGFzc05hbWUgPSB0YXJnZXQubmFtZTtcclxuICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBfYSA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGNvbnN0cnVjdG9yKTsgX2kgPCBfYS5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICAgICAgICAgIHZhciBwcm9wZXJ0eU5hbWUgPSBfYVtfaV07XHJcbiAgICAgICAgICAgICAgICB2YXIgZGVzY3JpcHRvcl8xID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihjb25zdHJ1Y3RvciwgcHJvcGVydHlOYW1lKTtcclxuICAgICAgICAgICAgICAgIGRlc2NyaXB0b3JfMSA9IGRlY29yYXRlUHJvcGVydHkoJ2NsYXNzJywgY2xhc3NOYW1lLCBkZXNjcmlwdG9yXzEsIGFsdGVybmF0aXZlLCB2ZXJzaW9uLCB1cmwpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGRlc2NyaXB0b3JfMS53cml0YWJsZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0cnVjdG9yW3Byb3BlcnR5TmFtZV0gPSB0YXJnZXRbcHJvcGVydHlOYW1lXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGRlc2NyaXB0b3JfMS5jb25maWd1cmFibGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY29uc3RydWN0b3IsIHByb3BlcnR5TmFtZSwgZGVzY3JpcHRvcl8xKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gY29uc3RydWN0b3I7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxufVxyXG5leHBvcnRzLmRlcHJlY2F0ZWQgPSBkZXByZWNhdGVkO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbmV4cG9ydHMuZGVmYXVsdCA9IGRlcHJlY2F0ZWQ7XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCIsInZhciB2MSA9IHJlcXVpcmUoJy4vdjEnKTtcbnZhciB2NCA9IHJlcXVpcmUoJy4vdjQnKTtcblxudmFyIHV1aWQgPSB2NDtcbnV1aWQudjEgPSB2MTtcbnV1aWQudjQgPSB2NDtcblxubW9kdWxlLmV4cG9ydHMgPSB1dWlkO1xuIiwiLyoqXG4gKiAyMDA3LTIwMjAgUHJlc3RhU2hvcCBhbmQgQ29udHJpYnV0b3JzXG4gKlxuICogTk9USUNFIE9GIExJQ0VOU0VcbiAqXG4gKiBUaGlzIHNvdXJjZSBmaWxlIGlzIHN1YmplY3QgdG8gdGhlIEFjYWRlbWljIEZyZWUgTGljZW5zZSAzLjAgKEFGTC0zLjApXG4gKiB0aGF0IGlzIGJ1bmRsZWQgd2l0aCB0aGlzIHBhY2thZ2UgaW4gdGhlIGZpbGUgTElDRU5TRS50eHQuXG4gKiBJdCBpcyBhbHNvIGF2YWlsYWJsZSB0aHJvdWdoIHRoZSB3b3JsZC13aWRlLXdlYiBhdCB0aGlzIFVSTDpcbiAqIGh0dHBzOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvQUZMLTMuMFxuICogSWYgeW91IGRpZCBub3QgcmVjZWl2ZSBhIGNvcHkgb2YgdGhlIGxpY2Vuc2UgYW5kIGFyZSB1bmFibGUgdG9cbiAqIG9idGFpbiBpdCB0aHJvdWdoIHRoZSB3b3JsZC13aWRlLXdlYiwgcGxlYXNlIHNlbmQgYW4gZW1haWxcbiAqIHRvIGxpY2Vuc2VAcHJlc3Rhc2hvcC5jb20gc28gd2UgY2FuIHNlbmQgeW91IGEgY29weSBpbW1lZGlhdGVseS5cbiAqXG4gKiBAYXV0aG9yICAgIFByZXN0YVNob3AgU0EgPGNvbnRhY3RAcHJlc3Rhc2hvcC5jb20+XG4gKiBAY29weXJpZ2h0IDIwMDctMjAyMCBQcmVzdGFTaG9wIFNBIGFuZCBDb250cmlidXRvcnNcbiAqIEBsaWNlbnNlICAgaHR0cHM6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9BRkwtMy4wIEFjYWRlbWljIEZyZWUgTGljZW5zZSAzLjAgKEFGTC0zLjApXG4gKiBJbnRlcm5hdGlvbmFsIFJlZ2lzdGVyZWQgVHJhZGVtYXJrICYgUHJvcGVydHkgb2YgUHJlc3RhU2hvcCBTQVxuICovXG5pbXBvcnQgaW5pdEFwcCBmcm9tICdAY29tcG9uZW50cy9pbml0JztcbmltcG9ydCBDcmVhdGUgZnJvbSAnLi9DcmVhdGUnO1xuXG5jb25zdCBwcm9wcyA9IFtcbiAge1xuICAgIG5hbWU6ICd1cmwnLFxuICAgIHR5cGU6IFN0cmluZyxcbiAgfSxcbiAge1xuICAgIG5hbWU6ICd0aXRsZScsXG4gICAgdHlwZTogU3RyaW5nLFxuICB9LFxuICB7XG4gICAgbmFtZTogJ2xhYmVsJyxcbiAgICB0eXBlOiBTdHJpbmcsXG4gIH0sXG4gIHtcbiAgICBuYW1lOiAncHJvZHVjdElkJyxcbiAgICB0eXBlOiBOdW1iZXIsXG4gIH0sXG4gIHtcbiAgICBuYW1lOiAncGxhY2Vob2xkZXInLFxuICAgIHR5cGU6IFN0cmluZyxcbiAgfSxcbiAge1xuICAgIG5hbWU6ICdjYW5jZWxUZXh0JyxcbiAgICB0eXBlOiBTdHJpbmcsXG4gIH0sXG4gIHtcbiAgICBuYW1lOiAnbGVuZ3RoVGV4dCcsXG4gICAgdHlwZTogU3RyaW5nLFxuICB9LFxuICB7XG4gICAgbmFtZTogJ2NyZWF0ZVRleHQnLFxuICAgIHR5cGU6IFN0cmluZyxcbiAgfSxcbl07XG5cbmluaXRBcHAoQ3JlYXRlLCAnLndpc2hsaXN0LWNyZWF0ZScsIHByb3BzKTtcbiIsInZhciByZW5kZXIsIHN0YXRpY1JlbmRlckZuc1xuaW1wb3J0IHNjcmlwdCBmcm9tIFwiLi9DcmVhdGUudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJlwiXG5leHBvcnQgKiBmcm9tIFwiLi9DcmVhdGUudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJlwiXG5pbXBvcnQgc3R5bGUwIGZyb20gXCIuL0NyZWF0ZS52dWU/dnVlJnR5cGU9c3R5bGUmaW5kZXg9MCZsYW5nPXNjc3MmXCJcblxuXG4vKiBub3JtYWxpemUgY29tcG9uZW50ICovXG5pbXBvcnQgbm9ybWFsaXplciBmcm9tIFwiIS4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9ydW50aW1lL2NvbXBvbmVudE5vcm1hbGl6ZXIuanNcIlxudmFyIGNvbXBvbmVudCA9IG5vcm1hbGl6ZXIoXG4gIHNjcmlwdCxcbiAgcmVuZGVyLFxuICBzdGF0aWNSZW5kZXJGbnMsXG4gIGZhbHNlLFxuICBudWxsLFxuICBudWxsLFxuICBudWxsXG4gIFxuKVxuXG4vKiBob3QgcmVsb2FkICovXG5pZiAobW9kdWxlLmhvdCkge1xuICB2YXIgYXBpID0gcmVxdWlyZShcIkM6XFxcXHdhbXA2NFxcXFx3d3dcXFxcVGVzdE5ld1RoZW1lXFxcXG1vZHVsZXNcXFxcYmxvY2t3aXNobGlzdFxcXFxub2RlX21vZHVsZXNcXFxcdnVlLWhvdC1yZWxvYWQtYXBpXFxcXGRpc3RcXFxcaW5kZXguanNcIilcbiAgYXBpLmluc3RhbGwocmVxdWlyZSgndnVlJykpXG4gIGlmIChhcGkuY29tcGF0aWJsZSkge1xuICAgIG1vZHVsZS5ob3QuYWNjZXB0KClcbiAgICBpZiAoIWFwaS5pc1JlY29yZGVkKCc5MzliM2QyYScpKSB7XG4gICAgICBhcGkuY3JlYXRlUmVjb3JkKCc5MzliM2QyYScsIGNvbXBvbmVudC5vcHRpb25zKVxuICAgIH0gZWxzZSB7XG4gICAgICBhcGkucmVsb2FkKCc5MzliM2QyYScsIGNvbXBvbmVudC5vcHRpb25zKVxuICAgIH1cbiAgICBcbiAgfVxufVxuY29tcG9uZW50Lm9wdGlvbnMuX19maWxlID0gXCJfZGV2L2Zyb250L2pzL2NvbXBvbmVudHMvQ3JlYXRlL0NyZWF0ZS52dWVcIlxuZXhwb3J0IGRlZmF1bHQgY29tcG9uZW50LmV4cG9ydHMiLCIvKipcbiAqIDIwMDctMjAyMCBQcmVzdGFTaG9wIGFuZCBDb250cmlidXRvcnNcbiAqXG4gKiBOT1RJQ0UgT0YgTElDRU5TRVxuICpcbiAqIFRoaXMgc291cmNlIGZpbGUgaXMgc3ViamVjdCB0byB0aGUgQWNhZGVtaWMgRnJlZSBMaWNlbnNlIDMuMCAoQUZMLTMuMClcbiAqIHRoYXQgaXMgYnVuZGxlZCB3aXRoIHRoaXMgcGFja2FnZSBpbiB0aGUgZmlsZSBMSUNFTlNFLnR4dC5cbiAqIEl0IGlzIGFsc28gYXZhaWxhYmxlIHRocm91Z2ggdGhlIHdvcmxkLXdpZGUtd2ViIGF0IHRoaXMgVVJMOlxuICogaHR0cHM6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9BRkwtMy4wXG4gKiBJZiB5b3UgZGlkIG5vdCByZWNlaXZlIGEgY29weSBvZiB0aGUgbGljZW5zZSBhbmQgYXJlIHVuYWJsZSB0b1xuICogb2J0YWluIGl0IHRocm91Z2ggdGhlIHdvcmxkLXdpZGUtd2ViLCBwbGVhc2Ugc2VuZCBhbiBlbWFpbFxuICogdG8gbGljZW5zZUBwcmVzdGFzaG9wLmNvbSBzbyB3ZSBjYW4gc2VuZCB5b3UgYSBjb3B5IGltbWVkaWF0ZWx5LlxuICpcbiAqIEBhdXRob3IgICAgUHJlc3RhU2hvcCBTQSA8Y29udGFjdEBwcmVzdGFzaG9wLmNvbT5cbiAqIEBjb3B5cmlnaHQgMjAwNy0yMDIwIFByZXN0YVNob3AgU0EgYW5kIENvbnRyaWJ1dG9yc1xuICogQGxpY2Vuc2UgICBodHRwczovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL0FGTC0zLjAgQWNhZGVtaWMgRnJlZSBMaWNlbnNlIDMuMCAoQUZMLTMuMClcbiAqIEludGVybmF0aW9uYWwgUmVnaXN0ZXJlZCBUcmFkZW1hcmsgJiBQcm9wZXJ0eSBvZiBQcmVzdGFTaG9wIFNBXG4gKi9cblxuaW1wb3J0IGdxbCBmcm9tICdncmFwaHFsLXRhZyc7XG5cbmV4cG9ydCBkZWZhdWx0IGdxbGBcbiAgbXV0YXRpb24gY3JlYXRlTGlzdCgkbmFtZTogU3RyaW5nISwgJHVybDogU3RyaW5nISkge1xuICAgIGNyZWF0ZUxpc3QobmFtZTogJG5hbWUsIHVybDogJHVybCkge1xuICAgICAgbWVzc2FnZVxuICAgICAgZGF0YXMge1xuICAgICAgICBuYW1lXG4gICAgICAgIGlkX3dpc2hsaXN0XG4gICAgICB9XG4gICAgICBzdWNjZXNzXG4gICAgfVxuICB9XG5gO1xuIiwiZXhwb3J0ICogZnJvbSBcIi0hLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1zdHlsZS1sb2FkZXIvaW5kZXguanMhLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2xvYWRlcnMvc3R5bGVQb3N0TG9hZGVyLmpzIS4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9kaXN0L2Nqcy5qcyEuLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL0NyZWF0ZS52dWU/dnVlJnR5cGU9c3R5bGUmaW5kZXg9MCZsYW5nPXNjc3MmXCIiLCIvLyBJbXBvcnRzXG52YXIgX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fID0gcmVxdWlyZShcIi4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanNcIik7XG5leHBvcnRzID0gX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fKGZhbHNlKTtcbi8vIE1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiLndpc2hsaXN0LWNyZWF0ZSAud2lzaGxpc3QtbW9kYWx7b3BhY2l0eTowO3BvaW50ZXItZXZlbnRzOm5vbmU7ei1pbmRleDowfS53aXNobGlzdC1jcmVhdGUgLndpc2hsaXN0LW1vZGFsLnNob3d7b3BhY2l0eToxO3BvaW50ZXItZXZlbnRzOmFsbDt6LWluZGV4OjEwNTN9XFxuXCIsIFwiXCJdKTtcbi8vIEV4cG9ydHNcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0cztcbiJdLCJzb3VyY2VSb290IjoiIn0=