window.button=function(t){function e(e){for(var r,u,a=e[0],s=e[1],c=e[2],f=0,d=[];f<a.length;f++)u=a[f],Object.prototype.hasOwnProperty.call(o,u)&&o[u]&&d.push(o[u][0]),o[u]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(t[r]=s[r]);for(l&&l(e);d.length;)d.shift()();return i.push.apply(i,c||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],r=!0,a=1;a<n.length;a++){var s=n[a];0!==o[s]&&(r=!1)}r&&(i.splice(e--,1),t=u(u.s=n[0]))}return t}var r={},o={4:0},i=[];function u(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,u),n.l=!0,n.exports}u.m=t,u.c=r,u.d=function(t,e,n){u.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},u.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},u.t=function(t,e){if(1&e&&(t=u(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(u.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)u.d(n,r,function(e){return t[e]}.bind(null,r));return n},u.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return u.d(e,"a",e),e},u.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},u.p="";var a=window.webpackJsonp_name_=window.webpackJsonp_name_||[],s=a.push.bind(a);a.push=e,a=a.slice();for(var c=0;c<a.length;c++)e(a[c]);var l=s;return i.push([309,0,1]),n()}({0:function(t,e,n){"use strict";n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return u})),n.d(e,"d",(function(){return a})),n.d(e,"e",(function(){return s}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function o(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var i=function(){return(i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function u(t,e,n,r){return new(n||(n=Promise))((function(o,i){function u(t){try{s(r.next(t))}catch(t){i(t)}}function a(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(u,a)}s((r=r.apply(t,e||[])).next())}))}function a(t,e){var n,r,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;u;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,r=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!(o=u.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=e.call(t,u)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}function s(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),o=0;for(e=0;e<n;e++)for(var i=arguments[e],u=0,a=i.length;u<a;u++,o++)r[o]=i[u];return r}},10:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(35)),o=i(n(30));function i(t){return t&&t.__esModule?t:{default:t}}
/**
 * 2007-2020 PrestaShop and Contributors
 *
 * NOTICE OF LICENSE
 *
 * This source file is subject to the Academic Free License 3.0 (AFL-3.0)
 * that is bundled with this package in the file LICENSE.txt.
 * It is also available through the world-wide-web at this URL:
 * https://opensource.org/licenses/AFL-3.0
 * If you did not receive a copy of the license and are unable to
 * obtain it through the world-wide-web, please send an email
 * to license@prestashop.com so we can send you a copy immediately.
 *
 * @author    PrestaShop SA <contact@prestashop.com>
 * @copyright 2007-2020 PrestaShop SA and Contributors
 * @license   https://opensource.org/licenses/AFL-3.0 Academic Free License 3.0 (AFL-3.0)
 * International Registered Trademark & Property of PrestaShop SA
 */var u=new r.default;window.WishlistEventBus=u,o.default.emit("wishlistEventBusInit"),e.default=u},101:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=(0,i(n(21)).default)(["\n  mutation removeFromList($listId: Int!, $productId: Int!, $productAttributeId: Int!, $url: String!) {\n    removeFromList(listId: $listId, productId: $productId, productAttributeId: $productAttributeId, url: $url) {\n      success\n      message\n    }\n  }\n"],["\n  mutation removeFromList($listId: Int!, $productId: Int!, $productAttributeId: Int!, $url: String!) {\n    removeFromList(listId: $listId, productId: $productId, productAttributeId: $productAttributeId, url: $url) {\n      success\n      message\n    }\n  }\n"]),o=i(n(23));function i(t){return t&&t.__esModule?t:{default:t}}e.default=(0,o.default)(r)},105:function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return o}));var r=function(){var t=this.$createElement,e=this._self._c||t;return e("div",[this.test?e("button",{staticClass:"wishlist-button-add",class:{"wishlist-button-product":this.isProduct},on:{click:this.addToWishlist}},[this.isChecked?e("i",{staticClass:"material-icons"},[this._v("favorite ")]):e("i",{staticClass:"material-icons"},[this._v("favorite_border")])]):this._e()])},o=[];r._withStripped=!0},12:function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},131:function(t,e,n){var r=n(208);r.__esModule&&(r=r.default),"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);(0,n(17).default)("0e4dc420",r,!1,{})},14:function(t,e,n){t.exports=n(31)},146:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(19)),o=i(n(206));function i(t){return t&&t.__esModule?t:{default:t}}
/**
 * 2007-2020 PrestaShop and Contributors
 *
 * NOTICE OF LICENSE
 *
 * This source file is subject to the Academic Free License 3.0 (AFL-3.0)
 * that is bundled with this package in the file LICENSE.txt.
 * It is also available through the world-wide-web at this URL:
 * https://opensource.org/licenses/AFL-3.0
 * If you did not receive a copy of the license and are unable to
 * obtain it through the world-wide-web, please send an email
 * to license@prestashop.com so we can send you a copy immediately.
 *
 * @author    PrestaShop SA <contact@prestashop.com>
 * @copyright 2007-2020 PrestaShop SA and Contributors
 * @license   https://opensource.org/licenses/AFL-3.0 Academic Free License 3.0 (AFL-3.0)
 * International Registered Trademark & Property of PrestaShop SA
 */var u=function(){var t=[{name:"url",type:String},{name:"checked",type:Boolean},{name:"productId",type:Number},{name:"productAttributeId",type:Number},{name:"isProduct",type:Boolean}];(0,r.default)(o.default,".wishlist-button",t)};u(),e.default=u},15:function(t,e,n){"use strict";e.__esModule=!0;var r,o=n(33),i=(r=o)&&r.__esModule?r:{default:r};e.default=function(t){return function(){var e=t.apply(this,arguments);return new i.default((function(t,n){return function r(o,u){try{var a=e[o](u),s=a.value}catch(t){return void n(t)}if(!a.done)return i.default.resolve(s).then((function(t){r("next",t)}),(function(t){r("throw",t)}));t(s)}("next")}))}}},16:function(t,e,n){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=function(t,e){var n=t[1]||"",r=t[3];if(!r)return n;if(e&&"function"==typeof btoa){var o=(u=r,a=btoa(unescape(encodeURIComponent(JSON.stringify(u)))),s="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(a),"/*# ".concat(s," */")),i=r.sources.map((function(t){return"/*# sourceURL=".concat(r.sourceRoot||"").concat(t," */")}));return[n].concat(i).concat([o]).join("\n")}var u,a,s;return[n].join("\n")}(e,t);return e[2]?"@media ".concat(e[2]," {").concat(n,"}"):n})).join("")},e.i=function(t,n,r){"string"==typeof t&&(t=[[null,t,""]]);var o={};if(r)for(var i=0;i<this.length;i++){var u=this[i][0];null!=u&&(o[u]=!0)}for(var a=0;a<t.length;a++){var s=[].concat(t[a]);r&&o[s[0]]||(n&&(s[2]?s[2]="".concat(n," and ").concat(s[2]):s[2]=n),e.push(s))}},e}},17:function(t,e,n){"use strict";function r(t,e){for(var n=[],r={},o=0;o<e.length;o++){var i=e[o],u=i[0],a={id:t+":"+o,css:i[1],media:i[2],sourceMap:i[3]};r[u]?r[u].parts.push(a):n.push(r[u]={id:u,parts:[a]})}return n}n.r(e),n.d(e,"default",(function(){return p}));var o="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!o)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var i={},u=o&&(document.head||document.getElementsByTagName("head")[0]),a=null,s=0,c=!1,l=function(){},f=null,d="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function p(t,e,n,o){c=n,f=o||{};var u=r(t,e);return h(u),function(e){for(var n=[],o=0;o<u.length;o++){var a=u[o];(s=i[a.id]).refs--,n.push(s)}e?h(u=r(t,e)):u=[];for(o=0;o<n.length;o++){var s;if(0===(s=n[o]).refs){for(var c=0;c<s.parts.length;c++)s.parts[c]();delete i[s.id]}}}}function h(t){for(var e=0;e<t.length;e++){var n=t[e],r=i[n.id];if(r){r.refs++;for(var o=0;o<r.parts.length;o++)r.parts[o](n.parts[o]);for(;o<n.parts.length;o++)r.parts.push(y(n.parts[o]));r.parts.length>n.parts.length&&(r.parts.length=n.parts.length)}else{var u=[];for(o=0;o<n.parts.length;o++)u.push(y(n.parts[o]));i[n.id]={id:n.id,refs:1,parts:u}}}}function v(){var t=document.createElement("style");return t.type="text/css",u.appendChild(t),t}function y(t){var e,n,r=document.querySelector('style[data-vue-ssr-id~="'+t.id+'"]');if(r){if(c)return l;r.parentNode.removeChild(r)}if(d){var o=s++;r=a||(a=v()),e=g.bind(null,r,o,!1),n=g.bind(null,r,o,!0)}else r=v(),e=w.bind(null,r),n=function(){r.parentNode.removeChild(r)};return e(t),function(r){if(r){if(r.css===t.css&&r.media===t.media&&r.sourceMap===t.sourceMap)return;e(t=r)}else n()}}var m,b=(m=[],function(t,e){return m[t]=e,m.filter(Boolean).join("\n")});function g(t,e,n,r){var o=n?"":r.css;if(t.styleSheet)t.styleSheet.cssText=b(e,o);else{var i=document.createTextNode(o),u=t.childNodes;u[e]&&t.removeChild(u[e]),u.length?t.insertBefore(i,u[e]):t.appendChild(i)}}function w(t,e){var n=e.css,r=e.media,o=e.sourceMap;if(r&&t.setAttribute("media",r),f.ssrId&&t.setAttribute("data-vue-ssr-id",e.id),o&&(n+="\n/*# sourceURL="+o.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */"),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}},19:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a(n(42));e.default=function(t,e,n){o.default.use(i.default);var a=new i.default({defaultClient:u.default}),s=document.querySelectorAll(e),c=o.default.extend(t),l={};s.forEach((function(t){var e=!0,o=!1,i=void 0;try{for(var u,s=(0,r.default)(n);!(e=(u=s.next()).done);e=!0){var f=u.value;t.dataset[f.name]&&(f.type===Number?l[f.name]=parseInt(t.dataset[f.name],10):f.type===Boolean?l[f.name]="true"===t.dataset[f.name]:l[f.name]=t.dataset[f.name])}}catch(t){o=!0,i=t}finally{try{!e&&s.return&&s.return()}finally{if(o)throw i}}new c({el:t,delimiters:["((","))"],apolloProvider:a,propsData:l})}))}
/**
   * 2007-2020 PrestaShop and Contributors
   *
   * NOTICE OF LICENSE
   *
   * This source file is subject to the Academic Free License 3.0 (AFL-3.0)
   * that is bundled with this package in the file LICENSE.txt.
   * It is also available through the world-wide-web at this URL:
   * https://opensource.org/licenses/AFL-3.0
   * If you did not receive a copy of the license and are unable to
   * obtain it through the world-wide-web, please send an email
   * to license@prestashop.com so we can send you a copy immediately.
   *
   * @author    PrestaShop SA <contact@prestashop.com>
   * @copyright 2007-2020 PrestaShop SA and Contributors
   * @license   https://opensource.org/licenses/AFL-3.0 Academic Free License 3.0 (AFL-3.0)
   * International Registered Trademark & Property of PrestaShop SA
   */;var o=a(n(35)),i=a(n(91)),u=a(n(44));function a(t){return t&&t.__esModule?t:{default:t}}},20:function(t,e,n){"use strict";var r=n(27),o=n.n(r).a;e.a=o},206:function(t,e,n){"use strict";n.r(e);var r=n(105),o=n(69);for(var i in o)["default"].indexOf(i)<0&&function(t){n.d(e,t,(function(){return o[t]}))}(i);n(207);var u=n(4),a=Object(u.a)(o.default,r.a,r.b,!1,null,null,null);a.options.__file="_dev/front/js/components/Button/Button.vue",e.default=a.exports},207:function(t,e,n){"use strict";n(131)},208:function(t,e,n){(e=n(16)(!1)).push([t.i,".wishlist-button-product{margin-left:1.25rem}.wishlist-button-add{display:flex;align-items:center;justify-content:center;height:2.5rem;width:2.5rem;min-width:2.5rem;padding-top:0.1875rem;background-color:#ffffff;box-shadow:0.125rem -0.125rem 0.25rem 0 rgba(0,0,0,0.2);border-radius:50%;cursor:pointer;transition:0.2s ease-out;border:none}.wishlist-button-add:hover{opacity:0.7}.wishlist-button-add:focus{outline:0}.wishlist-button-add:active{transform:scale(1.2)}.wishlist-button-add i{color:#7a7a7a}\n",""]),t.exports=e},21:function(t,e,n){"use strict";e.__esModule=!0;var r=i(n(56)),o=i(n(57));function i(t){return t&&t.__esModule?t:{default:t}}e.default=function(t,e){return(0,o.default)((0,r.default)(t,{raw:{value:(0,o.default)(e)}}))}},22:function(t,e){var n,r,o=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function u(){throw new Error("clearTimeout has not been defined")}function a(t){if(n===setTimeout)return setTimeout(t,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(t){n=i}try{r="function"==typeof clearTimeout?clearTimeout:u}catch(t){r=u}}();var s,c=[],l=!1,f=-1;function d(){l&&s&&(l=!1,s.length?c=s.concat(c):f=-1,c.length&&p())}function p(){if(!l){var t=a(d);l=!0;for(var e=c.length;e;){for(s=c,c=[];++f<e;)s&&s[f].run();f=-1,e=c.length}s=null,l=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===u||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function h(t,e){this.fun=t,this.array=e}function v(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new h(t,e)),1!==c.length||l||a(p)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=v,o.addListener=v,o.once=v,o.off=v,o.removeListener=v,o.removeAllListeners=v,o.emit=v,o.prependListener=v,o.prependOnceListener=v,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},24:function(t,e){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var r=new Uint8Array(16);t.exports=function(){return n(r),r}}else{var o=new Array(16);t.exports=function(){for(var t,e=0;e<16;e++)0==(3&e)&&(t=4294967296*Math.random()),o[e]=t>>>((3&e)<<3)&255;return o}}},25:function(t,e){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);t.exports=function(t,e){var r=e||0,o=n;return[o[t[r++]],o[t[r++]],o[t[r++]],o[t[r++]],"-",o[t[r++]],o[t[r++]],"-",o[t[r++]],o[t[r++]],"-",o[t[r++]],o[t[r++]],"-",o[t[r++]],o[t[r++]],o[t[r++]],o[t[r++]],o[t[r++]],o[t[r++]]].join("")}},26:function(t,e,n){"use strict";function r(t){var e,n=t.Symbol;return"function"==typeof n?n.observable?e=n.observable:(e=n("observable"),n.observable=e):e="@@observable",e}n.d(e,"a",(function(){return r}))},27:function(t,e,n){t.exports=n(46).Observable},29:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=Object.prototype,o=r.toString,i=r.hasOwnProperty,u=new Map;function a(t,e){try{return function t(e,n){if(e===n)return!0;var r=o.call(e),u=o.call(n);if(r!==u)return!1;switch(r){case"[object Array]":if(e.length!==n.length)return!1;case"[object Object]":if(s(e,n))return!0;var a=Object.keys(e),c=Object.keys(n),l=a.length;if(l!==c.length)return!1;for(var f=0;f<l;++f)if(!i.call(n,a[f]))return!1;for(f=0;f<l;++f){var d=a[f];if(!t(e[d],n[d]))return!1}return!0;case"[object Error]":return e.name===n.name&&e.message===n.message;case"[object Number]":if(e!=e)return n!=n;case"[object Boolean]":case"[object Date]":return+e==+n;case"[object RegExp]":case"[object String]":return e==""+n;case"[object Map]":case"[object Set]":if(e.size!==n.size)return!1;if(s(e,n))return!0;for(var p=e.entries(),h="[object Map]"===r;;){var v=p.next();if(v.done)break;var y=v.value,m=y[0],b=y[1];if(!n.has(m))return!1;if(h&&!t(b,n.get(m)))return!1}return!0}return!1}(t,e)}finally{u.clear()}}function s(t,e){var n=u.get(t);if(n){if(n.has(e))return!0}else u.set(t,n=new Set);return n.add(e),!1}},3:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return u})),n.d(e,"b",(function(){return a}));var r=n(0),o=Object.setPrototypeOf,i=void 0===o?function(t,e){return t.__proto__=e,t}:o,u=function(t){function e(n){void 0===n&&(n="Invariant Violation");var r=t.call(this,"number"==typeof n?"Invariant Violation: "+n+" (see https://github.com/apollographql/invariant-packages)":n)||this;return r.framesToPop=1,r.name="Invariant Violation",i(r,e.prototype),r}return Object(r.c)(e,t),e}(Error);function a(t,e){if(!t)throw new u(e)}function s(t){return function(){return console[t].apply(console,arguments)}}!function(t){t.warn=s("warn"),t.error=s("error")}(a||(a={}));var c={env:{}};if("object"==typeof t)c=t;else try{Function("stub","process = stub")(c)}catch(t){}}).call(this,n(22))},30:function(t,e){t.exports=window.prestashop},309:function(t,e,n){t.exports=n(146)},31:function(t,e,n){var r=function(){return this}()||Function("return this")(),o=r.regeneratorRuntime&&Object.getOwnPropertyNames(r).indexOf("regeneratorRuntime")>=0,i=o&&r.regeneratorRuntime;if(r.regeneratorRuntime=void 0,t.exports=n(32),o)r.regeneratorRuntime=i;else try{delete r.regeneratorRuntime}catch(t){r.regeneratorRuntime=void 0}},32:function(t,e){!function(e){"use strict";var n=Object.prototype,r=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",a=o.toStringTag||"@@toStringTag",s="object"==typeof t,c=e.regeneratorRuntime;if(c)s&&(t.exports=c);else{(c=e.regeneratorRuntime=s?t.exports:{}).wrap=v;var l={},f={};f[i]=function(){return this};var d=Object.getPrototypeOf,p=d&&d(d(S([])));p&&p!==n&&r.call(p,i)&&(f=p);var h=g.prototype=m.prototype=Object.create(f);b.prototype=h.constructor=g,g.constructor=b,g[a]=b.displayName="GeneratorFunction",c.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===b||"GeneratorFunction"===(e.displayName||e.name))},c.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,a in t||(t[a]="GeneratorFunction")),t.prototype=Object.create(h),t},c.awrap=function(t){return{__await:t}},w(_.prototype),_.prototype[u]=function(){return this},c.AsyncIterator=_,c.async=function(t,e,n,r){var o=new _(v(t,e,n,r));return c.isGeneratorFunction(e)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},w(h),h[a]="Generator",h[i]=function(){return this},h.toString=function(){return"[object Generator]"},c.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},c.values=S,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(n,r){return u.type="throw",u.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],u=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var a=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(a&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var u=i?i.completion:{};return u.type=t,u.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(u)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),k(n),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;k(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:S(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}}}function v(t,e,n,r){var o=e&&e.prototype instanceof m?e:m,i=Object.create(o.prototype),u=new O(r||[]);return i._invoke=function(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return j()}for(n.method=o,n.arg=i;;){var u=n.delegate;if(u){var a=x(u,n);if(a){if(a===l)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=y(t,e,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(t,n,u),i}function y(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}function m(){}function b(){}function g(){}function w(t){["next","throw","return"].forEach((function(e){t[e]=function(t){return this._invoke(e,t)}}))}function _(t){var e;this._invoke=function(n,o){function i(){return new Promise((function(e,i){!function e(n,o,i,u){var a=y(t[n],t,o);if("throw"!==a.type){var s=a.arg,c=s.value;return c&&"object"==typeof c&&r.call(c,"__await")?Promise.resolve(c.__await).then((function(t){e("next",t,i,u)}),(function(t){e("throw",t,i,u)})):Promise.resolve(c).then((function(t){s.value=t,i(s)}),u)}u(a.arg)}(n,o,e,i)}))}return e=e?e.then(i,i):i()}}function x(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,x(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=y(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,l;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function I(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(I,this),this.reset(!0)}function S(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}}(function(){return this}()||Function("return this")())},33:function(t,e,n){t.exports={default:n(82),__esModule:!0}},36:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default={addToCart:{Accept:"application/json, text/javascript"},products:{"Content-Type":"application/json",Accept:"application/json, text/javascript, */*; q=0.01"}}},4:function(t,e,n){"use strict";function r(t,e,n,r,o,i,u,a){var s,c="function"==typeof t?t.options:t;if(e&&(c.render=e,c.staticRenderFns=n,c._compiled=!0),r&&(c.functional=!0),i&&(c._scopeId="data-v-"+i),u?(s=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),o&&o.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(u)},c._ssrRegister=s):o&&(s=a?function(){o.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:o),s)if(c.functional){c._injectStyles=s;var l=c.render;c.render=function(t,e){return s.call(e),l(t,e)}}else{var f=c.beforeCreate;c.beforeCreate=f?[].concat(f,s):[s]}return{exports:t,options:c}}n.d(e,"a",(function(){return r}))},41:function(t,e,n){"use strict";n.d(e,"a",(function(){return j})),n.d(e,"b",(function(){return L}));var r=null,o={},i=1,u=Array,a=u["@wry/context:Slot"]||function(){var t=function(){function t(){this.id=["slot",i++,Date.now(),Math.random().toString(36).slice(2)].join(":")}return t.prototype.hasValue=function(){for(var t=r;t;t=t.parent)if(this.id in t.slots){var e=t.slots[this.id];if(e===o)break;return t!==r&&(r.slots[this.id]=e),!0}return r&&(r.slots[this.id]=o),!1},t.prototype.getValue=function(){if(this.hasValue())return r.slots[this.id]},t.prototype.withValue=function(t,e,n,o){var i,u=((i={__proto__:null})[this.id]=t,i),a=r;r={parent:a,slots:u};try{return e.apply(o,n)}finally{r=a}},t.bind=function(t){var e=r;return function(){var n=r;try{return r=e,t.apply(this,arguments)}finally{r=n}}},t.noContext=function(t,e,n){if(!r)return t.apply(n,e);var o=r;try{return r=null,t.apply(n,e)}finally{r=o}},t}();try{Object.defineProperty(u,"@wry/context:Slot",{value:u["@wry/context:Slot"]=t,enumerable:!1,writable:!1,configurable:!1})}finally{return t}}();a.bind,a.noContext;function s(){}var c=function(){function t(t,e){void 0===t&&(t=1/0),void 0===e&&(e=s),this.max=t,this.dispose=e,this.map=new Map,this.newest=null,this.oldest=null}return t.prototype.has=function(t){return this.map.has(t)},t.prototype.get=function(t){var e=this.getEntry(t);return e&&e.value},t.prototype.getEntry=function(t){var e=this.map.get(t);if(e&&e!==this.newest){var n=e.older,r=e.newer;r&&(r.older=n),n&&(n.newer=r),e.older=this.newest,e.older.newer=e,e.newer=null,this.newest=e,e===this.oldest&&(this.oldest=r)}return e},t.prototype.set=function(t,e){var n=this.getEntry(t);return n?n.value=e:(n={key:t,value:e,newer:null,older:this.newest},this.newest&&(this.newest.newer=n),this.newest=n,this.oldest=this.oldest||n,this.map.set(t,n),n.value)},t.prototype.clean=function(){for(;this.oldest&&this.map.size>this.max;)this.delete(this.oldest.key)},t.prototype.delete=function(t){var e=this.map.get(t);return!!e&&(e===this.newest&&(this.newest=e.older),e===this.oldest&&(this.oldest=e.newer),e.newer&&(e.newer.older=e.older),e.older&&(e.older.newer=e.newer),this.map.delete(t),this.dispose(e.value,t),!0)},t}(),l=new a,f=[],d=[];function p(t,e){if(!t)throw new Error(e||"assertion failure")}function h(t){switch(t.length){case 0:throw new Error("unknown value");case 1:return t[0];case 2:throw t[1]}}var v=function(){function t(e,n){this.fn=e,this.args=n,this.parents=new Set,this.childValues=new Map,this.dirtyChildren=null,this.dirty=!0,this.recomputing=!1,this.value=[],++t.count}return t.prototype.recompute=function(){if(p(!this.recomputing,"already recomputing"),function(t){var e=l.getValue();if(e)return t.parents.add(e),e.childValues.has(t)||e.childValues.set(t,[]),m(t)?w(e,t):_(e,t),e}(this)||!I(this))return m(this)?function(t){var e=k(t);l.withValue(t,y,[t]),function(t){if("function"==typeof t.subscribe)try{S(t),t.unsubscribe=t.subscribe.apply(null,t.args)}catch(e){return t.setDirty(),!1}return!0}(t)&&function(t){if(t.dirty=!1,m(t))return;g(t)}(t);return e.forEach(I),h(t.value)}(this):h(this.value)},t.prototype.setDirty=function(){this.dirty||(this.dirty=!0,this.value.length=0,b(this),S(this))},t.prototype.dispose=function(){var t=this;k(this).forEach(I),S(this),this.parents.forEach((function(e){e.setDirty(),O(e,t)}))},t.count=0,t}();function y(t){t.recomputing=!0,t.value.length=0;try{t.value[0]=t.fn.apply(null,t.args)}catch(e){t.value[1]=e}t.recomputing=!1}function m(t){return t.dirty||!(!t.dirtyChildren||!t.dirtyChildren.size)}function b(t){t.parents.forEach((function(e){return w(e,t)}))}function g(t){t.parents.forEach((function(e){return _(e,t)}))}function w(t,e){if(p(t.childValues.has(e)),p(m(e)),t.dirtyChildren){if(t.dirtyChildren.has(e))return}else t.dirtyChildren=d.pop()||new Set;t.dirtyChildren.add(e),b(t)}function _(t,e){p(t.childValues.has(e)),p(!m(e));var n,r,o,i=t.childValues.get(e);0===i.length?t.childValues.set(e,e.value.slice(0)):(n=i,r=e.value,(o=n.length)>0&&o===r.length&&n[o-1]===r[o-1]||t.setDirty()),x(t,e),m(t)||g(t)}function x(t,e){var n=t.dirtyChildren;n&&(n.delete(e),0===n.size&&(d.length<100&&d.push(n),t.dirtyChildren=null))}function I(t){return 0===t.parents.size&&"function"==typeof t.reportOrphan&&!0===t.reportOrphan()}function k(t){var e=f;return t.childValues.size>0&&(e=[],t.childValues.forEach((function(n,r){O(t,r),e.push(r)}))),p(null===t.dirtyChildren),e}function O(t,e){e.parents.delete(t),t.childValues.delete(e),x(t,e)}function S(t){var e=t.unsubscribe;"function"==typeof e&&(t.unsubscribe=void 0,e())}var j=function(){function t(t){this.weakness=t}return t.prototype.lookup=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this.lookupArray(t)},t.prototype.lookupArray=function(t){var e=this;return t.forEach((function(t){return e=e.getChildTrie(t)})),e.data||(e.data=Object.create(null))},t.prototype.getChildTrie=function(e){var n=this.weakness&&function(t){switch(typeof t){case"object":if(null===t)break;case"function":return!0}return!1}(e)?this.weak||(this.weak=new WeakMap):this.strong||(this.strong=new Map),r=n.get(e);return r||n.set(e,r=new t(this.weakness)),r},t}();var T=new j("function"==typeof WeakMap);function E(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return T.lookupArray(t)}var C=new Set;function L(t,e){void 0===e&&(e=Object.create(null));var n=new c(e.max||Math.pow(2,16),(function(t){return t.dispose()})),r=!!e.disposable,o=e.makeCacheKey||E;function i(){if(!r||l.hasValue()){var i=o.apply(null,arguments);if(void 0===i)return t.apply(null,arguments);var u=Array.prototype.slice.call(arguments),a=n.get(i);a?a.args=u:(a=new v(t,u),n.set(i,a),a.subscribe=e.subscribe,r&&(a.reportOrphan=function(){return n.delete(i)}));var s=a.recompute();return n.set(i,a),C.add(n),l.hasValue()||(C.forEach((function(t){return t.clean()})),C.clear()),r?void 0:s}}return i.dirty=function(){var t=o.apply(null,arguments),e=void 0!==t&&n.get(t);e&&e.setDirty()},i}},42:function(t,e,n){t.exports={default:n(88),__esModule:!0}},43:function(t,e,n){(function(t,e){!function(t,n){"use strict";if(!t.setImmediate){var r,o,i,u,a,s=1,c={},l=!1,f=t.document,d=Object.getPrototypeOf&&Object.getPrototypeOf(t);d=d&&d.setTimeout?d:t,"[object process]"==={}.toString.call(t.process)?r=function(t){e.nextTick((function(){h(t)}))}:!function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?t.MessageChannel?((i=new MessageChannel).port1.onmessage=function(t){h(t.data)},r=function(t){i.port2.postMessage(t)}):f&&"onreadystatechange"in f.createElement("script")?(o=f.documentElement,r=function(t){var e=f.createElement("script");e.onreadystatechange=function(){h(t),e.onreadystatechange=null,o.removeChild(e),e=null},o.appendChild(e)}):r=function(t){setTimeout(h,0,t)}:(u="setImmediate$"+Math.random()+"$",a=function(e){e.source===t&&"string"==typeof e.data&&0===e.data.indexOf(u)&&h(+e.data.slice(u.length))},t.addEventListener?t.addEventListener("message",a,!1):t.attachEvent("onmessage",a),r=function(e){t.postMessage(u+e,"*")}),d.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var o={callback:t,args:e};return c[s]=o,r(s),s++},d.clearImmediate=p}function p(t){delete c[t]}function h(t){if(l)setTimeout(h,0,t);else{var e=c[t];if(e){l=!0;try{!function(t){var e=t.callback,n=t.args;switch(n.length){case 0:e();break;case 1:e(n[0]);break;case 2:e(n[0],n[1]);break;case 3:e(n[0],n[1],n[2]);break;default:e.apply(void 0,n)}}(e)}finally{p(t),l=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,n(12),n(22))},44:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o=n(92),i=n(93),u=n(96),a=n(51),s=(r=a)&&r.__esModule?r:{default:r};
/**
 * 2007-2020 PrestaShop and Contributors
 *
 * NOTICE OF LICENSE
 *
 * This source file is subject to the Academic Free License 3.0 (AFL-3.0)
 * that is bundled with this package in the file LICENSE.txt.
 * It is also available through the world-wide-web at this URL:
 * https://opensource.org/licenses/AFL-3.0
 * If you did not receive a copy of the license and are unable to
 * obtain it through the world-wide-web, please send an email
 * to license@prestashop.com so we can send you a copy immediately.
 *
 * @author    PrestaShop SA <contact@prestashop.com>
 * @copyright 2007-2020 PrestaShop SA and Contributors
 * @license   https://opensource.org/licenses/AFL-3.0 Academic Free License 3.0 (AFL-3.0)
 * International Registered Trademark & Property of PrestaShop SA
 */
var c=new u.InMemoryCache;e.default=new o.ApolloClient({link:new i.SchemaLink({schema:s.default}),cache:c})},45:function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},46:function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t}Object.defineProperty(e,"__esModule",{value:!0}),e.Observable=void 0;var u=function(){return"function"==typeof Symbol},a=function(t){return u()&&Boolean(Symbol[t])},s=function(t){return a(t)?Symbol[t]:"@@"+t};u()&&!a("observable")&&(Symbol.observable=Symbol("observable"));var c=s("iterator"),l=s("observable"),f=s("species");function d(t,e){var n=t[e];if(null!=n){if("function"!=typeof n)throw new TypeError(n+" is not a function");return n}}function p(t){var e=t.constructor;return void 0!==e&&null===(e=e[f])&&(e=void 0),void 0!==e?e:I}function h(t){return t instanceof I}function v(t){v.log?v.log(t):setTimeout((function(){throw t}))}function y(t){Promise.resolve().then((function(){try{t()}catch(t){v(t)}}))}function m(t){var e=t._cleanup;if(void 0!==e&&(t._cleanup=void 0,e))try{if("function"==typeof e)e();else{var n=d(e,"unsubscribe");n&&n.call(e)}}catch(t){v(t)}}function b(t){t._observer=void 0,t._queue=void 0,t._state="closed"}function g(t,e,n){t._state="running";var r=t._observer;try{var o=d(r,e);switch(e){case"next":o&&o.call(r,n);break;case"error":if(b(t),!o)throw n;o.call(r,n);break;case"complete":b(t),o&&o.call(r)}}catch(t){v(t)}"closed"===t._state?m(t):"running"===t._state&&(t._state="ready")}function w(t,e,n){if("closed"!==t._state){if("buffering"!==t._state)return"ready"!==t._state?(t._state="buffering",t._queue=[{type:e,value:n}],void y((function(){return function(t){var e=t._queue;if(e){t._queue=void 0,t._state="ready";for(var n=0;n<e.length&&(g(t,e[n].type,e[n].value),"closed"!==t._state);++n);}}(t)}))):void g(t,e,n);t._queue.push({type:e,value:n})}}var _=function(){function t(e,n){r(this,t),this._cleanup=void 0,this._observer=e,this._queue=void 0,this._state="initializing";var o=new x(this);try{this._cleanup=n.call(void 0,o)}catch(t){o.error(t)}"initializing"===this._state&&(this._state="ready")}return i(t,[{key:"unsubscribe",value:function(){"closed"!==this._state&&(b(this),m(this))}},{key:"closed",get:function(){return"closed"===this._state}}]),t}(),x=function(){function t(e){r(this,t),this._subscription=e}return i(t,[{key:"next",value:function(t){w(this._subscription,"next",t)}},{key:"error",value:function(t){w(this._subscription,"error",t)}},{key:"complete",value:function(){w(this._subscription,"complete")}},{key:"closed",get:function(){return"closed"===this._subscription._state}}]),t}(),I=function(){function t(e){if(r(this,t),!(this instanceof t))throw new TypeError("Observable cannot be called as a function");if("function"!=typeof e)throw new TypeError("Observable initializer must be a function");this._subscriber=e}return i(t,[{key:"subscribe",value:function(t){return"object"==typeof t&&null!==t||(t={next:t,error:arguments[1],complete:arguments[2]}),new _(t,this._subscriber)}},{key:"forEach",value:function(t){var e=this;return new Promise((function(n,r){if("function"==typeof t)var o=e.subscribe({next:function(e){try{t(e,i)}catch(t){r(t),o.unsubscribe()}},error:r,complete:n});else r(new TypeError(t+" is not a function"));function i(){o.unsubscribe(),n()}}))}},{key:"map",value:function(t){var e=this;if("function"!=typeof t)throw new TypeError(t+" is not a function");return new(p(this))((function(n){return e.subscribe({next:function(e){try{e=t(e)}catch(t){return n.error(t)}n.next(e)},error:function(t){n.error(t)},complete:function(){n.complete()}})}))}},{key:"filter",value:function(t){var e=this;if("function"!=typeof t)throw new TypeError(t+" is not a function");return new(p(this))((function(n){return e.subscribe({next:function(e){try{if(!t(e))return}catch(t){return n.error(t)}n.next(e)},error:function(t){n.error(t)},complete:function(){n.complete()}})}))}},{key:"reduce",value:function(t){var e=this;if("function"!=typeof t)throw new TypeError(t+" is not a function");var n=p(this),r=arguments.length>1,o=!1,i=arguments[1],u=i;return new n((function(n){return e.subscribe({next:function(e){var i=!o;if(o=!0,!i||r)try{u=t(u,e)}catch(t){return n.error(t)}else u=e},error:function(t){n.error(t)},complete:function(){if(!o&&!r)return n.error(new TypeError("Cannot reduce an empty sequence"));n.next(u),n.complete()}})}))}},{key:"concat",value:function(){for(var t=this,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var o=p(this);return new o((function(e){var r,i=0;return function t(u){r=u.subscribe({next:function(t){e.next(t)},error:function(t){e.error(t)},complete:function(){i===n.length?(r=void 0,e.complete()):t(o.from(n[i++]))}})}(t),function(){r&&(r.unsubscribe(),r=void 0)}}))}},{key:"flatMap",value:function(t){var e=this;if("function"!=typeof t)throw new TypeError(t+" is not a function");var n=p(this);return new n((function(r){var o=[],i=e.subscribe({next:function(e){if(t)try{e=t(e)}catch(t){return r.error(t)}var i=n.from(e).subscribe({next:function(t){r.next(t)},error:function(t){r.error(t)},complete:function(){var t=o.indexOf(i);t>=0&&o.splice(t,1),u()}});o.push(i)},error:function(t){r.error(t)},complete:function(){u()}});function u(){i.closed&&0===o.length&&r.complete()}return function(){o.forEach((function(t){return t.unsubscribe()})),i.unsubscribe()}}))}},{key:l,value:function(){return this}}],[{key:"from",value:function(e){var n="function"==typeof this?this:t;if(null==e)throw new TypeError(e+" is not an object");var r=d(e,l);if(r){var o=r.call(e);if(Object(o)!==o)throw new TypeError(o+" is not an object");return h(o)&&o.constructor===n?o:new n((function(t){return o.subscribe(t)}))}if(a("iterator")&&(r=d(e,c)))return new n((function(t){y((function(){if(!t.closed){var n=!0,o=!1,i=void 0;try{for(var u,a=r.call(e)[Symbol.iterator]();!(n=(u=a.next()).done);n=!0){var s=u.value;if(t.next(s),t.closed)return}}catch(t){o=!0,i=t}finally{try{n||null==a.return||a.return()}finally{if(o)throw i}}t.complete()}}))}));if(Array.isArray(e))return new n((function(t){y((function(){if(!t.closed){for(var n=0;n<e.length;++n)if(t.next(e[n]),t.closed)return;t.complete()}}))}));throw new TypeError(e+" is not observable")}},{key:"of",value:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var o="function"==typeof this?this:t;return new o((function(t){y((function(){if(!t.closed){for(var e=0;e<n.length;++e)if(t.next(n[e]),t.closed)return;t.complete()}}))}))}},{key:f,get:function(){return this}}]),t}();e.Observable=I,u()&&Object.defineProperty(I,Symbol("extensions"),{value:{symbol:l,hostReportError:v},configurable:!0})},47:function(t,e,n){"use strict";n.r(e),n.d(e,"$$iterator",(function(){return i})),n.d(e,"isIterable",(function(){return u})),n.d(e,"isArrayLike",(function(){return a})),n.d(e,"isCollection",(function(){return s})),n.d(e,"getIterator",(function(){return c})),n.d(e,"getIteratorMethod",(function(){return l})),n.d(e,"createIterator",(function(){return f})),n.d(e,"forEach",(function(){return p})),n.d(e,"$$asyncIterator",(function(){return v})),n.d(e,"isAsyncIterable",(function(){return y})),n.d(e,"getAsyncIterator",(function(){return m})),n.d(e,"getAsyncIteratorMethod",(function(){return b})),n.d(e,"createAsyncIterator",(function(){return g})),n.d(e,"forAwaitEach",(function(){return x}));var r="function"==typeof Symbol?Symbol:void 0,o=r&&r.iterator,i=o||"@@iterator";function u(t){return!!l(t)}function a(t){var e=null!=t&&t.length;return"number"==typeof e&&e>=0&&e%1==0}function s(t){return Object(t)===t&&(a(t)||u(t))}function c(t){var e=l(t);if(e)return e.call(t)}function l(t){if(null!=t){var e=o&&t[o]||t["@@iterator"];if("function"==typeof e)return e}}function f(t){if(null!=t){var e=c(t);if(e)return e;if(a(t))return new d(t)}}function d(t){this._o=t,this._i=0}function p(t,e,n){if(null!=t){if("function"==typeof t.forEach)return t.forEach(e,n);var r=0,o=c(t);if(o){for(var i;!(i=o.next()).done;)if(e.call(n,i.value,r++,t),r>9999999)throw new TypeError("Near-infinite iteration.")}else if(a(t))for(;r<t.length;r++)t.hasOwnProperty(r)&&e.call(n,t[r],r,t)}}d.prototype[i]=function(){return this},d.prototype.next=function(){return void 0===this._o||this._i>=this._o.length?(this._o=void 0,{value:void 0,done:!0}):{value:this._o[this._i++],done:!1}};var h=r&&r.asyncIterator,v=h||"@@asyncIterator";function y(t){return!!b(t)}function m(t){var e=b(t);if(e)return e.call(t)}function b(t){if(null!=t){var e=h&&t[h]||t["@@asyncIterator"];if("function"==typeof e)return e}}function g(t){if(null!=t){var e=m(t);if(e)return e;var n=f(t);if(n)return new w(n)}}function w(t){this._i=t}function _(t,e,n){var r;return new Promise((function(o){o((r=t[e](n)).value)})).then((function(t){return{value:t,done:r.done}}))}function x(t,e,n){var r=g(t);if(r){var o=0;return new Promise((function(i,u){!function a(){return r.next().then((function(r){return r.done?i():Promise.resolve(e.call(n,r.value,o++,t)).then(a).catch(u),null})).catch(u),null}()}))}}w.prototype[v]=function(){return this},w.prototype.next=function(t){return _(this._i,"next",t)},w.prototype.return=function(t){return this._i.return?_(this._i,"return",t):Promise.resolve({value:t,done:!0})},w.prototype.throw=function(t){return this._i.throw?_(this._i,"throw",t):Promise.reject(t)}},51:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(97),o=u(n(54)),i=u(n(55));function u(t){return t&&t.__esModule?t:{default:t}}e.default=(0,r.makeExecutableSchema)({typeDefs:i.default,resolvers:o.default})},52:function(t,e,n){var r,o,i=n(24),u=n(25),a=0,s=0;t.exports=function(t,e,n){var c=e&&n||0,l=e||[],f=(t=t||{}).node||r,d=void 0!==t.clockseq?t.clockseq:o;if(null==f||null==d){var p=i();null==f&&(f=r=[1|p[0],p[1],p[2],p[3],p[4],p[5]]),null==d&&(d=o=16383&(p[6]<<8|p[7]))}var h=void 0!==t.msecs?t.msecs:(new Date).getTime(),v=void 0!==t.nsecs?t.nsecs:s+1,y=h-a+(v-s)/1e4;if(y<0&&void 0===t.clockseq&&(d=d+1&16383),(y<0||h>a)&&void 0===t.nsecs&&(v=0),v>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");a=h,s=v,o=d;var m=(1e4*(268435455&(h+=122192928e5))+v)%4294967296;l[c++]=m>>>24&255,l[c++]=m>>>16&255,l[c++]=m>>>8&255,l[c++]=255&m;var b=h/4294967296*1e4&268435455;l[c++]=b>>>8&255,l[c++]=255&b,l[c++]=b>>>24&15|16,l[c++]=b>>>16&255,l[c++]=d>>>8|128,l[c++]=255&d;for(var g=0;g<6;++g)l[c+g]=f[g];return e||u(l)}},53:function(t,e,n){var r=n(24),o=n(25);t.exports=function(t,e,n){var i=e&&n||0;"string"==typeof t&&(e="binary"===t?new Array(16):null,t=null);var u=(t=t||{}).random||(t.rng||r)();if(u[6]=15&u[6]|64,u[8]=63&u[8]|128,e)for(var a=0;a<16;++a)e[i+a]=u[a];return e||o(u)}},54:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o,i,u,a,s,c,l=y(n(14)),f=y(n(15)),d=y(n(10)),p=y(n(36)),h=n(100),v=y(h);function y(t){return t&&t.__esModule?t:{default:t}}e.default={JSON:v.default,JSONObject:h.GraphQLJSONObject,Query:{products:(c=(0,f.default)(l.default.mark((function t(e,n){var r,o,i=n.url;return l.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(i+"&from-xhr",{headers:p.default.products});case 2:return r=t.sent,t.next=5,r.json();case 5:return o=t.sent,d.default.$emit("paginate",{detail:{total:o.pagination.total_items,minShown:o.pagination.items_shown_from,maxShown:o.pagination.items_shown_to,pageNumber:o.pagination.pages_count,pages:o.pagination.pages,display:o.pagination.should_be_displayed,currentPage:o.pagination.current_page}}),window.history.pushState(o,document.title,o.current_url),window.scrollTo(0,0),t.abrupt("return",{datas:{products:o.products,pagination:o.pagination,current_url:o.current_url,sort_orders:o.sort_orders,sort_selected:o.sort_selected}});case 10:case"end":return t.stop()}}),t,void 0)}))),function(t,e){return c.apply(this,arguments)}),lists:(s=(0,f.default)(l.default.mark((function t(e,n){var r,o,i=n.url;return l.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(i);case 2:return r=t.sent,t.next=5,r.json();case 5:return o=t.sent,t.abrupt("return",o.wishlists);case 7:case"end":return t.stop()}}),t,void 0)}))),function(t,e){return s.apply(this,arguments)})},Mutation:{createList:(a=(0,f.default)(l.default.mark((function t(e,n){var r,o,i,u=n.name,a=n.url;return l.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=encodeURIComponent(u),t.next=3,fetch(a+"&params[name]="+r,{method:"POST"});case 3:return o=t.sent,t.next=6,o.json();case 6:return i=t.sent,t.abrupt("return",i);case 8:case"end":return t.stop()}}),t,void 0)}))),function(t,e){return a.apply(this,arguments)}),renameList:(u=(0,f.default)(l.default.mark((function t(e,n){var r,o,i=n.name,u=n.listId,a=n.url;return l.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(a+"&params[name]="+i+"&params[idWishList]="+u,{method:"POST"});case 2:return r=t.sent,t.next=5,r.json();case 5:return o=t.sent,t.abrupt("return",o);case 7:case"end":return t.stop()}}),t,void 0)}))),function(t,e){return u.apply(this,arguments)}),addToList:(i=(0,f.default)(l.default.mark((function t(e,n){var r,o,i=n.listId,u=n.url,a=n.productId,s=n.quantity,c=n.productAttributeId;return l.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(u+"&params[id_product]="+a+"&params[idWishList]="+i+"&params[quantity]="+s+"&params[id_product_attribute]="+c,{method:"POST"});case 2:return r=t.sent,t.next=5,r.json();case 5:return(o=t.sent).success&&productsAlreadyTagged.push({id_product:a.toString(),id_wishlist:i.toString(),quantity:s.toString(),id_product_attribute:c.toString()}),t.abrupt("return",o);case 8:case"end":return t.stop()}}),t,void 0)}))),function(t,e){return i.apply(this,arguments)}),removeFromList:(o=(0,f.default)(l.default.mark((function t(e,n){var r,o,i=n.listId,u=n.productId,a=n.url,s=n.productAttributeId;return l.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(a+"&params[id_product]="+u+"&params[idWishList]="+i+"&params[id_product_attribute]="+s,{method:"POST"});case 2:return r=t.sent,t.next=5,r.json();case 5:return(o=t.sent).success&&(productsAlreadyTagged=productsAlreadyTagged.filter((function(t){return t.id_product!==u.toString()||t.id_product_attribute!==s.toString()&&t.id_product===u.toString()||t.id_wishlist!==i.toString()}))),t.abrupt("return",o);case 8:case"end":return t.stop()}}),t,void 0)}))),function(t,e){return o.apply(this,arguments)}),deleteList:(r=(0,f.default)(l.default.mark((function t(e,n){var r,o,i=n.listId,u=n.url;return l.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(u+"&params[idWishList]="+i,{method:"POST"});case 2:return r=t.sent,t.next=5,r.json();case 5:return o=t.sent,t.abrupt("return",o);case 7:case"end":return t.stop()}}),t,void 0)}))),function(t,e){return r.apply(this,arguments)})}}},55:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),
/**
 * 2007-2020 PrestaShop and Contributors
 *
 * NOTICE OF LICENSE
 *
 * This source file is subject to the Academic Free License 3.0 (AFL-3.0)
 * that is bundled with this package in the file LICENSE.txt.
 * It is also available through the world-wide-web at this URL:
 * https://opensource.org/licenses/AFL-3.0
 * If you did not receive a copy of the license and are unable to
 * obtain it through the world-wide-web, please send an email
 * to license@prestashop.com so we can send you a copy immediately.
 *
 * @author    PrestaShop SA <contact@prestashop.com>
 * @copyright 2007-2020 PrestaShop SA and Contributors
 * @license   https://opensource.org/licenses/AFL-3.0 Academic Free License 3.0 (AFL-3.0)
 * International Registered Trademark & Property of PrestaShop SA
 */
e.default="\n  scalar JSON\n  scalar JSONObject\n\n  type List {\n    id_wishlist: Int\n    name: String\n    listUrl: String\n    shareUrl: String\n    default: Int\n    nbProducts: Int\n  }\n\n  type ShareUrl {\n    url: String\n  }\n\n  type CreateResponse {\n    datas: List\n    success: Boolean!\n    message: String!\n  }\n\n  type ProductListResponse {\n    datas: JSONObject\n  }\n\n  type Response {\n    success: Boolean!\n    message: String!\n  }\n\n  type Query {\n    products(listId: Int!, url: String!): ProductListResponse\n    lists(url: String!): [List]\n  }\n\n  type Mutation {\n    createList(name: String!, url: String!): CreateResponse\n    shareList(listId: String!, userId: Int!): ShareUrl\n    renameList(name: String!, url: String!, listId: Int!): Response\n    addToList(listId: Int!, productId: Int!, quantity: Int!, productAttributeId: Int!, url: String!): Response\n    removeFromList(listId: Int!, productId: Int!, productAttributeId: Int!, url: String!): Response\n    deleteList(listId: Int!, url: String!): Response\n  }\n"},56:function(t,e,n){t.exports={default:n(102),__esModule:!0}},57:function(t,e,n){t.exports={default:n(103),__esModule:!0}},69:function(t,e,n){"use strict";n.r(e);var r=n(70),o=n.n(r);for(var i in r)["default"].indexOf(i)<0&&function(t){n.d(e,t,(function(){return r[t]}))}(i);e.default=o.a},70:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o=c(n(14)),i=c(n(15)),u=c(n(101)),a=c(n(30)),s=c(n(10));function c(t){return t&&t.__esModule?t:{default:t}}e.default={name:"Button",props:{url:{type:String,required:!0,default:"#"},productId:{type:Number,required:!0,default:null},productAttributeId:{type:Number,required:!0,default:null},checked:{type:Boolean,required:!1,default:!1},isProduct:{type:Boolean,required:!1,default:!1}},data:function(){return{isChecked:"true"===this.checked,idList:this.listId,test:a.default.customer.is_logged}},methods:{toggleCheck:function(){this.isChecked=!this.isChecked},addToWishlist:(r=(0,i.default)(o.default.mark((function t(e){var n,r,i,c;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.preventDefault(),n=document.querySelector(".product-quantity input#quantity_wanted"),a.default.customer.is_logged){t.next=5;break}return s.default.$emit("showLogin"),t.abrupt("return");case 5:if(this.isChecked){t.next=9;break}s.default.$emit("showAddToWishList",{detail:{productId:this.productId,productAttributeId:parseInt(this.productAttributeId,10),forceOpen:!0,quantity:n?parseInt(n.value,10):0}}),t.next=16;break;case 9:return t.next=11,this.$apollo.mutate({mutation:u.default,variables:{productId:this.productId,url:this.url,productAttributeId:this.productAttributeId,listId:this.idList?this.idList:this.listId}});case 11:r=t.sent,i=r.data,c=i.removeFromList,s.default.$emit("showToast",{detail:{type:c.success?"success":"error",message:c.message}}),c.error||this.toggleCheck();case 16:case"end":return t.stop()}}),t,this)}))),function(t){return r.apply(this,arguments)})},mounted:function(){var t=this;s.default.$on("addedToWishlist",(function(e){e.detail.productId===t.productId&&parseInt(e.detail.productAttributeId,10)===t.productAttributeId&&(t.isChecked=!0,t.idList=e.detail.listId)}));var e=productsAlreadyTagged.filter((function(e){return parseInt(e.id_product,10)===t.productId&&parseInt(e.id_product_attribute,10)===t.productAttributeId}));e.length>0&&(this.isChecked=!0,this.idList=parseInt(e[0].id_wishlist,10)),this.isProduct&&(a.default.on("updateProduct",(function(e){"updatedProductQuantity"===e.eventType&&(t.isChecked=!1)})),a.default.on("updatedProduct",(function(e){var n=document.querySelector(".product-quantity input#quantity_wanted");t.productAttributeId=parseInt(e.id_product_attribute,10);var r=productsAlreadyTagged.filter((function(e){return parseInt(e.id_product,10)===t.productId&&e.quantity.toString()===n.value&&parseInt(e.id_product_attribute,10)===t.productAttributeId}));r.length>0?(t.isChecked=!0,t.idList=parseInt(r[0].id_wishlist,10)):t.isChecked=!1})))}}},85:function(t,e,n){"use strict";(function(t,r){var o,i=n(26);o="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==t?t:r;var u=Object(i.a)(o);e.a=u}).call(this,n(12),n(45)(t))},86:function(t,e,n){"use strict";t.exports=function(t,e){e||(e={}),"function"==typeof e&&(e={cmp:e});var n,r="boolean"==typeof e.cycles&&e.cycles,o=e.cmp&&(n=e.cmp,function(t){return function(e,r){var o={key:e,value:t[e]},i={key:r,value:t[r]};return n(o,i)}}),i=[];return function t(e){if(e&&e.toJSON&&"function"==typeof e.toJSON&&(e=e.toJSON()),void 0!==e){if("number"==typeof e)return isFinite(e)?""+e:"null";if("object"!=typeof e)return JSON.stringify(e);var n,u;if(Array.isArray(e)){for(u="[",n=0;n<e.length;n++)n&&(u+=","),u+=t(e[n])||"null";return u+"]"}if(null===e)return"null";if(-1!==i.indexOf(e)){if(r)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var a=i.push(e)-1,s=Object.keys(e).sort(o&&o(e));for(u="",n=0;n<s.length;n++){var c=s[n],l=t(e[c]);l&&(u&&(u+=","),u+=JSON.stringify(c)+":"+l)}return i.splice(a,1),"{"+u+"}"}}(t)}},87:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n(1);function o(t){return{kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GeneratedClientQuery"},selectionSet:i(t)}]}}function i(t){if("number"==typeof t||"boolean"==typeof t||"string"==typeof t||null==t)return null;if(Array.isArray(t))return i(t[0]);var e=[];return Object.keys(t).forEach((function(n){var r={kind:"Field",name:{kind:"Name",value:n},selectionSet:i(t[n])||void 0};e.push(r)})),{kind:"SelectionSet",selections:e}}var u,a={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:null,variableDefinitions:null,directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:null,name:{kind:"Name",value:"__typename"},arguments:[],directives:[],selectionSet:null}]}}]},s=function(){function t(){}return t.prototype.transformDocument=function(t){return t},t.prototype.transformForLink=function(t){return t},t.prototype.readQuery=function(t,e){return void 0===e&&(e=!1),this.read({query:t.query,variables:t.variables,optimistic:e})},t.prototype.readFragment=function(t,e){return void 0===e&&(e=!1),this.read({query:Object(r.k)(t.fragment,t.fragmentName),variables:t.variables,rootId:t.id,optimistic:e})},t.prototype.writeQuery=function(t){this.write({dataId:"ROOT_QUERY",result:t.data,query:t.query,variables:t.variables})},t.prototype.writeFragment=function(t){this.write({dataId:t.id,result:t.data,variables:t.variables,query:Object(r.k)(t.fragment,t.fragmentName)})},t.prototype.writeData=function(t){var e,n,r=t.id,u=t.data;if(void 0!==r){var s=null;try{s=this.read({rootId:r,optimistic:!1,query:a})}catch(t){}var c=s&&s.__typename||"__ClientData",l=Object.assign({__typename:c},u);this.writeFragment({id:r,fragment:(e=l,n=c,{kind:"Document",definitions:[{kind:"FragmentDefinition",typeCondition:{kind:"NamedType",name:{kind:"Name",value:n||"__FakeType"}},name:{kind:"Name",value:"GeneratedClientQuery"},selectionSet:i(e)}]}),data:l})}else this.writeQuery({query:o(u),data:u})},t}();u||(u={})},90:function(t,e,n){(function(t){var r=void 0!==t&&t||"undefined"!=typeof self&&self||window,o=Function.prototype.apply;function i(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new i(o.call(setTimeout,r,arguments),clearTimeout)},e.setInterval=function(){return new i(o.call(setInterval,r,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(r,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),e))},n(43),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,n(12))},98:function(t,e,n){"use strict";function r(t,e,n,r,o){var i={};return function(){var u=(((new Error).stack||"").match(/(?:\s+at\s.+){2}\s+at\s(.+)/)||[void 0,""])[1];if(!((u=/\)$/.test(u)?u.match(/[^(]+(?=\)$)/)[0]:u.trim())in i)){var a;switch(i[u]=!0,t){case"class":a="Class";break;case"property":a="Property";break;case"method":a="Method";break;case"function":a="Function"}a+=" `"+e+"` has been deprecated",r&&(a+=" since version "+r),n&&(a+=", use `"+n+"` instead"),a+=".",u&&(a+="\n    at "+u),o&&(a+="\nCheck out "+o+" for more information."),console.warn(a)}}}function o(t,n,o,i,u,a){var s=(e.options.getWarner||r)(t,n,i,u,a),c={enumerable:(o=o||{writable:!0,enumerable:!1,configurable:!0}).enumerable,configurable:o.configurable};if(o.get||o.set)o.get&&(c.get=function(){return s(),o.get.call(this)}),o.set&&(c.set=function(t){return s(),o.set.call(this,t)});else{var l=o.value;c.get=function(){return s(),l},o.writable&&(c.set=function(t){s(),l=t})}return c}function i(t,n,o,i,u){for(var a=n.name,s=(e.options.getWarner||r)(t,a,o,i,u),c=function(){return s(),n.apply(this,arguments)},l=0,f=Object.getOwnPropertyNames(n);l<f.length;l++){var d=f[l],p=Object.getOwnPropertyDescriptor(n,d);p.writable?c[d]=n[d]:p.configurable&&Object.defineProperty(c,d,p)}return c}function u(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var n=t[t.length-1];n="function"==typeof n?t.pop():void 0;var r,u,a,s=t[0];return"string"==typeof s?(r=s,u=t[1],a=t[2]):s&&(r=s.alternative,u=s.version,a=s.url),n?i("function",n,r,u,a):function(t,e,n){if("string"==typeof e)return o(n&&"function"==typeof n.value?"method":"property",e,n,r,u,a);if("function"==typeof t){for(var s=i("class",t,r,u,a),c=t.name,l=0,f=Object.getOwnPropertyNames(s);l<f.length;l++){var d=f[l],p=Object.getOwnPropertyDescriptor(s,d);(p=o("class",c,p,r,u,a)).writable?s[d]=t[d]:p.configurable&&Object.defineProperty(s,d,p)}return s}}}e.options={getWarner:void 0},e.deprecated=u,Object.defineProperty(e,"__esModule",{value:!0}),e.default=u},99:function(t,e,n){var r=n(52),o=n(53),i=o;i.v1=r,i.v4=o,t.exports=i}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9bbmFtZV0vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vW25hbWVdLy4vbm9kZV9tb2R1bGVzL3RzbGliL3RzbGliLmVzNi5qcyIsIndlYnBhY2s6Ly9bbmFtZV0vLi9fZGV2L2Zyb250L2pzL2NvbXBvbmVudHMvRXZlbnRCdXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vW25hbWVdLy4vX2Rldi9mcm9udC9qcy9ncmFwaHFsL211dGF0aW9ucy9yZW1vdmVGcm9tTGlzdC5qcyIsIndlYnBhY2s6Ly9bbmFtZV0vLi9fZGV2L2Zyb250L2pzL2NvbXBvbmVudHMvQnV0dG9uL0J1dHRvbi52dWU/MDkxYSIsIndlYnBhY2s6Ly9bbmFtZV0vKHdlYnBhY2spL2J1aWxkaW4vZ2xvYmFsLmpzIiwid2VicGFjazovL1tuYW1lXS8uL19kZXYvZnJvbnQvanMvY29tcG9uZW50cy9CdXR0b24vQnV0dG9uLnZ1ZT85MmJhIiwid2VicGFjazovL1tuYW1lXS8uL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL3JlZ2VuZXJhdG9yL2luZGV4LmpzIiwid2VicGFjazovL1tuYW1lXS8uL19kZXYvZnJvbnQvanMvY29tcG9uZW50cy9CdXR0b24vaW5kZXguanMiLCJ3ZWJwYWNrOi8vW25hbWVdLy4vbm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvaGVscGVycy9hc3luY1RvR2VuZXJhdG9yLmpzIiwid2VicGFjazovL1tuYW1lXS8uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanMiLCJ3ZWJwYWNrOi8vW25hbWVdLy4vbm9kZV9tb2R1bGVzL3Z1ZS1zdHlsZS1sb2FkZXIvbGliL2xpc3RUb1N0eWxlcy5qcyIsIndlYnBhY2s6Ly9bbmFtZV0vLi9ub2RlX21vZHVsZXMvdnVlLXN0eWxlLWxvYWRlci9saWIvYWRkU3R5bGVzQ2xpZW50LmpzIiwid2VicGFjazovL1tuYW1lXS8uL19kZXYvZnJvbnQvanMvY29tcG9uZW50cy9pbml0LmpzIiwid2VicGFjazovL1tuYW1lXS8uL25vZGVfbW9kdWxlcy96ZW4tb2JzZXJ2YWJsZS10cy9saWIvYnVuZGxlLmVzbS5qcyIsIndlYnBhY2s6Ly9bbmFtZV0vLi9fZGV2L2Zyb250L2pzL2NvbXBvbmVudHMvQnV0dG9uL0J1dHRvbi52dWUiLCJ3ZWJwYWNrOi8vW25hbWVdLy4vX2Rldi9mcm9udC9qcy9jb21wb25lbnRzL0J1dHRvbi9CdXR0b24udnVlP2NjMzMiLCJ3ZWJwYWNrOi8vW25hbWVdLy4vX2Rldi9mcm9udC9qcy9jb21wb25lbnRzL0J1dHRvbi9CdXR0b24udnVlPzJiZjQiLCJ3ZWJwYWNrOi8vW25hbWVdLy4vbm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvaGVscGVycy90YWdnZWRUZW1wbGF0ZUxpdGVyYWwuanMiLCJ3ZWJwYWNrOi8vW25hbWVdLy4vbm9kZV9tb2R1bGVzL3Byb2Nlc3MvYnJvd3Nlci5qcyIsIndlYnBhY2s6Ly9bbmFtZV0vLi9ub2RlX21vZHVsZXMvdXVpZC9saWIvcm5nLWJyb3dzZXIuanMiLCJ3ZWJwYWNrOi8vW25hbWVdLy4vbm9kZV9tb2R1bGVzL3V1aWQvbGliL2J5dGVzVG9VdWlkLmpzIiwid2VicGFjazovL1tuYW1lXS8uL25vZGVfbW9kdWxlcy9zeW1ib2wtb2JzZXJ2YWJsZS9lcy9wb255ZmlsbC5qcyIsIndlYnBhY2s6Ly9bbmFtZV0vLi9ub2RlX21vZHVsZXMvemVuLW9ic2VydmFibGUvaW5kZXguanMiLCJ3ZWJwYWNrOi8vW25hbWVdLy4vbm9kZV9tb2R1bGVzL0B3cnkvZXF1YWxpdHkvbGliL2VxdWFsaXR5LmVzbS5qcyIsIndlYnBhY2s6Ly9bbmFtZV0vLi9ub2RlX21vZHVsZXMvdHMtaW52YXJpYW50L2xpYi9pbnZhcmlhbnQuZXNtLmpzIiwid2VicGFjazovL1tuYW1lXS9leHRlcm5hbCBcInByZXN0YXNob3BcIiIsIndlYnBhY2s6Ly9bbmFtZV0vLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9ub2RlX21vZHVsZXMvcmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLW1vZHVsZS5qcyIsIndlYnBhY2s6Ly9bbmFtZV0vLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9ub2RlX21vZHVsZXMvcmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIiwid2VicGFjazovL1tuYW1lXS8uL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2NvcmUtanMvcHJvbWlzZS5qcyIsIndlYnBhY2s6Ly9bbmFtZV0vLi9fZGV2L2Zyb250L2pzL2NvbnN0YW50cy9oZWFkZXJzLmpzIiwid2VicGFjazovL1tuYW1lXS8uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9ydW50aW1lL2NvbXBvbmVudE5vcm1hbGl6ZXIuanMiLCJ3ZWJwYWNrOi8vW25hbWVdLy4vbm9kZV9tb2R1bGVzL0B3cnkvY29udGV4dC9saWIvY29udGV4dC5lc20uanMiLCJ3ZWJwYWNrOi8vW25hbWVdLy4vbm9kZV9tb2R1bGVzL29wdGltaXNtL2xpYi9idW5kbGUuZXNtLmpzIiwid2VicGFjazovL1tuYW1lXS8uL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2NvcmUtanMvZ2V0LWl0ZXJhdG9yLmpzIiwid2VicGFjazovL1tuYW1lXS8uL25vZGVfbW9kdWxlcy9zZXRpbW1lZGlhdGUvc2V0SW1tZWRpYXRlLmpzIiwid2VicGFjazovL1tuYW1lXS8uL19kZXYvZnJvbnQvanMvZ3JhcGhxbC9jbGllbnQuanMiLCJ3ZWJwYWNrOi8vW25hbWVdLyh3ZWJwYWNrKS9idWlsZGluL2hhcm1vbnktbW9kdWxlLmpzIiwid2VicGFjazovL1tuYW1lXS8uL25vZGVfbW9kdWxlcy96ZW4tb2JzZXJ2YWJsZS9saWIvT2JzZXJ2YWJsZS5qcyIsIndlYnBhY2s6Ly9bbmFtZV0vLi9ub2RlX21vZHVsZXMvaXRlcmFsbC9pbmRleC5tanMiLCJ3ZWJwYWNrOi8vW25hbWVdLy4vX2Rldi9mcm9udC9qcy9ncmFwaHFsL2xpbmsuanMiLCJ3ZWJwYWNrOi8vW25hbWVdLy4vbm9kZV9tb2R1bGVzL3V1aWQvdjEuanMiLCJ3ZWJwYWNrOi8vW25hbWVdLy4vbm9kZV9tb2R1bGVzL3V1aWQvdjQuanMiLCJ3ZWJwYWNrOi8vW25hbWVdLy4vX2Rldi9mcm9udC9qcy9ncmFwaHFsL3Jlc29sdmVycy5qcyIsIndlYnBhY2s6Ly9bbmFtZV0vLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9kZWZpbmUtcHJvcGVydGllcy5qcyIsIndlYnBhY2s6Ly9bbmFtZV0vLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9mcmVlemUuanMiLCJ3ZWJwYWNrOi8vW25hbWVdLy4vX2Rldi9mcm9udC9qcy9jb21wb25lbnRzL0J1dHRvbi9CdXR0b24udnVlPzZjMzIiLCJ3ZWJwYWNrOi8vW25hbWVdL19kZXYvZnJvbnQvanMvY29tcG9uZW50cy9CdXR0b24vQnV0dG9uLnZ1ZSIsIndlYnBhY2s6Ly9bbmFtZV0vLi9ub2RlX21vZHVsZXMvc3ltYm9sLW9ic2VydmFibGUvZXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vW25hbWVdLy4vbm9kZV9tb2R1bGVzL2Zhc3QtanNvbi1zdGFibGUtc3RyaW5naWZ5L2luZGV4LmpzIiwid2VicGFjazovL1tuYW1lXS8uL25vZGVfbW9kdWxlcy9hcG9sbG8tY2FjaGUvbGliL2J1bmRsZS5lc20uanMiLCJ3ZWJwYWNrOi8vW25hbWVdLy4vbm9kZV9tb2R1bGVzL3RpbWVycy1icm93c2VyaWZ5L21haW4uanMiLCJ3ZWJwYWNrOi8vW25hbWVdLy4vbm9kZV9tb2R1bGVzL2RlcHJlY2F0ZWQtZGVjb3JhdG9yL2JsZC9pbmRleC5qcyIsIndlYnBhY2s6Ly9bbmFtZV0vLi9ub2RlX21vZHVsZXMvdXVpZC9pbmRleC5qcyJdLCJuYW1lcyI6WyJ3ZWJwYWNrSnNvbnBDYWxsYmFjayIsImRhdGEiLCJtb2R1bGVJZCIsImNodW5rSWQiLCJjaHVua0lkcyIsIm1vcmVNb2R1bGVzIiwiZXhlY3V0ZU1vZHVsZXMiLCJpIiwicmVzb2x2ZXMiLCJsZW5ndGgiLCJPYmplY3QiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJpbnN0YWxsZWRDaHVua3MiLCJwdXNoIiwibW9kdWxlcyIsInBhcmVudEpzb25wRnVuY3Rpb24iLCJzaGlmdCIsImRlZmVycmVkTW9kdWxlcyIsImFwcGx5IiwiY2hlY2tEZWZlcnJlZE1vZHVsZXMiLCJyZXN1bHQiLCJkZWZlcnJlZE1vZHVsZSIsImZ1bGZpbGxlZCIsImoiLCJkZXBJZCIsInNwbGljZSIsIl9fd2VicGFja19yZXF1aXJlX18iLCJzIiwiaW5zdGFsbGVkTW9kdWxlcyIsIjQiLCJleHBvcnRzIiwibW9kdWxlIiwibCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwIiwianNvbnBBcnJheSIsIndpbmRvdyIsIm9sZEpzb25wRnVuY3Rpb24iLCJzbGljZSIsImV4dGVuZFN0YXRpY3MiLCJiIiwic2V0UHJvdG90eXBlT2YiLCJfX3Byb3RvX18iLCJBcnJheSIsIl9fZXh0ZW5kcyIsIl9fIiwidGhpcyIsImNvbnN0cnVjdG9yIiwiX19hc3NpZ24iLCJhc3NpZ24iLCJhcmd1bWVudHMiLCJfX2F3YWl0ZXIiLCJ0aGlzQXJnIiwiX2FyZ3VtZW50cyIsIlAiLCJnZW5lcmF0b3IiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsInN0ZXAiLCJuZXh0IiwiZSIsInJlamVjdGVkIiwiZG9uZSIsInRoZW4iLCJfX2dlbmVyYXRvciIsImJvZHkiLCJmIiwieSIsImciLCJfIiwibGFiZWwiLCJzZW50IiwidHJ5cyIsIm9wcyIsInZlcmIiLCJpdGVyYXRvciIsInYiLCJvcCIsIlR5cGVFcnJvciIsInBvcCIsIl9fc3ByZWFkQXJyYXlzIiwiaWwiLCJrIiwiYSIsImpsIiwiRXZlbnRCdXMiLCJWdWUiLCJXaXNobGlzdEV2ZW50QnVzIiwicHJlc3Rhc2hvcCIsImVtaXQiLCJncWwiLCJyZW5kZXIiLCJfaCIsIiRjcmVhdGVFbGVtZW50IiwiX2MiLCJfc2VsZiIsInRlc3QiLCJzdGF0aWNDbGFzcyIsImNsYXNzIiwiaXNQcm9kdWN0Iiwib24iLCJjbGljayIsImFkZFRvV2lzaGxpc3QiLCJpc0NoZWNrZWQiLCJfdiIsIl9lIiwic3RhdGljUmVuZGVyRm5zIiwiX3dpdGhTdHJpcHBlZCIsIkZ1bmN0aW9uIiwiY29udGVudCIsImRlZmF1bHQiLCJsb2NhbHMiLCJhZGQiLCJpbml0QnV0dG9ucyIsInByb3BzIiwidHlwZSIsIlN0cmluZyIsIkJvb2xlYW4iLCJOdW1iZXIiLCJCdXR0b24iLCJvYmoiLCJfcHJvbWlzZSIsIl9wcm9taXNlMiIsImZuIiwiZ2VuIiwiYXJnIiwiaW5mbyIsImVycm9yIiwiZXJyIiwidXNlU291cmNlTWFwIiwibGlzdCIsInRvU3RyaW5nIiwibWFwIiwiaXRlbSIsImNzc01hcHBpbmciLCJidG9hIiwic291cmNlTWFwcGluZyIsInNvdXJjZU1hcCIsImJhc2U2NCIsInVuZXNjYXBlIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiSlNPTiIsInN0cmluZ2lmeSIsImNvbmNhdCIsInNvdXJjZVVSTHMiLCJzb3VyY2VzIiwic291cmNlIiwic291cmNlUm9vdCIsImpvaW4iLCJjc3NXaXRoTWFwcGluZ1RvU3RyaW5nIiwibWVkaWFRdWVyeSIsImRlZHVwZSIsImFscmVhZHlJbXBvcnRlZE1vZHVsZXMiLCJpZCIsIl9pIiwibGlzdFRvU3R5bGVzIiwicGFyZW50SWQiLCJzdHlsZXMiLCJuZXdTdHlsZXMiLCJwYXJ0IiwiY3NzIiwibWVkaWEiLCJwYXJ0cyIsImhhc0RvY3VtZW50IiwiZG9jdW1lbnQiLCJERUJVRyIsIkVycm9yIiwic3R5bGVzSW5Eb20iLCJoZWFkIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJzaW5nbGV0b25FbGVtZW50Iiwic2luZ2xldG9uQ291bnRlciIsImlzUHJvZHVjdGlvbiIsIm5vb3AiLCJvcHRpb25zIiwiaXNPbGRJRSIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsInRvTG93ZXJDYXNlIiwiYWRkU3R5bGVzQ2xpZW50IiwiX2lzUHJvZHVjdGlvbiIsIl9vcHRpb25zIiwiYWRkU3R5bGVzVG9Eb20iLCJuZXdMaXN0IiwibWF5UmVtb3ZlIiwiZG9tU3R5bGUiLCJyZWZzIiwiYWRkU3R5bGUiLCJjcmVhdGVTdHlsZUVsZW1lbnQiLCJzdHlsZUVsZW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiYXBwZW5kQ2hpbGQiLCJ1cGRhdGUiLCJyZW1vdmUiLCJxdWVyeVNlbGVjdG9yIiwicGFyZW50Tm9kZSIsInJlbW92ZUNoaWxkIiwic3R5bGVJbmRleCIsImFwcGx5VG9TaW5nbGV0b25UYWciLCJhcHBseVRvVGFnIiwibmV3T2JqIiwidGV4dFN0b3JlIiwicmVwbGFjZVRleHQiLCJpbmRleCIsInJlcGxhY2VtZW50IiwiZmlsdGVyIiwic3R5bGVTaGVldCIsImNzc1RleHQiLCJjc3NOb2RlIiwiY3JlYXRlVGV4dE5vZGUiLCJjaGlsZE5vZGVzIiwiaW5zZXJ0QmVmb3JlIiwic2V0QXR0cmlidXRlIiwic3NySWQiLCJmaXJzdENoaWxkIiwiY29tcG9uZW50IiwiY29tcG9uZW50U2VsZWN0b3IiLCJ1c2UiLCJWdWVBcG9sbG8iLCJhcG9sbG9Qcm92aWRlciIsImRlZmF1bHRDbGllbnQiLCJhcG9sbG9DbGllbnQiLCJjb21wb25lbnRFbGVtZW50cyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJDb21wb25lbnRSb290IiwiZXh0ZW5kIiwicHJvcHNEYXRhIiwiZm9yRWFjaCIsInByb3AiLCJkYXRhc2V0IiwicGFyc2VJbnQiLCJlbCIsImRlbGltaXRlcnMiLCJPYnNlcnZhYmxlIiwiX19maWxlIiwiX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fIiwiX2RlZmluZVByb3BlcnRpZXMyIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsIl9mcmVlemUyIiwic3RyaW5ncyIsInJhdyIsImNhY2hlZFNldFRpbWVvdXQiLCJjYWNoZWRDbGVhclRpbWVvdXQiLCJwcm9jZXNzIiwiZGVmYXVsdFNldFRpbW91dCIsImRlZmF1bHRDbGVhclRpbWVvdXQiLCJydW5UaW1lb3V0IiwiZnVuIiwic2V0VGltZW91dCIsImNsZWFyVGltZW91dCIsImN1cnJlbnRRdWV1ZSIsInF1ZXVlIiwiZHJhaW5pbmciLCJxdWV1ZUluZGV4IiwiY2xlYW5VcE5leHRUaWNrIiwiZHJhaW5RdWV1ZSIsInRpbWVvdXQiLCJsZW4iLCJydW4iLCJtYXJrZXIiLCJydW5DbGVhclRpbWVvdXQiLCJJdGVtIiwiYXJyYXkiLCJuZXh0VGljayIsImFyZ3MiLCJ0aXRsZSIsImJyb3dzZXIiLCJlbnYiLCJhcmd2IiwidmVyc2lvbiIsInZlcnNpb25zIiwiYWRkTGlzdGVuZXIiLCJvbmNlIiwib2ZmIiwicmVtb3ZlTGlzdGVuZXIiLCJyZW1vdmVBbGxMaXN0ZW5lcnMiLCJwcmVwZW5kTGlzdGVuZXIiLCJwcmVwZW5kT25jZUxpc3RlbmVyIiwibGlzdGVuZXJzIiwiYmluZGluZyIsImN3ZCIsImNoZGlyIiwiZGlyIiwidW1hc2siLCJnZXRSYW5kb21WYWx1ZXMiLCJjcnlwdG8iLCJtc0NyeXB0byIsInJuZHM4IiwiVWludDhBcnJheSIsInJuZHMiLCJNYXRoIiwicmFuZG9tIiwiYnl0ZVRvSGV4Iiwic3Vic3RyIiwiYnVmIiwib2Zmc2V0IiwiYnRoIiwic3ltYm9sT2JzZXJ2YWJsZVBvbnlmaWxsIiwicm9vdCIsIm9ic2VydmFibGUiLCJfYSIsInByZXZpb3VzQ29tcGFyaXNvbnMiLCJNYXAiLCJlcXVhbCIsImNoZWNrIiwiYVRhZyIsImJUYWciLCJwcmV2aW91c2x5Q29tcGFyZWQiLCJhS2V5cyIsImtleXMiLCJiS2V5cyIsImtleUNvdW50IiwibWVzc2FnZSIsInNpemUiLCJhSXRlcmF0b3IiLCJlbnRyaWVzIiwiaXNNYXAiLCJhS2V5IiwiYVZhbHVlIiwiaGFzIiwiY2xlYXIiLCJiU2V0Iiwic2V0IiwiU2V0IiwicHJvdG8iLCJJbnZhcmlhbnRFcnJvciIsIl9zdXBlciIsIl90aGlzIiwiZ2VuZXJpY01lc3NhZ2UiLCJmcmFtZXNUb1BvcCIsImludmFyaWFudCIsImNvbmRpdGlvbiIsIndyYXBDb25zb2xlTWV0aG9kIiwibWV0aG9kIiwiY29uc29sZSIsIndhcm4iLCJwcm9jZXNzU3R1YiIsImF0TGVhc3RXZVRyaWVkIiwiaGFkUnVudGltZSIsInJlZ2VuZXJhdG9yUnVudGltZSIsImdldE93blByb3BlcnR5TmFtZXMiLCJpbmRleE9mIiwib2xkUnVudGltZSIsInVuZGVmaW5lZCIsImdsb2JhbCIsIk9wIiwiaGFzT3duIiwiJFN5bWJvbCIsIml0ZXJhdG9yU3ltYm9sIiwiYXN5bmNJdGVyYXRvclN5bWJvbCIsImFzeW5jSXRlcmF0b3IiLCJ0b1N0cmluZ1RhZ1N5bWJvbCIsImluTW9kdWxlIiwicnVudGltZSIsIndyYXAiLCJDb250aW51ZVNlbnRpbmVsIiwiSXRlcmF0b3JQcm90b3R5cGUiLCJnZXRQcm90byIsImdldFByb3RvdHlwZU9mIiwiTmF0aXZlSXRlcmF0b3JQcm90b3R5cGUiLCJ2YWx1ZXMiLCJHcCIsIkdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlIiwiR2VuZXJhdG9yIiwiR2VuZXJhdG9yRnVuY3Rpb24iLCJkaXNwbGF5TmFtZSIsImlzR2VuZXJhdG9yRnVuY3Rpb24iLCJnZW5GdW4iLCJjdG9yIiwibWFyayIsImF3cmFwIiwiX19hd2FpdCIsImRlZmluZUl0ZXJhdG9yTWV0aG9kcyIsIkFzeW5jSXRlcmF0b3IiLCJhc3luYyIsImlubmVyRm4iLCJvdXRlckZuIiwic2VsZiIsInRyeUxvY3NMaXN0IiwiaXRlciIsInJldmVyc2UiLCJDb250ZXh0IiwicmVzZXQiLCJza2lwVGVtcFJlc2V0IiwicHJldiIsIl9zZW50IiwiZGVsZWdhdGUiLCJ0cnlFbnRyaWVzIiwicmVzZXRUcnlFbnRyeSIsImNoYXJBdCIsImlzTmFOIiwic3RvcCIsInJvb3RSZWNvcmQiLCJjb21wbGV0aW9uIiwicnZhbCIsImRpc3BhdGNoRXhjZXB0aW9uIiwiZXhjZXB0aW9uIiwiY29udGV4dCIsImhhbmRsZSIsImxvYyIsImNhdWdodCIsInJlY29yZCIsImVudHJ5IiwidHJ5TG9jIiwiaGFzQ2F0Y2giLCJoYXNGaW5hbGx5IiwiY2F0Y2hMb2MiLCJmaW5hbGx5TG9jIiwiYWJydXB0IiwiZmluYWxseUVudHJ5IiwiY29tcGxldGUiLCJhZnRlckxvYyIsImZpbmlzaCIsInRocm93biIsImRlbGVnYXRlWWllbGQiLCJpdGVyYWJsZSIsInJlc3VsdE5hbWUiLCJuZXh0TG9jIiwicHJvdG9HZW5lcmF0b3IiLCJfaW52b2tlIiwic3RhdGUiLCJkb25lUmVzdWx0IiwiZGVsZWdhdGVSZXN1bHQiLCJtYXliZUludm9rZURlbGVnYXRlIiwidHJ5Q2F0Y2giLCJtYWtlSW52b2tlTWV0aG9kIiwicHJldmlvdXNQcm9taXNlIiwiY2FsbEludm9rZVdpdGhNZXRob2RBbmRBcmciLCJpbnZva2UiLCJ1bndyYXBwZWQiLCJyZXR1cm4iLCJwdXNoVHJ5RW50cnkiLCJsb2NzIiwiaXRlcmF0b3JNZXRob2QiLCJhZGRUb0NhcnQiLCJBY2NlcHQiLCJwcm9kdWN0cyIsIm5vcm1hbGl6ZUNvbXBvbmVudCIsInNjcmlwdEV4cG9ydHMiLCJmdW5jdGlvbmFsVGVtcGxhdGUiLCJpbmplY3RTdHlsZXMiLCJzY29wZUlkIiwibW9kdWxlSWRlbnRpZmllciIsInNoYWRvd01vZGUiLCJob29rIiwiX2NvbXBpbGVkIiwiZnVuY3Rpb25hbCIsIl9zY29wZUlkIiwiJHZub2RlIiwic3NyQ29udGV4dCIsInBhcmVudCIsIl9fVlVFX1NTUl9DT05URVhUX18iLCJfcmVnaXN0ZXJlZENvbXBvbmVudHMiLCJfc3NyUmVnaXN0ZXIiLCIkcm9vdCIsIiRvcHRpb25zIiwic2hhZG93Um9vdCIsIl9pbmplY3RTdHlsZXMiLCJvcmlnaW5hbFJlbmRlciIsImgiLCJleGlzdGluZyIsImJlZm9yZUNyZWF0ZSIsImN1cnJlbnRDb250ZXh0IiwiTUlTU0lOR19WQUxVRSIsImlkQ291bnRlciIsImhvc3QiLCJTbG90IiwiRGF0ZSIsIm5vdyIsImhhc1ZhbHVlIiwiY29udGV4dF8xIiwic2xvdHMiLCJnZXRWYWx1ZSIsIndpdGhWYWx1ZSIsImNhbGxiYWNrIiwic2F2ZWQiLCJub0NvbnRleHQiLCJ3cml0YWJsZSIsImNvbmZpZ3VyYWJsZSIsImRlZmF1bHREaXNwb3NlIiwiQ2FjaGUiLCJtYXgiLCJkaXNwb3NlIiwiSW5maW5pdHkiLCJuZXdlc3QiLCJvbGRlc3QiLCJnZXRFbnRyeSIsIm9sZGVyIiwibmV3ZXIiLCJjbGVhbiIsImRlbGV0ZSIsInBhcmVudEVudHJ5U2xvdCIsInJldXNhYmxlRW1wdHlBcnJheSIsImVtcHR5U2V0UG9vbCIsImFzc2VydCIsIm9wdGlvbmFsTWVzc2FnZSIsInZhbHVlR2V0IiwiRW50cnkiLCJwYXJlbnRzIiwiY2hpbGRWYWx1ZXMiLCJkaXJ0eUNoaWxkcmVuIiwiZGlydHkiLCJyZWNvbXB1dGluZyIsImNvdW50IiwicmVjb21wdXRlIiwiY2hpbGQiLCJtaWdodEJlRGlydHkiLCJyZXBvcnREaXJ0eUNoaWxkIiwicmVwb3J0Q2xlYW5DaGlsZCIsInJlbWVtYmVyUGFyZW50IiwibWF5YmVSZXBvcnRPcnBoYW4iLCJvcmlnaW5hbENoaWxkcmVuIiwiZm9yZ2V0Q2hpbGRyZW4iLCJyZWNvbXB1dGVOZXdWYWx1ZSIsInN1YnNjcmliZSIsIm1heWJlVW5zdWJzY3JpYmUiLCJ1bnN1YnNjcmliZSIsInNldERpcnR5IiwibWF5YmVTdWJzY3JpYmUiLCJyZXBvcnRDbGVhbiIsInNldENsZWFuIiwicmVhbGx5UmVjb21wdXRlIiwicmVwb3J0RGlydHkiLCJmb3JnZXRDaGlsZCIsImNoaWxkVmFsdWUiLCJyZW1vdmVEaXJ0eUNoaWxkIiwiZGMiLCJyZXBvcnRPcnBoYW4iLCJjaGlsZHJlbiIsIl92YWx1ZSIsIktleVRyaWUiLCJ3ZWFrbmVzcyIsImxvb2t1cCIsImxvb2t1cEFycmF5Iiwibm9kZSIsImdldENoaWxkVHJpZSIsImlzT2JqUmVmIiwid2VhayIsIldlYWtNYXAiLCJzdHJvbmciLCJrZXlUcmllIiwiZGVmYXVsdE1ha2VDYWNoZUtleSIsImNhY2hlcyIsIm9yaWdpbmFsRnVuY3Rpb24iLCJjYWNoZSIsInBvdyIsImRpc3Bvc2FibGUiLCJtYWtlQ2FjaGVLZXkiLCJvcHRpbWlzdGljIiwic2V0SW1tZWRpYXRlIiwicmVnaXN0ZXJJbW1lZGlhdGUiLCJodG1sIiwiY2hhbm5lbCIsIm1lc3NhZ2VQcmVmaXgiLCJvbkdsb2JhbE1lc3NhZ2UiLCJuZXh0SGFuZGxlIiwidGFza3NCeUhhbmRsZSIsImN1cnJlbnRseVJ1bm5pbmdBVGFzayIsImRvYyIsImF0dGFjaFRvIiwicnVuSWZQcmVzZW50IiwicG9zdE1lc3NhZ2UiLCJpbXBvcnRTY3JpcHRzIiwicG9zdE1lc3NhZ2VJc0FzeW5jaHJvbm91cyIsIm9sZE9uTWVzc2FnZSIsIm9ubWVzc2FnZSIsImNhblVzZVBvc3RNZXNzYWdlIiwiTWVzc2FnZUNoYW5uZWwiLCJwb3J0MSIsImV2ZW50IiwicG9ydDIiLCJkb2N1bWVudEVsZW1lbnQiLCJzY3JpcHQiLCJvbnJlYWR5c3RhdGVjaGFuZ2UiLCJhZGRFdmVudExpc3RlbmVyIiwiYXR0YWNoRXZlbnQiLCJ0YXNrIiwiY2xlYXJJbW1lZGlhdGUiLCJJbk1lbW9yeUNhY2hlIiwiQXBvbGxvQ2xpZW50IiwibGluayIsIlNjaGVtYUxpbmsiLCJzY2hlbWEiLCJvcmlnaW5hbE1vZHVsZSIsIndlYnBhY2tQb2x5ZmlsbCIsIl9jbGFzc0NhbGxDaGVjayIsImluc3RhbmNlIiwiQ29uc3RydWN0b3IiLCJfZGVmaW5lUHJvcGVydGllcyIsInRhcmdldCIsImRlc2NyaXB0b3IiLCJfY3JlYXRlQ2xhc3MiLCJwcm90b1Byb3BzIiwic3RhdGljUHJvcHMiLCJoYXNTeW1ib2xzIiwiaGFzU3ltYm9sIiwiZ2V0U3ltYm9sIiwiU3ltYm9sSXRlcmF0b3IiLCJTeW1ib2xPYnNlcnZhYmxlIiwiU3ltYm9sU3BlY2llcyIsImdldE1ldGhvZCIsImdldFNwZWNpZXMiLCJpc09ic2VydmFibGUiLCJ4IiwiaG9zdFJlcG9ydEVycm9yIiwibG9nIiwiZW5xdWV1ZSIsImNsZWFudXBTdWJzY3JpcHRpb24iLCJzdWJzY3JpcHRpb24iLCJjbGVhbnVwIiwiX2NsZWFudXAiLCJjbG9zZVN1YnNjcmlwdGlvbiIsIl9vYnNlcnZlciIsIl9xdWV1ZSIsIl9zdGF0ZSIsIm5vdGlmeVN1YnNjcmlwdGlvbiIsIm9ic2VydmVyIiwib25Ob3RpZnkiLCJmbHVzaFN1YnNjcmlwdGlvbiIsIlN1YnNjcmlwdGlvbiIsInN1YnNjcmliZXIiLCJzdWJzY3JpcHRpb25PYnNlcnZlciIsIlN1YnNjcmlwdGlvbk9ic2VydmVyIiwiX3N1YnNjcmlwdGlvbiIsIl9zdWJzY3JpYmVyIiwiX3RoaXMyIiwiX3RoaXMzIiwiX3RoaXM0IiwiQyIsImhhc1NlZWQiLCJzZWVkIiwiYWNjIiwiZmlyc3QiLCJfdGhpczUiLCJfbGVuIiwiX2tleSIsInN0YXJ0TmV4dCIsImZyb20iLCJfdGhpczYiLCJzdWJzY3JpcHRpb25zIiwib3V0ZXIiLCJpbm5lciIsImNvbXBsZXRlSWZEb25lIiwiY2xvc2VkIiwiX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiIsIl9kaWRJdGVyYXRvckVycm9yIiwiX2l0ZXJhdG9yRXJyb3IiLCJfc3RlcCIsIl9pdGVyYXRvciIsIl9pdGVtIiwiaXNBcnJheSIsIl9sZW4yIiwiaXRlbXMiLCJfa2V5MiIsInN5bWJvbCIsIlNZTUJPTCIsIlNZTUJPTF9JVEVSQVRPUiIsIiQkaXRlcmF0b3IiLCJpc0l0ZXJhYmxlIiwiZ2V0SXRlcmF0b3JNZXRob2QiLCJpc0FycmF5TGlrZSIsImlzQ29sbGVjdGlvbiIsImdldEl0ZXJhdG9yIiwiY3JlYXRlSXRlcmF0b3IiLCJjb2xsZWN0aW9uIiwiQXJyYXlMaWtlSXRlcmF0b3IiLCJfbyIsIlNZTUJPTF9BU1lOQ19JVEVSQVRPUiIsIiQkYXN5bmNJdGVyYXRvciIsImlzQXN5bmNJdGVyYWJsZSIsImdldEFzeW5jSXRlcmF0b3JNZXRob2QiLCJnZXRBc3luY0l0ZXJhdG9yIiwiYXN5bmNJdGVyYWJsZSIsImNyZWF0ZUFzeW5jSXRlcmF0b3IiLCJBc3luY0Zyb21TeW5jSXRlcmF0b3IiLCJ1bndyYXBBc3luY0Zyb21TeW5jIiwiZm9yQXdhaXRFYWNoIiwiY2F0Y2giLCJ0aHJvdyIsIm1ha2VFeGVjdXRhYmxlU2NoZW1hIiwidHlwZURlZnMiLCJyZXNvbHZlcnMiLCJfbm9kZUlkIiwiX2Nsb2Nrc2VxIiwicm5nIiwiYnl0ZXNUb1V1aWQiLCJfbGFzdE1TZWNzIiwiX2xhc3ROU2VjcyIsImNsb2Nrc2VxIiwic2VlZEJ5dGVzIiwibXNlY3MiLCJnZXRUaW1lIiwibnNlY3MiLCJkdCIsInRsIiwidG1oIiwiaWkiLCJHcmFwaFFMSlNPTiIsIkpTT05PYmplY3QiLCJHcmFwaFFMSlNPTk9iamVjdCIsIlF1ZXJ5IiwidXJsIiwiZmV0Y2giLCJoZWFkZXJzIiwicmVzcG9uc2UiLCJqc29uIiwiZGF0YXMiLCIkZW1pdCIsImRldGFpbCIsInRvdGFsIiwicGFnaW5hdGlvbiIsInRvdGFsX2l0ZW1zIiwibWluU2hvd24iLCJpdGVtc19zaG93bl9mcm9tIiwibWF4U2hvd24iLCJpdGVtc19zaG93bl90byIsInBhZ2VOdW1iZXIiLCJwYWdlc19jb3VudCIsInBhZ2VzIiwiZGlzcGxheSIsInNob3VsZF9iZV9kaXNwbGF5ZWQiLCJjdXJyZW50UGFnZSIsImN1cnJlbnRfcGFnZSIsImhpc3RvcnkiLCJwdXNoU3RhdGUiLCJjdXJyZW50X3VybCIsInNjcm9sbFRvIiwic29ydF9vcmRlcnMiLCJzb3J0X3NlbGVjdGVkIiwibGlzdHMiLCJ3aXNobGlzdHMiLCJNdXRhdGlvbiIsImNyZWF0ZUxpc3QiLCJuYW1lRW5jb2RlZCIsInJlbmFtZUxpc3QiLCJsaXN0SWQiLCJhZGRUb0xpc3QiLCJwcm9kdWN0SWQiLCJxdWFudGl0eSIsInByb2R1Y3RBdHRyaWJ1dGVJZCIsInN1Y2Nlc3MiLCJwcm9kdWN0c0FscmVhZHlUYWdnZWQiLCJpZF9wcm9kdWN0IiwiaWRfd2lzaGxpc3QiLCJpZF9wcm9kdWN0X2F0dHJpYnV0ZSIsInJlbW92ZUZyb21MaXN0IiwiZGVsZXRlTGlzdCIsIm9wdHMiLCJjbXAiLCJjeWNsZXMiLCJhb2JqIiwiYm9iaiIsInNlZW4iLCJ0b0pTT04iLCJpc0Zpbml0ZSIsIm91dCIsInNlZW5JbmRleCIsInNvcnQiLCJxdWVyeUZyb21Qb2pvIiwia2luZCIsImRlZmluaXRpb25zIiwib3BlcmF0aW9uIiwic2VsZWN0aW9uU2V0Iiwic2VsZWN0aW9uU2V0RnJvbU9iaiIsInNlbGVjdGlvbnMiLCJmaWVsZCIsImp1c3RUeXBlbmFtZVF1ZXJ5IiwidmFyaWFibGVEZWZpbml0aW9ucyIsImRpcmVjdGl2ZXMiLCJhbGlhcyIsIkFwb2xsb0NhY2hlIiwidHJhbnNmb3JtRG9jdW1lbnQiLCJ0cmFuc2Zvcm1Gb3JMaW5rIiwicmVhZFF1ZXJ5IiwicmVhZCIsInF1ZXJ5IiwidmFyaWFibGVzIiwicmVhZEZyYWdtZW50IiwiZnJhZ21lbnQiLCJmcmFnbWVudE5hbWUiLCJyb290SWQiLCJ3cml0ZVF1ZXJ5Iiwid3JpdGUiLCJkYXRhSWQiLCJ3cml0ZUZyYWdtZW50Iiwid3JpdGVEYXRhIiwidHlwZW5hbWUiLCJ0eXBlbmFtZVJlc3VsdCIsIl9fdHlwZW5hbWUiLCJkYXRhVG9Xcml0ZSIsInR5cGVDb25kaXRpb24iLCJUaW1lb3V0IiwiY2xlYXJGbiIsIl9pZCIsIl9jbGVhckZuIiwic2NvcGUiLCJzZXRJbnRlcnZhbCIsImNsZWFySW50ZXJ2YWwiLCJjbG9zZSIsInVucmVmIiwicmVmIiwiZW5yb2xsIiwiX2lkbGVUaW1lb3V0SWQiLCJfaWRsZVRpbWVvdXQiLCJ1bmVucm9sbCIsIl91bnJlZkFjdGl2ZSIsImFjdGl2ZSIsIl9vblRpbWVvdXQiLCJjcmVhdGVXYXJuZXIiLCJhbHRlcm5hdGl2ZSIsIndhcm5lZFBvc2l0aW9ucyIsImF0Iiwic3RhY2siLCJtYXRjaCIsInRyaW0iLCJkZWNvcmF0ZVByb3BlcnR5Iiwid2FybmVyIiwiZ2V0V2FybmVyIiwiZGVwcmVjYXRlZERlc2NyaXB0b3IiLCJwcm9wZXJ0eVZhbHVlXzEiLCJkZWNvcmF0ZUZ1bmN0aW9uIiwicHJvcGVydHlOYW1lIiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwiZGVwcmVjYXRlZCIsImNsYXNzTmFtZSIsImRlc2NyaXB0b3JfMSIsInYxIiwidjQiLCJ1dWlkIl0sIm1hcHBpbmdzIjoiMEJBQ0UsU0FBU0EsRUFBcUJDLEdBUTdCLElBUEEsSUFNSUMsRUFBVUMsRUFOVkMsRUFBV0gsRUFBSyxHQUNoQkksRUFBY0osRUFBSyxHQUNuQkssRUFBaUJMLEVBQUssR0FJSE0sRUFBSSxFQUFHQyxFQUFXLEdBQ3BDRCxFQUFJSCxFQUFTSyxPQUFRRixJQUN6QkosRUFBVUMsRUFBU0csR0FDaEJHLE9BQU9DLFVBQVVDLGVBQWVDLEtBQUtDLEVBQWlCWCxJQUFZVyxFQUFnQlgsSUFDcEZLLEVBQVNPLEtBQUtELEVBQWdCWCxHQUFTLElBRXhDVyxFQUFnQlgsR0FBVyxFQUU1QixJQUFJRCxLQUFZRyxFQUNaSyxPQUFPQyxVQUFVQyxlQUFlQyxLQUFLUixFQUFhSCxLQUNwRGMsRUFBUWQsR0FBWUcsRUFBWUgsSUFLbEMsSUFGR2UsR0FBcUJBLEVBQW9CaEIsR0FFdENPLEVBQVNDLFFBQ2RELEVBQVNVLE9BQVRWLEdBT0QsT0FIQVcsRUFBZ0JKLEtBQUtLLE1BQU1ELEVBQWlCYixHQUFrQixJQUd2RGUsSUFFUixTQUFTQSxJQUVSLElBREEsSUFBSUMsRUFDSWYsRUFBSSxFQUFHQSxFQUFJWSxFQUFnQlYsT0FBUUYsSUFBSyxDQUcvQyxJQUZBLElBQUlnQixFQUFpQkosRUFBZ0JaLEdBQ2pDaUIsR0FBWSxFQUNSQyxFQUFJLEVBQUdBLEVBQUlGLEVBQWVkLE9BQVFnQixJQUFLLENBQzlDLElBQUlDLEVBQVFILEVBQWVFLEdBQ0csSUFBM0JYLEVBQWdCWSxLQUFjRixHQUFZLEdBRTNDQSxJQUNGTCxFQUFnQlEsT0FBT3BCLElBQUssR0FDNUJlLEVBQVNNLEVBQW9CQSxFQUFvQkMsRUFBSU4sRUFBZSxLQUl0RSxPQUFPRCxFQUlSLElB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ckIsRUFBSThxQixFQUFhNWhCLEVBQVNnYixHQUUzRCxTQUFVaEgsRUFBUWhrQixFQUFNaWtCLEdBQzNCLEdBQW9CLGlCQUFUamtCLEVBR1AsT0FBT2t5QixFQUZJak8sR0FBMEMsbUJBQXJCQSxFQUFXeGpCLE1BQ3ZDLFNBQVcsV0FDZVQsRUFBTWlrQixFQUFZMk4sRUFBYTVoQixFQUFTZ2IsR0FFckUsR0FBc0IsbUJBQVhoSCxFQUF1QixDQUduQyxJQUZBLElBQUkvaEIsRUFBY3N3QixFQUFpQixRQUFTdk8sRUFBUTROLEVBQWE1aEIsRUFBU2diLEdBQ3RFMkgsRUFBWTNPLEVBQU9oa0IsS0FDZDZJLEVBQUssRUFBR2tKLEVBQUszVCxPQUFPbVcsb0JBQW9CdFMsR0FBYzRHLEVBQUtrSixFQUFHNVQsT0FBUTBLLElBQU0sQ0FDakYsSUFBSTJwQixFQUFlemdCLEVBQUdsSixHQUNsQitwQixFQUFleDBCLE9BQU9xMEIseUJBQXlCeHdCLEVBQWF1d0IsSUFDaEVJLEVBQWVWLEVBQWlCLFFBQVNTLEVBQVdDLEVBQWNoQixFQUFhNWhCLEVBQVNnYixJQUN2RWhPLFNBQ2IvYSxFQUFZdXdCLEdBQWdCeE8sRUFBT3dPLEdBRTlCSSxFQUFhM1YsY0FDbEI3ZSxPQUFPK0IsZUFBZThCLEVBQWF1d0IsRUFBY0ksR0FHekQsT0FBTzN3QixJQTVKbkJ2QyxFQUFRdUssUUFBVSxDQUNkbW9CLGVBQVcxZCxHQStKZmhWLEVBQVFnekIsV0FBYUEsRUFDckJ0MEIsT0FBTytCLGVBQWVULEVBQVMsYUFBYyxDQUFFZSxPQUFPLElBQ3REZixFQUFRdUcsUUFBVXlzQixHLG1CQ3hLbEIsSUFBSUcsRUFBSyxFQUFRLElBQ2JDLEVBQUssRUFBUSxJQUViQyxFQUFPRCxFQUNYQyxFQUFLRixHQUFLQSxFQUNWRSxFQUFLRCxHQUFLQSxFQUVWbnpCLEVBQU9ELFFBQVVxekIiLCJmaWxlIjoiYnV0dG9uLmJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIGluc3RhbGwgYSBKU09OUCBjYWxsYmFjayBmb3IgY2h1bmsgbG9hZGluZ1xuIFx0ZnVuY3Rpb24gd2VicGFja0pzb25wQ2FsbGJhY2soZGF0YSkge1xuIFx0XHR2YXIgY2h1bmtJZHMgPSBkYXRhWzBdO1xuIFx0XHR2YXIgbW9yZU1vZHVsZXMgPSBkYXRhWzFdO1xuIFx0XHR2YXIgZXhlY3V0ZU1vZHVsZXMgPSBkYXRhWzJdO1xuXG4gXHRcdC8vIGFkZCBcIm1vcmVNb2R1bGVzXCIgdG8gdGhlIG1vZHVsZXMgb2JqZWN0LFxuIFx0XHQvLyB0aGVuIGZsYWcgYWxsIFwiY2h1bmtJZHNcIiBhcyBsb2FkZWQgYW5kIGZpcmUgY2FsbGJhY2tcbiBcdFx0dmFyIG1vZHVsZUlkLCBjaHVua0lkLCBpID0gMCwgcmVzb2x2ZXMgPSBbXTtcbiBcdFx0Zm9yKDtpIDwgY2h1bmtJZHMubGVuZ3RoOyBpKyspIHtcbiBcdFx0XHRjaHVua0lkID0gY2h1bmtJZHNbaV07XG4gXHRcdFx0aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGluc3RhbGxlZENodW5rcywgY2h1bmtJZCkgJiYgaW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdKSB7XG4gXHRcdFx0XHRyZXNvbHZlcy5wdXNoKGluc3RhbGxlZENodW5rc1tjaHVua0lkXVswXSk7XG4gXHRcdFx0fVxuIFx0XHRcdGluc3RhbGxlZENodW5rc1tjaHVua0lkXSA9IDA7XG4gXHRcdH1cbiBcdFx0Zm9yKG1vZHVsZUlkIGluIG1vcmVNb2R1bGVzKSB7XG4gXHRcdFx0aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1vcmVNb2R1bGVzLCBtb2R1bGVJZCkpIHtcbiBcdFx0XHRcdG1vZHVsZXNbbW9kdWxlSWRdID0gbW9yZU1vZHVsZXNbbW9kdWxlSWRdO1xuIFx0XHRcdH1cbiBcdFx0fVxuIFx0XHRpZihwYXJlbnRKc29ucEZ1bmN0aW9uKSBwYXJlbnRKc29ucEZ1bmN0aW9uKGRhdGEpO1xuXG4gXHRcdHdoaWxlKHJlc29sdmVzLmxlbmd0aCkge1xuIFx0XHRcdHJlc29sdmVzLnNoaWZ0KCkoKTtcbiBcdFx0fVxuXG4gXHRcdC8vIGFkZCBlbnRyeSBtb2R1bGVzIGZyb20gbG9hZGVkIGNodW5rIHRvIGRlZmVycmVkIGxpc3RcbiBcdFx0ZGVmZXJyZWRNb2R1bGVzLnB1c2guYXBwbHkoZGVmZXJyZWRNb2R1bGVzLCBleGVjdXRlTW9kdWxlcyB8fCBbXSk7XG5cbiBcdFx0Ly8gcnVuIGRlZmVycmVkIG1vZHVsZXMgd2hlbiBhbGwgY2h1bmtzIHJlYWR5XG4gXHRcdHJldHVybiBjaGVja0RlZmVycmVkTW9kdWxlcygpO1xuIFx0fTtcbiBcdGZ1bmN0aW9uIGNoZWNrRGVmZXJyZWRNb2R1bGVzKCkge1xuIFx0XHR2YXIgcmVzdWx0O1xuIFx0XHRmb3IodmFyIGkgPSAwOyBpIDwgZGVmZXJyZWRNb2R1bGVzLmxlbmd0aDsgaSsrKSB7XG4gXHRcdFx0dmFyIGRlZmVycmVkTW9kdWxlID0gZGVmZXJyZWRNb2R1bGVzW2ldO1xuIFx0XHRcdHZhciBmdWxmaWxsZWQgPSB0cnVlO1xuIFx0XHRcdGZvcih2YXIgaiA9IDE7IGogPCBkZWZlcnJlZE1vZHVsZS5sZW5ndGg7IGorKykge1xuIFx0XHRcdFx0dmFyIGRlcElkID0gZGVmZXJyZWRNb2R1bGVbal07XG4gXHRcdFx0XHRpZihpbnN0YWxsZWRDaHVua3NbZGVwSWRdICE9PSAwKSBmdWxmaWxsZWQgPSBmYWxzZTtcbiBcdFx0XHR9XG4gXHRcdFx0aWYoZnVsZmlsbGVkKSB7XG4gXHRcdFx0XHRkZWZlcnJlZE1vZHVsZXMuc3BsaWNlKGktLSwgMSk7XG4gXHRcdFx0XHRyZXN1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IGRlZmVycmVkTW9kdWxlWzBdKTtcbiBcdFx0XHR9XG4gXHRcdH1cblxuIFx0XHRyZXR1cm4gcmVzdWx0O1xuIFx0fVxuXG4gXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBvYmplY3QgdG8gc3RvcmUgbG9hZGVkIGFuZCBsb2FkaW5nIGNodW5rc1xuIFx0Ly8gdW5kZWZpbmVkID0gY2h1bmsgbm90IGxvYWRlZCwgbnVsbCA9IGNodW5rIHByZWxvYWRlZC9wcmVmZXRjaGVkXG4gXHQvLyBQcm9taXNlID0gY2h1bmsgbG9hZGluZywgMCA9IGNodW5rIGxvYWRlZFxuIFx0dmFyIGluc3RhbGxlZENodW5rcyA9IHtcbiBcdFx0NDogMFxuIFx0fTtcblxuIFx0dmFyIGRlZmVycmVkTW9kdWxlcyA9IFtdO1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG4gXHR2YXIganNvbnBBcnJheSA9IHdpbmRvd1tcIndlYnBhY2tKc29ucF9uYW1lX1wiXSA9IHdpbmRvd1tcIndlYnBhY2tKc29ucF9uYW1lX1wiXSB8fCBbXTtcbiBcdHZhciBvbGRKc29ucEZ1bmN0aW9uID0ganNvbnBBcnJheS5wdXNoLmJpbmQoanNvbnBBcnJheSk7XG4gXHRqc29ucEFycmF5LnB1c2ggPSB3ZWJwYWNrSnNvbnBDYWxsYmFjaztcbiBcdGpzb25wQXJyYXkgPSBqc29ucEFycmF5LnNsaWNlKCk7XG4gXHRmb3IodmFyIGkgPSAwOyBpIDwganNvbnBBcnJheS5sZW5ndGg7IGkrKykgd2VicGFja0pzb25wQ2FsbGJhY2soanNvbnBBcnJheVtpXSk7XG4gXHR2YXIgcGFyZW50SnNvbnBGdW5jdGlvbiA9IG9sZEpzb25wRnVuY3Rpb247XG5cblxuIFx0Ly8gYWRkIGVudHJ5IG1vZHVsZSB0byBkZWZlcnJlZCBsaXN0XG4gXHRkZWZlcnJlZE1vZHVsZXMucHVzaChbMzA5LDAsMV0pO1xuIFx0Ly8gcnVuIGRlZmVycmVkIG1vZHVsZXMgd2hlbiByZWFkeVxuIFx0cmV0dXJuIGNoZWNrRGVmZXJyZWRNb2R1bGVzKCk7XG4iLCIvKiEgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uXHJcblxyXG5QZXJtaXNzaW9uIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBhbmQvb3IgZGlzdHJpYnV0ZSB0aGlzIHNvZnR3YXJlIGZvciBhbnlcclxucHVycG9zZSB3aXRoIG9yIHdpdGhvdXQgZmVlIGlzIGhlcmVieSBncmFudGVkLlxyXG5cclxuVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiBBTkQgVEhFIEFVVEhPUiBESVNDTEFJTVMgQUxMIFdBUlJBTlRJRVMgV0lUSFxyXG5SRUdBUkQgVE8gVEhJUyBTT0ZUV0FSRSBJTkNMVURJTkcgQUxMIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFlcclxuQU5EIEZJVE5FU1MuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1IgQkUgTElBQkxFIEZPUiBBTlkgU1BFQ0lBTCwgRElSRUNULFxyXG5JTkRJUkVDVCwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTIE9SIEFOWSBEQU1BR0VTIFdIQVRTT0VWRVIgUkVTVUxUSU5HIEZST01cclxuTE9TUyBPRiBVU0UsIERBVEEgT1IgUFJPRklUUywgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIE5FR0xJR0VOQ0UgT1JcclxuT1RIRVIgVE9SVElPVVMgQUNUSU9OLCBBUklTSU5HIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFVTRSBPUlxyXG5QRVJGT1JNQU5DRSBPRiBUSElTIFNPRlRXQVJFLlxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xyXG4vKiBnbG9iYWwgUmVmbGVjdCwgUHJvbWlzZSAqL1xyXG5cclxudmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbihkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19leHRlbmRzKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxufVxyXG5cclxuZXhwb3J0IHZhciBfX2Fzc2lnbiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uIF9fYXNzaWduKHQpIHtcclxuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcclxuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcclxuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB0W3BdID0gc1twXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHQ7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcmVzdChzLCBlKSB7XHJcbiAgICB2YXIgdCA9IHt9O1xyXG4gICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApICYmIGUuaW5kZXhPZihwKSA8IDApXHJcbiAgICAgICAgdFtwXSA9IHNbcF07XHJcbiAgICBpZiAocyAhPSBudWxsICYmIHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSBcImZ1bmN0aW9uXCIpXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIHAgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHMpOyBpIDwgcC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAoZS5pbmRleE9mKHBbaV0pIDwgMCAmJiBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwocywgcFtpXSkpXHJcbiAgICAgICAgICAgICAgICB0W3BbaV1dID0gc1twW2ldXTtcclxuICAgICAgICB9XHJcbiAgICByZXR1cm4gdDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcclxuICAgIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XHJcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xyXG4gICAgZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcclxuICAgIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3BhcmFtKHBhcmFtSW5kZXgsIGRlY29yYXRvcikge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uICh0YXJnZXQsIGtleSkgeyBkZWNvcmF0b3IodGFyZ2V0LCBrZXksIHBhcmFtSW5kZXgpOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX21ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlKSB7XHJcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QubWV0YWRhdGEgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIFJlZmxlY3QubWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hd2FpdGVyKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xyXG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XHJcbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cclxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZ2VuZXJhdG9yKHRoaXNBcmcsIGJvZHkpIHtcclxuICAgIHZhciBfID0geyBsYWJlbDogMCwgc2VudDogZnVuY3Rpb24oKSB7IGlmICh0WzBdICYgMSkgdGhyb3cgdFsxXTsgcmV0dXJuIHRbMV07IH0sIHRyeXM6IFtdLCBvcHM6IFtdIH0sIGYsIHksIHQsIGc7XHJcbiAgICByZXR1cm4gZyA9IHsgbmV4dDogdmVyYigwKSwgXCJ0aHJvd1wiOiB2ZXJiKDEpLCBcInJldHVyblwiOiB2ZXJiKDIpIH0sIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiAoZ1tTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9KSwgZztcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyByZXR1cm4gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHN0ZXAoW24sIHZdKTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gc3RlcChvcCkge1xyXG4gICAgICAgIGlmIChmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtcclxuICAgICAgICB3aGlsZSAoXykgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKGYgPSAxLCB5ICYmICh0ID0gb3BbMF0gJiAyID8geVtcInJldHVyblwiXSA6IG9wWzBdID8geVtcInRocm93XCJdIHx8ICgodCA9IHlbXCJyZXR1cm5cIl0pICYmIHQuY2FsbCh5KSwgMCkgOiB5Lm5leHQpICYmICEodCA9IHQuY2FsbCh5LCBvcFsxXSkpLmRvbmUpIHJldHVybiB0O1xyXG4gICAgICAgICAgICBpZiAoeSA9IDAsIHQpIG9wID0gW29wWzBdICYgMiwgdC52YWx1ZV07XHJcbiAgICAgICAgICAgIHN3aXRjaCAob3BbMF0pIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgMDogY2FzZSAxOiB0ID0gb3A7IGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA0OiBfLmxhYmVsKys7IHJldHVybiB7IHZhbHVlOiBvcFsxXSwgZG9uZTogZmFsc2UgfTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNTogXy5sYWJlbCsrOyB5ID0gb3BbMV07IG9wID0gWzBdOyBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNzogb3AgPSBfLm9wcy5wb3AoKTsgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEodCA9IF8udHJ5cywgdCA9IHQubGVuZ3RoID4gMCAmJiB0W3QubGVuZ3RoIC0gMV0pICYmIChvcFswXSA9PT0gNiB8fCBvcFswXSA9PT0gMikpIHsgXyA9IDA7IGNvbnRpbnVlOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSAzICYmICghdCB8fCAob3BbMV0gPiB0WzBdICYmIG9wWzFdIDwgdFszXSkpKSB7IF8ubGFiZWwgPSBvcFsxXTsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDYgJiYgXy5sYWJlbCA8IHRbMV0pIHsgXy5sYWJlbCA9IHRbMV07IHQgPSBvcDsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodCAmJiBfLmxhYmVsIDwgdFsyXSkgeyBfLmxhYmVsID0gdFsyXTsgXy5vcHMucHVzaChvcCk7IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRbMl0pIF8ub3BzLnBvcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIF8udHJ5cy5wb3AoKTsgY29udGludWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgb3AgPSBib2R5LmNhbGwodGhpc0FyZywgXyk7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkgeyBvcCA9IFs2LCBlXTsgeSA9IDA7IH0gZmluYWxseSB7IGYgPSB0ID0gMDsgfVxyXG4gICAgICAgIGlmIChvcFswXSAmIDUpIHRocm93IG9wWzFdOyByZXR1cm4geyB2YWx1ZTogb3BbMF0gPyBvcFsxXSA6IHZvaWQgMCwgZG9uZTogdHJ1ZSB9O1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19jcmVhdGVCaW5kaW5nKG8sIG0sIGssIGsyKSB7XHJcbiAgICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xyXG4gICAgb1trMl0gPSBtW2tdO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19leHBvcnRTdGFyKG0sIGV4cG9ydHMpIHtcclxuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKHAgIT09IFwiZGVmYXVsdFwiICYmICFleHBvcnRzLmhhc093blByb3BlcnR5KHApKSBleHBvcnRzW3BdID0gbVtwXTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fdmFsdWVzKG8pIHtcclxuICAgIHZhciBzID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIFN5bWJvbC5pdGVyYXRvciwgbSA9IHMgJiYgb1tzXSwgaSA9IDA7XHJcbiAgICBpZiAobSkgcmV0dXJuIG0uY2FsbChvKTtcclxuICAgIGlmIChvICYmIHR5cGVvZiBvLmxlbmd0aCA9PT0gXCJudW1iZXJcIikgcmV0dXJuIHtcclxuICAgICAgICBuZXh0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmIChvICYmIGkgPj0gby5sZW5ndGgpIG8gPSB2b2lkIDA7XHJcbiAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihzID8gXCJPYmplY3QgaXMgbm90IGl0ZXJhYmxlLlwiIDogXCJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19yZWFkKG8sIG4pIHtcclxuICAgIHZhciBtID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXTtcclxuICAgIGlmICghbSkgcmV0dXJuIG87XHJcbiAgICB2YXIgaSA9IG0uY2FsbChvKSwgciwgYXIgPSBbXSwgZTtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgd2hpbGUgKChuID09PSB2b2lkIDAgfHwgbi0tID4gMCkgJiYgIShyID0gaS5uZXh0KCkpLmRvbmUpIGFyLnB1c2goci52YWx1ZSk7XHJcbiAgICB9XHJcbiAgICBjYXRjaCAoZXJyb3IpIHsgZSA9IHsgZXJyb3I6IGVycm9yIH07IH1cclxuICAgIGZpbmFsbHkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGlmIChyICYmICFyLmRvbmUgJiYgKG0gPSBpW1wicmV0dXJuXCJdKSkgbS5jYWxsKGkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmaW5hbGx5IHsgaWYgKGUpIHRocm93IGUuZXJyb3I7IH1cclxuICAgIH1cclxuICAgIHJldHVybiBhcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkKCkge1xyXG4gICAgZm9yICh2YXIgYXIgPSBbXSwgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspXHJcbiAgICAgICAgYXIgPSBhci5jb25jYXQoX19yZWFkKGFyZ3VtZW50c1tpXSkpO1xyXG4gICAgcmV0dXJuIGFyO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19zcHJlYWRBcnJheXMoKSB7XHJcbiAgICBmb3IgKHZhciBzID0gMCwgaSA9IDAsIGlsID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IGlsOyBpKyspIHMgKz0gYXJndW1lbnRzW2ldLmxlbmd0aDtcclxuICAgIGZvciAodmFyIHIgPSBBcnJheShzKSwgayA9IDAsIGkgPSAwOyBpIDwgaWw7IGkrKylcclxuICAgICAgICBmb3IgKHZhciBhID0gYXJndW1lbnRzW2ldLCBqID0gMCwgamwgPSBhLmxlbmd0aDsgaiA8IGpsOyBqKyssIGsrKylcclxuICAgICAgICAgICAgcltrXSA9IGFbal07XHJcbiAgICByZXR1cm4gcjtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2F3YWl0KHYpIHtcclxuICAgIHJldHVybiB0aGlzIGluc3RhbmNlb2YgX19hd2FpdCA/ICh0aGlzLnYgPSB2LCB0aGlzKSA6IG5ldyBfX2F3YWl0KHYpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY0dlbmVyYXRvcih0aGlzQXJnLCBfYXJndW1lbnRzLCBnZW5lcmF0b3IpIHtcclxuICAgIGlmICghU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNJdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XHJcbiAgICB2YXIgZyA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSwgaSwgcSA9IFtdO1xyXG4gICAgcmV0dXJuIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiKSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IGlmIChnW25dKSBpW25dID0gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChhLCBiKSB7IHEucHVzaChbbiwgdiwgYSwgYl0pID4gMSB8fCByZXN1bWUobiwgdik7IH0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiByZXN1bWUobiwgdikgeyB0cnkgeyBzdGVwKGdbbl0odikpOyB9IGNhdGNoIChlKSB7IHNldHRsZShxWzBdWzNdLCBlKTsgfSB9XHJcbiAgICBmdW5jdGlvbiBzdGVwKHIpIHsgci52YWx1ZSBpbnN0YW5jZW9mIF9fYXdhaXQgPyBQcm9taXNlLnJlc29sdmUoci52YWx1ZS52KS50aGVuKGZ1bGZpbGwsIHJlamVjdCkgOiBzZXR0bGUocVswXVsyXSwgcik7IH1cclxuICAgIGZ1bmN0aW9uIGZ1bGZpbGwodmFsdWUpIHsgcmVzdW1lKFwibmV4dFwiLCB2YWx1ZSk7IH1cclxuICAgIGZ1bmN0aW9uIHJlamVjdCh2YWx1ZSkgeyByZXN1bWUoXCJ0aHJvd1wiLCB2YWx1ZSk7IH1cclxuICAgIGZ1bmN0aW9uIHNldHRsZShmLCB2KSB7IGlmIChmKHYpLCBxLnNoaWZ0KCksIHEubGVuZ3RoKSByZXN1bWUocVswXVswXSwgcVswXVsxXSk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNEZWxlZ2F0b3Iobykge1xyXG4gICAgdmFyIGksIHA7XHJcbiAgICByZXR1cm4gaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIsIGZ1bmN0aW9uIChlKSB7IHRocm93IGU7IH0pLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuLCBmKSB7IGlbbl0gPSBvW25dID8gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIChwID0gIXApID8geyB2YWx1ZTogX19hd2FpdChvW25dKHYpKSwgZG9uZTogbiA9PT0gXCJyZXR1cm5cIiB9IDogZiA/IGYodikgOiB2OyB9IDogZjsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY1ZhbHVlcyhvKSB7XHJcbiAgICBpZiAoIVN5bWJvbC5hc3luY0l0ZXJhdG9yKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmFzeW5jSXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xyXG4gICAgdmFyIG0gPSBvW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSwgaTtcclxuICAgIHJldHVybiBtID8gbS5jYWxsKG8pIDogKG8gPSB0eXBlb2YgX192YWx1ZXMgPT09IFwiZnVuY3Rpb25cIiA/IF9fdmFsdWVzKG8pIDogb1tTeW1ib2wuaXRlcmF0b3JdKCksIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiKSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpKTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyBpW25dID0gb1tuXSAmJiBmdW5jdGlvbiAodikgeyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgeyB2ID0gb1tuXSh2KSwgc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgdi5kb25lLCB2LnZhbHVlKTsgfSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHNldHRsZShyZXNvbHZlLCByZWplY3QsIGQsIHYpIHsgUHJvbWlzZS5yZXNvbHZlKHYpLnRoZW4oZnVuY3Rpb24odikgeyByZXNvbHZlKHsgdmFsdWU6IHYsIGRvbmU6IGQgfSk7IH0sIHJlamVjdCk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fbWFrZVRlbXBsYXRlT2JqZWN0KGNvb2tlZCwgcmF3KSB7XHJcbiAgICBpZiAoT2JqZWN0LmRlZmluZVByb3BlcnR5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjb29rZWQsIFwicmF3XCIsIHsgdmFsdWU6IHJhdyB9KTsgfSBlbHNlIHsgY29va2VkLnJhdyA9IHJhdzsgfVxyXG4gICAgcmV0dXJuIGNvb2tlZDtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2ltcG9ydFN0YXIobW9kKSB7XHJcbiAgICBpZiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSByZXR1cm4gbW9kO1xyXG4gICAgdmFyIHJlc3VsdCA9IHt9O1xyXG4gICAgaWYgKG1vZCAhPSBudWxsKSBmb3IgKHZhciBrIGluIG1vZCkgaWYgKE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1vZCwgaykpIHJlc3VsdFtrXSA9IG1vZFtrXTtcclxuICAgIHJlc3VsdC5kZWZhdWx0ID0gbW9kO1xyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9faW1wb3J0RGVmYXVsdChtb2QpIHtcclxuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgZGVmYXVsdDogbW9kIH07XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHJlY2VpdmVyLCBwcml2YXRlTWFwKSB7XHJcbiAgICBpZiAoIXByaXZhdGVNYXAuaGFzKHJlY2VpdmVyKSkge1xyXG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJhdHRlbXB0ZWQgdG8gZ2V0IHByaXZhdGUgZmllbGQgb24gbm9uLWluc3RhbmNlXCIpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHByaXZhdGVNYXAuZ2V0KHJlY2VpdmVyKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fY2xhc3NQcml2YXRlRmllbGRTZXQocmVjZWl2ZXIsIHByaXZhdGVNYXAsIHZhbHVlKSB7XHJcbiAgICBpZiAoIXByaXZhdGVNYXAuaGFzKHJlY2VpdmVyKSkge1xyXG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJhdHRlbXB0ZWQgdG8gc2V0IHByaXZhdGUgZmllbGQgb24gbm9uLWluc3RhbmNlXCIpO1xyXG4gICAgfVxyXG4gICAgcHJpdmF0ZU1hcC5zZXQocmVjZWl2ZXIsIHZhbHVlKTtcclxuICAgIHJldHVybiB2YWx1ZTtcclxufVxyXG4iLCIvKipcbiAqIDIwMDctMjAyMCBQcmVzdGFTaG9wIGFuZCBDb250cmlidXRvcnNcbiAqXG4gKiBOT1RJQ0UgT0YgTElDRU5TRVxuICpcbiAqIFRoaXMgc291cmNlIGZpbGUgaXMgc3ViamVjdCB0byB0aGUgQWNhZGVtaWMgRnJlZSBMaWNlbnNlIDMuMCAoQUZMLTMuMClcbiAqIHRoYXQgaXMgYnVuZGxlZCB3aXRoIHRoaXMgcGFja2FnZSBpbiB0aGUgZmlsZSBMSUNFTlNFLnR4dC5cbiAqIEl0IGlzIGFsc28gYXZhaWxhYmxlIHRocm91Z2ggdGhlIHdvcmxkLXdpZGUtd2ViIGF0IHRoaXMgVVJMOlxuICogaHR0cHM6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9BRkwtMy4wXG4gKiBJZiB5b3UgZGlkIG5vdCByZWNlaXZlIGEgY29weSBvZiB0aGUgbGljZW5zZSBhbmQgYXJlIHVuYWJsZSB0b1xuICogb2J0YWluIGl0IHRocm91Z2ggdGhlIHdvcmxkLXdpZGUtd2ViLCBwbGVhc2Ugc2VuZCBhbiBlbWFpbFxuICogdG8gbGljZW5zZUBwcmVzdGFzaG9wLmNvbSBzbyB3ZSBjYW4gc2VuZCB5b3UgYSBjb3B5IGltbWVkaWF0ZWx5LlxuICpcbiAqIEBhdXRob3IgICAgUHJlc3RhU2hvcCBTQSA8Y29udGFjdEBwcmVzdGFzaG9wLmNvbT5cbiAqIEBjb3B5cmlnaHQgMjAwNy0yMDIwIFByZXN0YVNob3AgU0EgYW5kIENvbnRyaWJ1dG9yc1xuICogQGxpY2Vuc2UgICBodHRwczovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL0FGTC0zLjAgQWNhZGVtaWMgRnJlZSBMaWNlbnNlIDMuMCAoQUZMLTMuMClcbiAqIEludGVybmF0aW9uYWwgUmVnaXN0ZXJlZCBUcmFkZW1hcmsgJiBQcm9wZXJ0eSBvZiBQcmVzdGFTaG9wIFNBXG4gKi9cbmltcG9ydCBWdWUgZnJvbSAndnVlJztcbmltcG9ydCBwcmVzdGFzaG9wIGZyb20gJ3ByZXN0YXNob3AnO1xuXG5jb25zdCBFdmVudEJ1cyA9IG5ldyBWdWUoKTtcblxud2luZG93Lldpc2hsaXN0RXZlbnRCdXMgPSBFdmVudEJ1cztcblxucHJlc3Rhc2hvcC5lbWl0KCd3aXNobGlzdEV2ZW50QnVzSW5pdCcpO1xuXG5leHBvcnQgZGVmYXVsdCBFdmVudEJ1cztcbiIsIi8qKlxuICogMjAwNy0yMDIwIFByZXN0YVNob3AgYW5kIENvbnRyaWJ1dG9yc1xuICpcbiAqIE5PVElDRSBPRiBMSUNFTlNFXG4gKlxuICogVGhpcyBzb3VyY2UgZmlsZSBpcyBzdWJqZWN0IHRvIHRoZSBBY2FkZW1pYyBGcmVlIExpY2Vuc2UgMy4wIChBRkwtMy4wKVxuICogdGhhdCBpcyBidW5kbGVkIHdpdGggdGhpcyBwYWNrYWdlIGluIHRoZSBmaWxlIExJQ0VOU0UudHh0LlxuICogSXQgaXMgYWxzbyBhdmFpbGFibGUgdGhyb3VnaCB0aGUgd29ybGQtd2lkZS13ZWIgYXQgdGhpcyBVUkw6XG4gKiBodHRwczovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL0FGTC0zLjBcbiAqIElmIHlvdSBkaWQgbm90IHJlY2VpdmUgYSBjb3B5IG9mIHRoZSBsaWNlbnNlIGFuZCBhcmUgdW5hYmxlIHRvXG4gKiBvYnRhaW4gaXQgdGhyb3VnaCB0aGUgd29ybGQtd2lkZS13ZWIsIHBsZWFzZSBzZW5kIGFuIGVtYWlsXG4gKiB0byBsaWNlbnNlQHByZXN0YXNob3AuY29tIHNvIHdlIGNhbiBzZW5kIHlvdSBhIGNvcHkgaW1tZWRpYXRlbHkuXG4gKlxuICogQGF1dGhvciAgICBQcmVzdGFTaG9wIFNBIDxjb250YWN0QHByZXN0YXNob3AuY29tPlxuICogQGNvcHlyaWdodCAyMDA3LTIwMjAgUHJlc3RhU2hvcCBTQSBhbmQgQ29udHJpYnV0b3JzXG4gKiBAbGljZW5zZSAgIGh0dHBzOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvQUZMLTMuMCBBY2FkZW1pYyBGcmVlIExpY2Vuc2UgMy4wIChBRkwtMy4wKVxuICogSW50ZXJuYXRpb25hbCBSZWdpc3RlcmVkIFRyYWRlbWFyayAmIFByb3BlcnR5IG9mIFByZXN0YVNob3AgU0FcbiAqL1xuXG5pbXBvcnQgZ3FsIGZyb20gJ2dyYXBocWwtdGFnJztcblxuZXhwb3J0IGRlZmF1bHQgZ3FsYFxuICBtdXRhdGlvbiByZW1vdmVGcm9tTGlzdCgkbGlzdElkOiBJbnQhLCAkcHJvZHVjdElkOiBJbnQhLCAkcHJvZHVjdEF0dHJpYnV0ZUlkOiBJbnQhLCAkdXJsOiBTdHJpbmchKSB7XG4gICAgcmVtb3ZlRnJvbUxpc3QobGlzdElkOiAkbGlzdElkLCBwcm9kdWN0SWQ6ICRwcm9kdWN0SWQsIHByb2R1Y3RBdHRyaWJ1dGVJZDogJHByb2R1Y3RBdHRyaWJ1dGVJZCwgdXJsOiAkdXJsKSB7XG4gICAgICBzdWNjZXNzXG4gICAgICBtZXNzYWdlXG4gICAgfVxuICB9XG5gO1xuIiwidmFyIHJlbmRlciA9IGZ1bmN0aW9uKCkge1xuICB2YXIgX3ZtID0gdGhpc1xuICB2YXIgX2ggPSBfdm0uJGNyZWF0ZUVsZW1lbnRcbiAgdmFyIF9jID0gX3ZtLl9zZWxmLl9jIHx8IF9oXG4gIHJldHVybiBfYyhcImRpdlwiLCBbXG4gICAgdGhpcy50ZXN0XG4gICAgICA/IF9jKFxuICAgICAgICAgIFwiYnV0dG9uXCIsXG4gICAgICAgICAge1xuICAgICAgICAgICAgc3RhdGljQ2xhc3M6IFwid2lzaGxpc3QtYnV0dG9uLWFkZFwiLFxuICAgICAgICAgICAgY2xhc3M6IHsgXCJ3aXNobGlzdC1idXR0b24tcHJvZHVjdFwiOiBfdm0uaXNQcm9kdWN0IH0sXG4gICAgICAgICAgICBvbjogeyBjbGljazogX3ZtLmFkZFRvV2lzaGxpc3QgfVxuICAgICAgICAgIH0sXG4gICAgICAgICAgW1xuICAgICAgICAgICAgX3ZtLmlzQ2hlY2tlZFxuICAgICAgICAgICAgICA/IF9jKFwiaVwiLCB7IHN0YXRpY0NsYXNzOiBcIm1hdGVyaWFsLWljb25zXCIgfSwgW1xuICAgICAgICAgICAgICAgICAgX3ZtLl92KFwiZmF2b3JpdGUgXCIpXG4gICAgICAgICAgICAgICAgXSlcbiAgICAgICAgICAgICAgOiBfYyhcImlcIiwgeyBzdGF0aWNDbGFzczogXCJtYXRlcmlhbC1pY29uc1wiIH0sIFtcbiAgICAgICAgICAgICAgICAgIF92bS5fdihcImZhdm9yaXRlX2JvcmRlclwiKVxuICAgICAgICAgICAgICAgIF0pXG4gICAgICAgICAgXVxuICAgICAgICApXG4gICAgICA6IF92bS5fZSgpXG4gIF0pXG59XG52YXIgc3RhdGljUmVuZGVyRm5zID0gW11cbnJlbmRlci5fd2l0aFN0cmlwcGVkID0gdHJ1ZVxuXG5leHBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IiwidmFyIGc7XG5cbi8vIFRoaXMgd29ya3MgaW4gbm9uLXN0cmljdCBtb2RlXG5nID0gKGZ1bmN0aW9uKCkge1xuXHRyZXR1cm4gdGhpcztcbn0pKCk7XG5cbnRyeSB7XG5cdC8vIFRoaXMgd29ya3MgaWYgZXZhbCBpcyBhbGxvd2VkIChzZWUgQ1NQKVxuXHRnID0gZyB8fCBuZXcgRnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpO1xufSBjYXRjaCAoZSkge1xuXHQvLyBUaGlzIHdvcmtzIGlmIHRoZSB3aW5kb3cgcmVmZXJlbmNlIGlzIGF2YWlsYWJsZVxuXHRpZiAodHlwZW9mIHdpbmRvdyA9PT0gXCJvYmplY3RcIikgZyA9IHdpbmRvdztcbn1cblxuLy8gZyBjYW4gc3RpbGwgYmUgdW5kZWZpbmVkLCBidXQgbm90aGluZyB0byBkbyBhYm91dCBpdC4uLlxuLy8gV2UgcmV0dXJuIHVuZGVmaW5lZCwgaW5zdGVhZCBvZiBub3RoaW5nIGhlcmUsIHNvIGl0J3Ncbi8vIGVhc2llciB0byBoYW5kbGUgdGhpcyBjYXNlLiBpZighZ2xvYmFsKSB7IC4uLn1cblxubW9kdWxlLmV4cG9ydHMgPSBnO1xuIiwiLy8gc3R5bGUtbG9hZGVyOiBBZGRzIHNvbWUgY3NzIHRvIHRoZSBET00gYnkgYWRkaW5nIGEgPHN0eWxlPiB0YWdcblxuLy8gbG9hZCB0aGUgc3R5bGVzXG52YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9sb2FkZXJzL3N0eWxlUG9zdExvYWRlci5qcyEuLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvZGlzdC9janMuanMhLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9CdXR0b24udnVlP3Z1ZSZ0eXBlPXN0eWxlJmluZGV4PTAmbGFuZz1zY3NzJlwiKTtcbmlmKGNvbnRlbnQuX19lc01vZHVsZSkgY29udGVudCA9IGNvbnRlbnQuZGVmYXVsdDtcbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuaWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG4vLyBhZGQgdGhlIHN0eWxlcyB0byB0aGUgRE9NXG52YXIgYWRkID0gcmVxdWlyZShcIiEuLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLXN0eWxlLWxvYWRlci9saWIvYWRkU3R5bGVzQ2xpZW50LmpzXCIpLmRlZmF1bHRcbnZhciB1cGRhdGUgPSBhZGQoXCIwZTRkYzQyMFwiLCBjb250ZW50LCBmYWxzZSwge30pO1xuLy8gSG90IE1vZHVsZSBSZXBsYWNlbWVudFxuaWYobW9kdWxlLmhvdCkge1xuIC8vIFdoZW4gdGhlIHN0eWxlcyBjaGFuZ2UsIHVwZGF0ZSB0aGUgPHN0eWxlPiB0YWdzXG4gaWYoIWNvbnRlbnQubG9jYWxzKSB7XG4gICBtb2R1bGUuaG90LmFjY2VwdChcIiEhLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2xvYWRlcnMvc3R5bGVQb3N0TG9hZGVyLmpzIS4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9kaXN0L2Nqcy5qcyEuLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL0J1dHRvbi52dWU/dnVlJnR5cGU9c3R5bGUmaW5kZXg9MCZsYW5nPXNjc3MmXCIsIGZ1bmN0aW9uKCkge1xuICAgICB2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9sb2FkZXJzL3N0eWxlUG9zdExvYWRlci5qcyEuLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvZGlzdC9janMuanMhLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9CdXR0b24udnVlP3Z1ZSZ0eXBlPXN0eWxlJmluZGV4PTAmbGFuZz1zY3NzJlwiKTtcbiAgICAgaWYobmV3Q29udGVudC5fX2VzTW9kdWxlKSBuZXdDb250ZW50ID0gbmV3Q29udGVudC5kZWZhdWx0O1xuICAgICBpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcbiAgICAgdXBkYXRlKG5ld0NvbnRlbnQpO1xuICAgfSk7XG4gfVxuIC8vIFdoZW4gdGhlIG1vZHVsZSBpcyBkaXNwb3NlZCwgcmVtb3ZlIHRoZSA8c3R5bGU+IHRhZ3NcbiBtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcbn0iLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJyZWdlbmVyYXRvci1ydW50aW1lXCIpO1xuIiwiLyoqXG4gKiAyMDA3LTIwMjAgUHJlc3RhU2hvcCBhbmQgQ29udHJpYnV0b3JzXG4gKlxuICogTk9USUNFIE9GIExJQ0VOU0VcbiAqXG4gKiBUaGlzIHNvdXJjZSBmaWxlIGlzIHN1YmplY3QgdG8gdGhlIEFjYWRlbWljIEZyZWUgTGljZW5zZSAzLjAgKEFGTC0zLjApXG4gKiB0aGF0IGlzIGJ1bmRsZWQgd2l0aCB0aGlzIHBhY2thZ2UgaW4gdGhlIGZpbGUgTElDRU5TRS50eHQuXG4gKiBJdCBpcyBhbHNvIGF2YWlsYWJsZSB0aHJvdWdoIHRoZSB3b3JsZC13aWRlLXdlYiBhdCB0aGlzIFVSTDpcbiAqIGh0dHBzOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvQUZMLTMuMFxuICogSWYgeW91IGRpZCBub3QgcmVjZWl2ZSBhIGNvcHkgb2YgdGhlIGxpY2Vuc2UgYW5kIGFyZSB1bmFibGUgdG9cbiAqIG9idGFpbiBpdCB0aHJvdWdoIHRoZSB3b3JsZC13aWRlLXdlYiwgcGxlYXNlIHNlbmQgYW4gZW1haWxcbiAqIHRvIGxpY2Vuc2VAcHJlc3Rhc2hvcC5jb20gc28gd2UgY2FuIHNlbmQgeW91IGEgY29weSBpbW1lZGlhdGVseS5cbiAqXG4gKiBAYXV0aG9yICAgIFByZXN0YVNob3AgU0EgPGNvbnRhY3RAcHJlc3Rhc2hvcC5jb20+XG4gKiBAY29weXJpZ2h0IDIwMDctMjAyMCBQcmVzdGFTaG9wIFNBIGFuZCBDb250cmlidXRvcnNcbiAqIEBsaWNlbnNlICAgaHR0cHM6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9BRkwtMy4wIEFjYWRlbWljIEZyZWUgTGljZW5zZSAzLjAgKEFGTC0zLjApXG4gKiBJbnRlcm5hdGlvbmFsIFJlZ2lzdGVyZWQgVHJhZGVtYXJrICYgUHJvcGVydHkgb2YgUHJlc3RhU2hvcCBTQVxuICovXG5pbXBvcnQgaW5pdEFwcCBmcm9tICdAY29tcG9uZW50cy9pbml0JztcbmltcG9ydCBCdXR0b24gZnJvbSAnLi9CdXR0b24nO1xuXG5jb25zdCBpbml0QnV0dG9ucyA9ICgpID0+IHtcbiAgY29uc3QgcHJvcHMgPSBbXG4gICAge1xuICAgICAgbmFtZTogJ3VybCcsXG4gICAgICB0eXBlOiBTdHJpbmcsXG4gICAgfSxcbiAgICB7XG4gICAgICBuYW1lOiAnY2hlY2tlZCcsXG4gICAgICB0eXBlOiBCb29sZWFuLFxuICAgIH0sXG4gICAge1xuICAgICAgbmFtZTogJ3Byb2R1Y3RJZCcsXG4gICAgICB0eXBlOiBOdW1iZXIsXG4gICAgfSxcbiAgICB7XG4gICAgICBuYW1lOiAncHJvZHVjdEF0dHJpYnV0ZUlkJyxcbiAgICAgIHR5cGU6IE51bWJlcixcbiAgICB9LFxuICAgIHtcbiAgICAgIG5hbWU6ICdpc1Byb2R1Y3QnLFxuICAgICAgdHlwZTogQm9vbGVhbixcbiAgICB9LFxuICBdO1xuXG4gIGluaXRBcHAoQnV0dG9uLCAnLndpc2hsaXN0LWJ1dHRvbicsIHByb3BzKTtcbn07XG5cbmluaXRCdXR0b25zKCk7XG5cbmV4cG9ydCBkZWZhdWx0IGluaXRCdXR0b25zO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfcHJvbWlzZSA9IHJlcXVpcmUoXCIuLi9jb3JlLWpzL3Byb21pc2VcIik7XG5cbnZhciBfcHJvbWlzZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wcm9taXNlKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKGZuKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGdlbiA9IGZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgcmV0dXJuIG5ldyBfcHJvbWlzZTIuZGVmYXVsdChmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICBmdW5jdGlvbiBzdGVwKGtleSwgYXJnKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgdmFyIGluZm8gPSBnZW5ba2V5XShhcmcpO1xuICAgICAgICAgIHZhciB2YWx1ZSA9IGluZm8udmFsdWU7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaW5mby5kb25lKSB7XG4gICAgICAgICAgcmVzb2x2ZSh2YWx1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIF9wcm9taXNlMi5kZWZhdWx0LnJlc29sdmUodmFsdWUpLnRoZW4oZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBzdGVwKFwibmV4dFwiLCB2YWx1ZSk7XG4gICAgICAgICAgfSwgZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgc3RlcChcInRocm93XCIsIGVycik7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHN0ZXAoXCJuZXh0XCIpO1xuICAgIH0pO1xuICB9O1xufTsiLCJcInVzZSBzdHJpY3RcIjtcblxuLypcbiAgTUlUIExpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcbiAgQXV0aG9yIFRvYmlhcyBLb3BwZXJzIEBzb2tyYVxuKi9cbi8vIGNzcyBiYXNlIGNvZGUsIGluamVjdGVkIGJ5IHRoZSBjc3MtbG9hZGVyXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuYy1uYW1lc1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAodXNlU291cmNlTWFwKSB7XG4gIHZhciBsaXN0ID0gW107IC8vIHJldHVybiB0aGUgbGlzdCBvZiBtb2R1bGVzIGFzIGNzcyBzdHJpbmdcblxuICBsaXN0LnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG4gICAgcmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICB2YXIgY29udGVudCA9IGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcoaXRlbSwgdXNlU291cmNlTWFwKTtcblxuICAgICAgaWYgKGl0ZW1bMl0pIHtcbiAgICAgICAgcmV0dXJuIFwiQG1lZGlhIFwiLmNvbmNhdChpdGVtWzJdLCBcIiB7XCIpLmNvbmNhdChjb250ZW50LCBcIn1cIik7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBjb250ZW50O1xuICAgIH0pLmpvaW4oJycpO1xuICB9OyAvLyBpbXBvcnQgYSBsaXN0IG9mIG1vZHVsZXMgaW50byB0aGUgbGlzdFxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuYy1uYW1lc1xuXG5cbiAgbGlzdC5pID0gZnVuY3Rpb24gKG1vZHVsZXMsIG1lZGlhUXVlcnksIGRlZHVwZSkge1xuICAgIGlmICh0eXBlb2YgbW9kdWxlcyA9PT0gJ3N0cmluZycpIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICAgICAgbW9kdWxlcyA9IFtbbnVsbCwgbW9kdWxlcywgJyddXTtcbiAgICB9XG5cbiAgICB2YXIgYWxyZWFkeUltcG9ydGVkTW9kdWxlcyA9IHt9O1xuXG4gICAgaWYgKGRlZHVwZSkge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBwcmVmZXItZGVzdHJ1Y3R1cmluZ1xuICAgICAgICB2YXIgaWQgPSB0aGlzW2ldWzBdO1xuXG4gICAgICAgIGlmIChpZCAhPSBudWxsKSB7XG4gICAgICAgICAgYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpZF0gPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IG1vZHVsZXMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICB2YXIgaXRlbSA9IFtdLmNvbmNhdChtb2R1bGVzW19pXSk7XG5cbiAgICAgIGlmIChkZWR1cGUgJiYgYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpdGVtWzBdXSkge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29udGludWVcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGlmIChtZWRpYVF1ZXJ5KSB7XG4gICAgICAgIGlmICghaXRlbVsyXSkge1xuICAgICAgICAgIGl0ZW1bMl0gPSBtZWRpYVF1ZXJ5O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGl0ZW1bMl0gPSBcIlwiLmNvbmNhdChtZWRpYVF1ZXJ5LCBcIiBhbmQgXCIpLmNvbmNhdChpdGVtWzJdKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBsaXN0LnB1c2goaXRlbSk7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiBsaXN0O1xufTtcblxuZnVuY3Rpb24gY3NzV2l0aE1hcHBpbmdUb1N0cmluZyhpdGVtLCB1c2VTb3VyY2VNYXApIHtcbiAgdmFyIGNvbnRlbnQgPSBpdGVtWzFdIHx8ICcnOyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcHJlZmVyLWRlc3RydWN0dXJpbmdcblxuICB2YXIgY3NzTWFwcGluZyA9IGl0ZW1bM107XG5cbiAgaWYgKCFjc3NNYXBwaW5nKSB7XG4gICAgcmV0dXJuIGNvbnRlbnQ7XG4gIH1cblxuICBpZiAodXNlU291cmNlTWFwICYmIHR5cGVvZiBidG9hID09PSAnZnVuY3Rpb24nKSB7XG4gICAgdmFyIHNvdXJjZU1hcHBpbmcgPSB0b0NvbW1lbnQoY3NzTWFwcGluZyk7XG4gICAgdmFyIHNvdXJjZVVSTHMgPSBjc3NNYXBwaW5nLnNvdXJjZXMubWFwKGZ1bmN0aW9uIChzb3VyY2UpIHtcbiAgICAgIHJldHVybiBcIi8qIyBzb3VyY2VVUkw9XCIuY29uY2F0KGNzc01hcHBpbmcuc291cmNlUm9vdCB8fCAnJykuY29uY2F0KHNvdXJjZSwgXCIgKi9cIik7XG4gICAgfSk7XG4gICAgcmV0dXJuIFtjb250ZW50XS5jb25jYXQoc291cmNlVVJMcykuY29uY2F0KFtzb3VyY2VNYXBwaW5nXSkuam9pbignXFxuJyk7XG4gIH1cblxuICByZXR1cm4gW2NvbnRlbnRdLmpvaW4oJ1xcbicpO1xufSAvLyBBZGFwdGVkIGZyb20gY29udmVydC1zb3VyY2UtbWFwIChNSVQpXG5cblxuZnVuY3Rpb24gdG9Db21tZW50KHNvdXJjZU1hcCkge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcbiAgdmFyIGJhc2U2NCA9IGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSk7XG4gIHZhciBkYXRhID0gXCJzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxcIi5jb25jYXQoYmFzZTY0KTtcbiAgcmV0dXJuIFwiLyojIFwiLmNvbmNhdChkYXRhLCBcIiAqL1wiKTtcbn0iLCIvKipcbiAqIFRyYW5zbGF0ZXMgdGhlIGxpc3QgZm9ybWF0IHByb2R1Y2VkIGJ5IGNzcy1sb2FkZXIgaW50byBzb21ldGhpbmdcbiAqIGVhc2llciB0byBtYW5pcHVsYXRlLlxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBsaXN0VG9TdHlsZXMgKHBhcmVudElkLCBsaXN0KSB7XG4gIHZhciBzdHlsZXMgPSBbXVxuICB2YXIgbmV3U3R5bGVzID0ge31cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGl0ZW0gPSBsaXN0W2ldXG4gICAgdmFyIGlkID0gaXRlbVswXVxuICAgIHZhciBjc3MgPSBpdGVtWzFdXG4gICAgdmFyIG1lZGlhID0gaXRlbVsyXVxuICAgIHZhciBzb3VyY2VNYXAgPSBpdGVtWzNdXG4gICAgdmFyIHBhcnQgPSB7XG4gICAgICBpZDogcGFyZW50SWQgKyAnOicgKyBpLFxuICAgICAgY3NzOiBjc3MsXG4gICAgICBtZWRpYTogbWVkaWEsXG4gICAgICBzb3VyY2VNYXA6IHNvdXJjZU1hcFxuICAgIH1cbiAgICBpZiAoIW5ld1N0eWxlc1tpZF0pIHtcbiAgICAgIHN0eWxlcy5wdXNoKG5ld1N0eWxlc1tpZF0gPSB7IGlkOiBpZCwgcGFydHM6IFtwYXJ0XSB9KVxuICAgIH0gZWxzZSB7XG4gICAgICBuZXdTdHlsZXNbaWRdLnBhcnRzLnB1c2gocGFydClcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHN0eWxlc1xufVxuIiwiLypcbiAgTUlUIExpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcbiAgQXV0aG9yIFRvYmlhcyBLb3BwZXJzIEBzb2tyYVxuICBNb2RpZmllZCBieSBFdmFuIFlvdSBAeXl4OTkwODAzXG4qL1xuXG5pbXBvcnQgbGlzdFRvU3R5bGVzIGZyb20gJy4vbGlzdFRvU3R5bGVzJ1xuXG52YXIgaGFzRG9jdW1lbnQgPSB0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnXG5cbmlmICh0eXBlb2YgREVCVUcgIT09ICd1bmRlZmluZWQnICYmIERFQlVHKSB7XG4gIGlmICghaGFzRG9jdW1lbnQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgJ3Z1ZS1zdHlsZS1sb2FkZXIgY2Fubm90IGJlIHVzZWQgaW4gYSBub24tYnJvd3NlciBlbnZpcm9ubWVudC4gJyArXG4gICAgXCJVc2UgeyB0YXJnZXQ6ICdub2RlJyB9IGluIHlvdXIgV2VicGFjayBjb25maWcgdG8gaW5kaWNhdGUgYSBzZXJ2ZXItcmVuZGVyaW5nIGVudmlyb25tZW50LlwiXG4gICkgfVxufVxuXG4vKlxudHlwZSBTdHlsZU9iamVjdCA9IHtcbiAgaWQ6IG51bWJlcjtcbiAgcGFydHM6IEFycmF5PFN0eWxlT2JqZWN0UGFydD5cbn1cblxudHlwZSBTdHlsZU9iamVjdFBhcnQgPSB7XG4gIGNzczogc3RyaW5nO1xuICBtZWRpYTogc3RyaW5nO1xuICBzb3VyY2VNYXA6ID9zdHJpbmdcbn1cbiovXG5cbnZhciBzdHlsZXNJbkRvbSA9IHsvKlxuICBbaWQ6IG51bWJlcl06IHtcbiAgICBpZDogbnVtYmVyLFxuICAgIHJlZnM6IG51bWJlcixcbiAgICBwYXJ0czogQXJyYXk8KG9iaj86IFN0eWxlT2JqZWN0UGFydCkgPT4gdm9pZD5cbiAgfVxuKi99XG5cbnZhciBoZWFkID0gaGFzRG9jdW1lbnQgJiYgKGRvY3VtZW50LmhlYWQgfHwgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2hlYWQnKVswXSlcbnZhciBzaW5nbGV0b25FbGVtZW50ID0gbnVsbFxudmFyIHNpbmdsZXRvbkNvdW50ZXIgPSAwXG52YXIgaXNQcm9kdWN0aW9uID0gZmFsc2VcbnZhciBub29wID0gZnVuY3Rpb24gKCkge31cbnZhciBvcHRpb25zID0gbnVsbFxudmFyIHNzcklkS2V5ID0gJ2RhdGEtdnVlLXNzci1pZCdcblxuLy8gRm9yY2Ugc2luZ2xlLXRhZyBzb2x1dGlvbiBvbiBJRTYtOSwgd2hpY2ggaGFzIGEgaGFyZCBsaW1pdCBvbiB0aGUgIyBvZiA8c3R5bGU+XG4vLyB0YWdzIGl0IHdpbGwgYWxsb3cgb24gYSBwYWdlXG52YXIgaXNPbGRJRSA9IHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnICYmIC9tc2llIFs2LTldXFxiLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKSlcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gYWRkU3R5bGVzQ2xpZW50IChwYXJlbnRJZCwgbGlzdCwgX2lzUHJvZHVjdGlvbiwgX29wdGlvbnMpIHtcbiAgaXNQcm9kdWN0aW9uID0gX2lzUHJvZHVjdGlvblxuXG4gIG9wdGlvbnMgPSBfb3B0aW9ucyB8fCB7fVxuXG4gIHZhciBzdHlsZXMgPSBsaXN0VG9TdHlsZXMocGFyZW50SWQsIGxpc3QpXG4gIGFkZFN0eWxlc1RvRG9tKHN0eWxlcylcblxuICByZXR1cm4gZnVuY3Rpb24gdXBkYXRlIChuZXdMaXN0KSB7XG4gICAgdmFyIG1heVJlbW92ZSA9IFtdXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHlsZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBpdGVtID0gc3R5bGVzW2ldXG4gICAgICB2YXIgZG9tU3R5bGUgPSBzdHlsZXNJbkRvbVtpdGVtLmlkXVxuICAgICAgZG9tU3R5bGUucmVmcy0tXG4gICAgICBtYXlSZW1vdmUucHVzaChkb21TdHlsZSlcbiAgICB9XG4gICAgaWYgKG5ld0xpc3QpIHtcbiAgICAgIHN0eWxlcyA9IGxpc3RUb1N0eWxlcyhwYXJlbnRJZCwgbmV3TGlzdClcbiAgICAgIGFkZFN0eWxlc1RvRG9tKHN0eWxlcylcbiAgICB9IGVsc2Uge1xuICAgICAgc3R5bGVzID0gW11cbiAgICB9XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtYXlSZW1vdmUubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBkb21TdHlsZSA9IG1heVJlbW92ZVtpXVxuICAgICAgaWYgKGRvbVN0eWxlLnJlZnMgPT09IDApIHtcbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBkb21TdHlsZS5wYXJ0cy5sZW5ndGg7IGorKykge1xuICAgICAgICAgIGRvbVN0eWxlLnBhcnRzW2pdKClcbiAgICAgICAgfVxuICAgICAgICBkZWxldGUgc3R5bGVzSW5Eb21bZG9tU3R5bGUuaWRdXG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGFkZFN0eWxlc1RvRG9tIChzdHlsZXMgLyogQXJyYXk8U3R5bGVPYmplY3Q+ICovKSB7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgc3R5bGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGl0ZW0gPSBzdHlsZXNbaV1cbiAgICB2YXIgZG9tU3R5bGUgPSBzdHlsZXNJbkRvbVtpdGVtLmlkXVxuICAgIGlmIChkb21TdHlsZSkge1xuICAgICAgZG9tU3R5bGUucmVmcysrXG4gICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGRvbVN0eWxlLnBhcnRzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgIGRvbVN0eWxlLnBhcnRzW2pdKGl0ZW0ucGFydHNbal0pXG4gICAgICB9XG4gICAgICBmb3IgKDsgaiA8IGl0ZW0ucGFydHMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgZG9tU3R5bGUucGFydHMucHVzaChhZGRTdHlsZShpdGVtLnBhcnRzW2pdKSlcbiAgICAgIH1cbiAgICAgIGlmIChkb21TdHlsZS5wYXJ0cy5sZW5ndGggPiBpdGVtLnBhcnRzLmxlbmd0aCkge1xuICAgICAgICBkb21TdHlsZS5wYXJ0cy5sZW5ndGggPSBpdGVtLnBhcnRzLmxlbmd0aFxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgcGFydHMgPSBbXVxuICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBpdGVtLnBhcnRzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgIHBhcnRzLnB1c2goYWRkU3R5bGUoaXRlbS5wYXJ0c1tqXSkpXG4gICAgICB9XG4gICAgICBzdHlsZXNJbkRvbVtpdGVtLmlkXSA9IHsgaWQ6IGl0ZW0uaWQsIHJlZnM6IDEsIHBhcnRzOiBwYXJ0cyB9XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVN0eWxlRWxlbWVudCAoKSB7XG4gIHZhciBzdHlsZUVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpXG4gIHN0eWxlRWxlbWVudC50eXBlID0gJ3RleHQvY3NzJ1xuICBoZWFkLmFwcGVuZENoaWxkKHN0eWxlRWxlbWVudClcbiAgcmV0dXJuIHN0eWxlRWxlbWVudFxufVxuXG5mdW5jdGlvbiBhZGRTdHlsZSAob2JqIC8qIFN0eWxlT2JqZWN0UGFydCAqLykge1xuICB2YXIgdXBkYXRlLCByZW1vdmVcbiAgdmFyIHN0eWxlRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ3N0eWxlWycgKyBzc3JJZEtleSArICd+PVwiJyArIG9iai5pZCArICdcIl0nKVxuXG4gIGlmIChzdHlsZUVsZW1lbnQpIHtcbiAgICBpZiAoaXNQcm9kdWN0aW9uKSB7XG4gICAgICAvLyBoYXMgU1NSIHN0eWxlcyBhbmQgaW4gcHJvZHVjdGlvbiBtb2RlLlxuICAgICAgLy8gc2ltcGx5IGRvIG5vdGhpbmcuXG4gICAgICByZXR1cm4gbm9vcFxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBoYXMgU1NSIHN0eWxlcyBidXQgaW4gZGV2IG1vZGUuXG4gICAgICAvLyBmb3Igc29tZSByZWFzb24gQ2hyb21lIGNhbid0IGhhbmRsZSBzb3VyY2UgbWFwIGluIHNlcnZlci1yZW5kZXJlZFxuICAgICAgLy8gc3R5bGUgdGFncyAtIHNvdXJjZSBtYXBzIGluIDxzdHlsZT4gb25seSB3b3JrcyBpZiB0aGUgc3R5bGUgdGFnIGlzXG4gICAgICAvLyBjcmVhdGVkIGFuZCBpbnNlcnRlZCBkeW5hbWljYWxseS4gU28gd2UgcmVtb3ZlIHRoZSBzZXJ2ZXIgcmVuZGVyZWRcbiAgICAgIC8vIHN0eWxlcyBhbmQgaW5qZWN0IG5ldyBvbmVzLlxuICAgICAgc3R5bGVFbGVtZW50LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc3R5bGVFbGVtZW50KVxuICAgIH1cbiAgfVxuXG4gIGlmIChpc09sZElFKSB7XG4gICAgLy8gdXNlIHNpbmdsZXRvbiBtb2RlIGZvciBJRTkuXG4gICAgdmFyIHN0eWxlSW5kZXggPSBzaW5nbGV0b25Db3VudGVyKytcbiAgICBzdHlsZUVsZW1lbnQgPSBzaW5nbGV0b25FbGVtZW50IHx8IChzaW5nbGV0b25FbGVtZW50ID0gY3JlYXRlU3R5bGVFbGVtZW50KCkpXG4gICAgdXBkYXRlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlRWxlbWVudCwgc3R5bGVJbmRleCwgZmFsc2UpXG4gICAgcmVtb3ZlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlRWxlbWVudCwgc3R5bGVJbmRleCwgdHJ1ZSlcbiAgfSBlbHNlIHtcbiAgICAvLyB1c2UgbXVsdGktc3R5bGUtdGFnIG1vZGUgaW4gYWxsIG90aGVyIGNhc2VzXG4gICAgc3R5bGVFbGVtZW50ID0gY3JlYXRlU3R5bGVFbGVtZW50KClcbiAgICB1cGRhdGUgPSBhcHBseVRvVGFnLmJpbmQobnVsbCwgc3R5bGVFbGVtZW50KVxuICAgIHJlbW92ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHN0eWxlRWxlbWVudC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHN0eWxlRWxlbWVudClcbiAgICB9XG4gIH1cblxuICB1cGRhdGUob2JqKVxuXG4gIHJldHVybiBmdW5jdGlvbiB1cGRhdGVTdHlsZSAobmV3T2JqIC8qIFN0eWxlT2JqZWN0UGFydCAqLykge1xuICAgIGlmIChuZXdPYmopIHtcbiAgICAgIGlmIChuZXdPYmouY3NzID09PSBvYmouY3NzICYmXG4gICAgICAgICAgbmV3T2JqLm1lZGlhID09PSBvYmoubWVkaWEgJiZcbiAgICAgICAgICBuZXdPYmouc291cmNlTWFwID09PSBvYmouc291cmNlTWFwKSB7XG4gICAgICAgIHJldHVyblxuICAgICAgfVxuICAgICAgdXBkYXRlKG9iaiA9IG5ld09iailcbiAgICB9IGVsc2Uge1xuICAgICAgcmVtb3ZlKClcbiAgICB9XG4gIH1cbn1cblxudmFyIHJlcGxhY2VUZXh0ID0gKGZ1bmN0aW9uICgpIHtcbiAgdmFyIHRleHRTdG9yZSA9IFtdXG5cbiAgcmV0dXJuIGZ1bmN0aW9uIChpbmRleCwgcmVwbGFjZW1lbnQpIHtcbiAgICB0ZXh0U3RvcmVbaW5kZXhdID0gcmVwbGFjZW1lbnRcbiAgICByZXR1cm4gdGV4dFN0b3JlLmZpbHRlcihCb29sZWFuKS5qb2luKCdcXG4nKVxuICB9XG59KSgpXG5cbmZ1bmN0aW9uIGFwcGx5VG9TaW5nbGV0b25UYWcgKHN0eWxlRWxlbWVudCwgaW5kZXgsIHJlbW92ZSwgb2JqKSB7XG4gIHZhciBjc3MgPSByZW1vdmUgPyAnJyA6IG9iai5jc3NcblxuICBpZiAoc3R5bGVFbGVtZW50LnN0eWxlU2hlZXQpIHtcbiAgICBzdHlsZUVsZW1lbnQuc3R5bGVTaGVldC5jc3NUZXh0ID0gcmVwbGFjZVRleHQoaW5kZXgsIGNzcylcbiAgfSBlbHNlIHtcbiAgICB2YXIgY3NzTm9kZSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcylcbiAgICB2YXIgY2hpbGROb2RlcyA9IHN0eWxlRWxlbWVudC5jaGlsZE5vZGVzXG4gICAgaWYgKGNoaWxkTm9kZXNbaW5kZXhdKSBzdHlsZUVsZW1lbnQucmVtb3ZlQ2hpbGQoY2hpbGROb2Rlc1tpbmRleF0pXG4gICAgaWYgKGNoaWxkTm9kZXMubGVuZ3RoKSB7XG4gICAgICBzdHlsZUVsZW1lbnQuaW5zZXJ0QmVmb3JlKGNzc05vZGUsIGNoaWxkTm9kZXNbaW5kZXhdKVxuICAgIH0gZWxzZSB7XG4gICAgICBzdHlsZUVsZW1lbnQuYXBwZW5kQ2hpbGQoY3NzTm9kZSlcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gYXBwbHlUb1RhZyAoc3R5bGVFbGVtZW50LCBvYmopIHtcbiAgdmFyIGNzcyA9IG9iai5jc3NcbiAgdmFyIG1lZGlhID0gb2JqLm1lZGlhXG4gIHZhciBzb3VyY2VNYXAgPSBvYmouc291cmNlTWFwXG5cbiAgaWYgKG1lZGlhKSB7XG4gICAgc3R5bGVFbGVtZW50LnNldEF0dHJpYnV0ZSgnbWVkaWEnLCBtZWRpYSlcbiAgfVxuICBpZiAob3B0aW9ucy5zc3JJZCkge1xuICAgIHN0eWxlRWxlbWVudC5zZXRBdHRyaWJ1dGUoc3NySWRLZXksIG9iai5pZClcbiAgfVxuXG4gIGlmIChzb3VyY2VNYXApIHtcbiAgICAvLyBodHRwczovL2RldmVsb3Blci5jaHJvbWUuY29tL2RldnRvb2xzL2RvY3MvamF2YXNjcmlwdC1kZWJ1Z2dpbmdcbiAgICAvLyB0aGlzIG1ha2VzIHNvdXJjZSBtYXBzIGluc2lkZSBzdHlsZSB0YWdzIHdvcmsgcHJvcGVybHkgaW4gQ2hyb21lXG4gICAgY3NzICs9ICdcXG4vKiMgc291cmNlVVJMPScgKyBzb3VyY2VNYXAuc291cmNlc1swXSArICcgKi8nXG4gICAgLy8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMjY2MDM4NzVcbiAgICBjc3MgKz0gJ1xcbi8qIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsJyArIGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSkgKyAnICovJ1xuICB9XG5cbiAgaWYgKHN0eWxlRWxlbWVudC5zdHlsZVNoZWV0KSB7XG4gICAgc3R5bGVFbGVtZW50LnN0eWxlU2hlZXQuY3NzVGV4dCA9IGNzc1xuICB9IGVsc2Uge1xuICAgIHdoaWxlIChzdHlsZUVsZW1lbnQuZmlyc3RDaGlsZCkge1xuICAgICAgc3R5bGVFbGVtZW50LnJlbW92ZUNoaWxkKHN0eWxlRWxlbWVudC5maXJzdENoaWxkKVxuICAgIH1cbiAgICBzdHlsZUVsZW1lbnQuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKSlcbiAgfVxufVxuIiwiLyoqXG4gKiAyMDA3LTIwMjAgUHJlc3RhU2hvcCBhbmQgQ29udHJpYnV0b3JzXG4gKlxuICogTk9USUNFIE9GIExJQ0VOU0VcbiAqXG4gKiBUaGlzIHNvdXJjZSBmaWxlIGlzIHN1YmplY3QgdG8gdGhlIEFjYWRlbWljIEZyZWUgTGljZW5zZSAzLjAgKEFGTC0zLjApXG4gKiB0aGF0IGlzIGJ1bmRsZWQgd2l0aCB0aGlzIHBhY2thZ2UgaW4gdGhlIGZpbGUgTElDRU5TRS50eHQuXG4gKiBJdCBpcyBhbHNvIGF2YWlsYWJsZSB0aHJvdWdoIHRoZSB3b3JsZC13aWRlLXdlYiBhdCB0aGlzIFVSTDpcbiAqIGh0dHBzOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvQUZMLTMuMFxuICogSWYgeW91IGRpZCBub3QgcmVjZWl2ZSBhIGNvcHkgb2YgdGhlIGxpY2Vuc2UgYW5kIGFyZSB1bmFibGUgdG9cbiAqIG9idGFpbiBpdCB0aHJvdWdoIHRoZSB3b3JsZC13aWRlLXdlYiwgcGxlYXNlIHNlbmQgYW4gZW1haWxcbiAqIHRvIGxpY2Vuc2VAcHJlc3Rhc2hvcC5jb20gc28gd2UgY2FuIHNlbmQgeW91IGEgY29weSBpbW1lZGlhdGVseS5cbiAqXG4gKiBAYXV0aG9yICAgIFByZXN0YVNob3AgU0EgPGNvbnRhY3RAcHJlc3Rhc2hvcC5jb20+XG4gKiBAY29weXJpZ2h0IDIwMDctMjAyMCBQcmVzdGFTaG9wIFNBIGFuZCBDb250cmlidXRvcnNcbiAqIEBsaWNlbnNlICAgaHR0cHM6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9BRkwtMy4wIEFjYWRlbWljIEZyZWUgTGljZW5zZSAzLjAgKEFGTC0zLjApXG4gKiBJbnRlcm5hdGlvbmFsIFJlZ2lzdGVyZWQgVHJhZGVtYXJrICYgUHJvcGVydHkgb2YgUHJlc3RhU2hvcCBTQVxuICovXG5pbXBvcnQgVnVlIGZyb20gJ3Z1ZSc7XG5pbXBvcnQgVnVlQXBvbGxvIGZyb20gJ3Z1ZS1hcG9sbG8nO1xuaW1wb3J0IGFwb2xsb0NsaWVudCBmcm9tICdAZ3JhcGhxbEZpbGVzL2NsaWVudCc7XG5cbi8qKlxuICogSW5pdCBhIFZ1ZUpTIGFwcGxpY2F0aW9uIHRvIGtlZXAgbW9ub2xpdGggZmVhdHVyZXMgc3VjaCBhcyBob29rcyBvciBldmVudCB0aGUgdXNlIG9mIHR3aWcvc21hcnR5XG4gKlxuICogQHBhcmFtIHtWdWV9IGNvbXBvbmVudCBUaGUgY29tcG9uZW50IHRvIGJlIGluaXRcbiAqIEBwYXJhbSB7U3RyaW5nfSBjb21wb25lbnRTZWxlY3RvciBBIHNlbGVjdG9yIGZvciBxdWVyeVNlbGVjdG9yQWxsXG4gKiBAcGFyYW0ge0FycmF5W09iamVjdF19IHByb3BzIEFuIGFycmF5IGNvbnRhaW5pbmcgT2JqZWN0e25hbWUsIHR5cGV9IHRvIHBhcnNlIGludFxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbml0QXBwKGNvbXBvbmVudCwgY29tcG9uZW50U2VsZWN0b3IsIHByb3BzKSB7XG4gIFZ1ZS51c2UoVnVlQXBvbGxvKTtcblxuICBjb25zdCBhcG9sbG9Qcm92aWRlciA9IG5ldyBWdWVBcG9sbG8oe1xuICAgIGRlZmF1bHRDbGllbnQ6IGFwb2xsb0NsaWVudCxcbiAgfSk7XG5cbiAgY29uc3QgY29tcG9uZW50RWxlbWVudHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGNvbXBvbmVudFNlbGVjdG9yKTtcbiAgY29uc3QgQ29tcG9uZW50Um9vdCA9IFZ1ZS5leHRlbmQoY29tcG9uZW50KTtcblxuICBjb25zdCBwcm9wc0RhdGEgPSB7fTtcblxuICBjb21wb25lbnRFbGVtZW50cy5mb3JFYWNoKChlKSA9PiB7XG4gICAgLyogZXNsaW50LWRpc2FibGUgKi9cbiAgICBmb3IgKGNvbnN0IHByb3Agb2YgcHJvcHMpIHtcbiAgICAgIGlmIChlLmRhdGFzZXRbcHJvcC5uYW1lXSkge1xuICAgICAgICBpZiAocHJvcC50eXBlID09PSBOdW1iZXIpIHtcbiAgICAgICAgICBwcm9wc0RhdGFbcHJvcC5uYW1lXSA9IHBhcnNlSW50KGUuZGF0YXNldFtwcm9wLm5hbWVdLCAxMCk7XG4gICAgICAgIH0gZWxzZSBpZiAocHJvcC50eXBlID09PSBCb29sZWFuKSB7XG4gICAgICAgICAgcHJvcHNEYXRhW3Byb3AubmFtZV0gPSBlLmRhdGFzZXRbcHJvcC5uYW1lXSA9PT0gJ3RydWUnO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHByb3BzRGF0YVtwcm9wLm5hbWVdID0gZS5kYXRhc2V0W3Byb3AubmFtZV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgLyogZXNsaW50LWVuYWJsZSAqL1xuXG4gICAgbmV3IENvbXBvbmVudFJvb3Qoe1xuICAgICAgZWw6IGUsXG4gICAgICBkZWxpbWl0ZXJzOiBbJygoJywgJykpJ10sXG4gICAgICBhcG9sbG9Qcm92aWRlcixcbiAgICAgIHByb3BzRGF0YSxcbiAgICB9KTtcbiAgfSk7XG59XG4iLCJpbXBvcnQgemVuT2JzZXJ2YWJsZSBmcm9tICd6ZW4tb2JzZXJ2YWJsZSc7XG5cbnZhciBPYnNlcnZhYmxlID0gemVuT2JzZXJ2YWJsZTtcblxuZXhwb3J0IGRlZmF1bHQgT2JzZXJ2YWJsZTtcbmV4cG9ydCB7IE9ic2VydmFibGUgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJ1bmRsZS5lc20uanMubWFwXG4iLCJpbXBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IGZyb20gXCIuL0J1dHRvbi52dWU/dnVlJnR5cGU9dGVtcGxhdGUmaWQ9NzIwMTc4YWImXCJcbmltcG9ydCBzY3JpcHQgZnJvbSBcIi4vQnV0dG9uLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyZcIlxuZXhwb3J0ICogZnJvbSBcIi4vQnV0dG9uLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyZcIlxuaW1wb3J0IHN0eWxlMCBmcm9tIFwiLi9CdXR0b24udnVlP3Z1ZSZ0eXBlPXN0eWxlJmluZGV4PTAmbGFuZz1zY3NzJlwiXG5cblxuLyogbm9ybWFsaXplIGNvbXBvbmVudCAqL1xuaW1wb3J0IG5vcm1hbGl6ZXIgZnJvbSBcIiEuLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvcnVudGltZS9jb21wb25lbnROb3JtYWxpemVyLmpzXCJcbnZhciBjb21wb25lbnQgPSBub3JtYWxpemVyKFxuICBzY3JpcHQsXG4gIHJlbmRlcixcbiAgc3RhdGljUmVuZGVyRm5zLFxuICBmYWxzZSxcbiAgbnVsbCxcbiAgbnVsbCxcbiAgbnVsbFxuICBcbilcblxuLyogaG90IHJlbG9hZCAqL1xuaWYgKG1vZHVsZS5ob3QpIHtcbiAgdmFyIGFwaSA9IHJlcXVpcmUoXCJDOlxcXFx3YW1wNjRcXFxcd3d3XFxcXFRlc3ROZXdUaGVtZVxcXFxtb2R1bGVzXFxcXGJsb2Nrd2lzaGxpc3RcXFxcbm9kZV9tb2R1bGVzXFxcXHZ1ZS1ob3QtcmVsb2FkLWFwaVxcXFxkaXN0XFxcXGluZGV4LmpzXCIpXG4gIGFwaS5pbnN0YWxsKHJlcXVpcmUoJ3Z1ZScpKVxuICBpZiAoYXBpLmNvbXBhdGlibGUpIHtcbiAgICBtb2R1bGUuaG90LmFjY2VwdCgpXG4gICAgaWYgKCFhcGkuaXNSZWNvcmRlZCgnNzIwMTc4YWInKSkge1xuICAgICAgYXBpLmNyZWF0ZVJlY29yZCgnNzIwMTc4YWInLCBjb21wb25lbnQub3B0aW9ucylcbiAgICB9IGVsc2Uge1xuICAgICAgYXBpLnJlbG9hZCgnNzIwMTc4YWInLCBjb21wb25lbnQub3B0aW9ucylcbiAgICB9XG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoXCIuL0J1dHRvbi52dWU/dnVlJnR5cGU9dGVtcGxhdGUmaWQ9NzIwMTc4YWImXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGFwaS5yZXJlbmRlcignNzIwMTc4YWInLCB7XG4gICAgICAgIHJlbmRlcjogcmVuZGVyLFxuICAgICAgICBzdGF0aWNSZW5kZXJGbnM6IHN0YXRpY1JlbmRlckZuc1xuICAgICAgfSlcbiAgICB9KVxuICB9XG59XG5jb21wb25lbnQub3B0aW9ucy5fX2ZpbGUgPSBcIl9kZXYvZnJvbnQvanMvY29tcG9uZW50cy9CdXR0b24vQnV0dG9uLnZ1ZVwiXG5leHBvcnQgZGVmYXVsdCBjb21wb25lbnQuZXhwb3J0cyIsImV4cG9ydCAqIGZyb20gXCItIS4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtc3R5bGUtbG9hZGVyL2luZGV4LmpzIS4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9sb2FkZXJzL3N0eWxlUG9zdExvYWRlci5qcyEuLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvZGlzdC9janMuanMhLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9CdXR0b24udnVlP3Z1ZSZ0eXBlPXN0eWxlJmluZGV4PTAmbGFuZz1zY3NzJlwiIiwiLy8gSW1wb3J0c1xudmFyIF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyA9IHJlcXVpcmUoXCIuLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzXCIpO1xuZXhwb3J0cyA9IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyhmYWxzZSk7XG4vLyBNb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIi53aXNobGlzdC1idXR0b24tcHJvZHVjdHttYXJnaW4tbGVmdDoxLjI1cmVtfS53aXNobGlzdC1idXR0b24tYWRke2Rpc3BsYXk6ZmxleDthbGlnbi1pdGVtczpjZW50ZXI7anVzdGlmeS1jb250ZW50OmNlbnRlcjtoZWlnaHQ6Mi41cmVtO3dpZHRoOjIuNXJlbTttaW4td2lkdGg6Mi41cmVtO3BhZGRpbmctdG9wOjAuMTg3NXJlbTtiYWNrZ3JvdW5kLWNvbG9yOiNmZmZmZmY7Ym94LXNoYWRvdzowLjEyNXJlbSAtMC4xMjVyZW0gMC4yNXJlbSAwIHJnYmEoMCwwLDAsMC4yKTtib3JkZXItcmFkaXVzOjUwJTtjdXJzb3I6cG9pbnRlcjt0cmFuc2l0aW9uOjAuMnMgZWFzZS1vdXQ7Ym9yZGVyOm5vbmV9Lndpc2hsaXN0LWJ1dHRvbi1hZGQ6aG92ZXJ7b3BhY2l0eTowLjd9Lndpc2hsaXN0LWJ1dHRvbi1hZGQ6Zm9jdXN7b3V0bGluZTowfS53aXNobGlzdC1idXR0b24tYWRkOmFjdGl2ZXt0cmFuc2Zvcm06c2NhbGUoMS4yKX0ud2lzaGxpc3QtYnV0dG9uLWFkZCBpe2NvbG9yOiM3YTdhN2F9XFxuXCIsIFwiXCJdKTtcbi8vIEV4cG9ydHNcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0cztcbiIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2RlZmluZVByb3BlcnRpZXMgPSByZXF1aXJlKFwiLi4vY29yZS1qcy9vYmplY3QvZGVmaW5lLXByb3BlcnRpZXNcIik7XG5cbnZhciBfZGVmaW5lUHJvcGVydGllczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kZWZpbmVQcm9wZXJ0aWVzKTtcblxudmFyIF9mcmVlemUgPSByZXF1aXJlKFwiLi4vY29yZS1qcy9vYmplY3QvZnJlZXplXCIpO1xuXG52YXIgX2ZyZWV6ZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9mcmVlemUpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5leHBvcnRzLmRlZmF1bHQgPSBmdW5jdGlvbiAoc3RyaW5ncywgcmF3KSB7XG4gIHJldHVybiAoMCwgX2ZyZWV6ZTIuZGVmYXVsdCkoKDAsIF9kZWZpbmVQcm9wZXJ0aWVzMi5kZWZhdWx0KShzdHJpbmdzLCB7XG4gICAgcmF3OiB7XG4gICAgICB2YWx1ZTogKDAsIF9mcmVlemUyLmRlZmF1bHQpKHJhdylcbiAgICB9XG4gIH0pKTtcbn07IiwiLy8gc2hpbSBmb3IgdXNpbmcgcHJvY2VzcyBpbiBicm93c2VyXG52YXIgcHJvY2VzcyA9IG1vZHVsZS5leHBvcnRzID0ge307XG5cbi8vIGNhY2hlZCBmcm9tIHdoYXRldmVyIGdsb2JhbCBpcyBwcmVzZW50IHNvIHRoYXQgdGVzdCBydW5uZXJzIHRoYXQgc3R1YiBpdFxuLy8gZG9uJ3QgYnJlYWsgdGhpbmdzLiAgQnV0IHdlIG5lZWQgdG8gd3JhcCBpdCBpbiBhIHRyeSBjYXRjaCBpbiBjYXNlIGl0IGlzXG4vLyB3cmFwcGVkIGluIHN0cmljdCBtb2RlIGNvZGUgd2hpY2ggZG9lc24ndCBkZWZpbmUgYW55IGdsb2JhbHMuICBJdCdzIGluc2lkZSBhXG4vLyBmdW5jdGlvbiBiZWNhdXNlIHRyeS9jYXRjaGVzIGRlb3B0aW1pemUgaW4gY2VydGFpbiBlbmdpbmVzLlxuXG52YXIgY2FjaGVkU2V0VGltZW91dDtcbnZhciBjYWNoZWRDbGVhclRpbWVvdXQ7XG5cbmZ1bmN0aW9uIGRlZmF1bHRTZXRUaW1vdXQoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdzZXRUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG59XG5mdW5jdGlvbiBkZWZhdWx0Q2xlYXJUaW1lb3V0ICgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2NsZWFyVGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCcpO1xufVxuKGZ1bmN0aW9uICgpIHtcbiAgICB0cnkge1xuICAgICAgICBpZiAodHlwZW9mIHNldFRpbWVvdXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBkZWZhdWx0U2V0VGltb3V0O1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICBpZiAodHlwZW9mIGNsZWFyVGltZW91dCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gY2xlYXJUaW1lb3V0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gZGVmYXVsdENsZWFyVGltZW91dDtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gZGVmYXVsdENsZWFyVGltZW91dDtcbiAgICB9XG59ICgpKVxuZnVuY3Rpb24gcnVuVGltZW91dChmdW4pIHtcbiAgICBpZiAoY2FjaGVkU2V0VGltZW91dCA9PT0gc2V0VGltZW91dCkge1xuICAgICAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9XG4gICAgLy8gaWYgc2V0VGltZW91dCB3YXNuJ3QgYXZhaWxhYmxlIGJ1dCB3YXMgbGF0dGVyIGRlZmluZWRcbiAgICBpZiAoKGNhY2hlZFNldFRpbWVvdXQgPT09IGRlZmF1bHRTZXRUaW1vdXQgfHwgIWNhY2hlZFNldFRpbWVvdXQpICYmIHNldFRpbWVvdXQpIHtcbiAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG4gICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIC8vIHdoZW4gd2hlbiBzb21lYm9keSBoYXMgc2NyZXdlZCB3aXRoIHNldFRpbWVvdXQgYnV0IG5vIEkuRS4gbWFkZG5lc3NcbiAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9IGNhdGNoKGUpe1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gV2hlbiB3ZSBhcmUgaW4gSS5FLiBidXQgdGhlIHNjcmlwdCBoYXMgYmVlbiBldmFsZWQgc28gSS5FLiBkb2Vzbid0IHRydXN0IHRoZSBnbG9iYWwgb2JqZWN0IHdoZW4gY2FsbGVkIG5vcm1hbGx5XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKG51bGwsIGZ1biwgMCk7XG4gICAgICAgIH0gY2F0Y2goZSl7XG4gICAgICAgICAgICAvLyBzYW1lIGFzIGFib3ZlIGJ1dCB3aGVuIGl0J3MgYSB2ZXJzaW9uIG9mIEkuRS4gdGhhdCBtdXN0IGhhdmUgdGhlIGdsb2JhbCBvYmplY3QgZm9yICd0aGlzJywgaG9wZnVsbHkgb3VyIGNvbnRleHQgY29ycmVjdCBvdGhlcndpc2UgaXQgd2lsbCB0aHJvdyBhIGdsb2JhbCBlcnJvclxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbCh0aGlzLCBmdW4sIDApO1xuICAgICAgICB9XG4gICAgfVxuXG5cbn1cbmZ1bmN0aW9uIHJ1bkNsZWFyVGltZW91dChtYXJrZXIpIHtcbiAgICBpZiAoY2FjaGVkQ2xlYXJUaW1lb3V0ID09PSBjbGVhclRpbWVvdXQpIHtcbiAgICAgICAgLy9ub3JtYWwgZW52aXJvbWVudHMgaW4gc2FuZSBzaXR1YXRpb25zXG4gICAgICAgIHJldHVybiBjbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9XG4gICAgLy8gaWYgY2xlYXJUaW1lb3V0IHdhc24ndCBhdmFpbGFibGUgYnV0IHdhcyBsYXR0ZXIgZGVmaW5lZFxuICAgIGlmICgoY2FjaGVkQ2xlYXJUaW1lb3V0ID09PSBkZWZhdWx0Q2xlYXJUaW1lb3V0IHx8ICFjYWNoZWRDbGVhclRpbWVvdXQpICYmIGNsZWFyVGltZW91dCkge1xuICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG4gICAgICAgIHJldHVybiBjbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gd2hlbiB3aGVuIHNvbWVib2R5IGhhcyBzY3Jld2VkIHdpdGggc2V0VGltZW91dCBidXQgbm8gSS5FLiBtYWRkbmVzc1xuICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfSBjYXRjaCAoZSl7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgIHRydXN0IHRoZSBnbG9iYWwgb2JqZWN0IHdoZW4gY2FsbGVkIG5vcm1hbGx5XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwobnVsbCwgbWFya2VyKTtcbiAgICAgICAgfSBjYXRjaCAoZSl7XG4gICAgICAgICAgICAvLyBzYW1lIGFzIGFib3ZlIGJ1dCB3aGVuIGl0J3MgYSB2ZXJzaW9uIG9mIEkuRS4gdGhhdCBtdXN0IGhhdmUgdGhlIGdsb2JhbCBvYmplY3QgZm9yICd0aGlzJywgaG9wZnVsbHkgb3VyIGNvbnRleHQgY29ycmVjdCBvdGhlcndpc2UgaXQgd2lsbCB0aHJvdyBhIGdsb2JhbCBlcnJvci5cbiAgICAgICAgICAgIC8vIFNvbWUgdmVyc2lvbnMgb2YgSS5FLiBoYXZlIGRpZmZlcmVudCBydWxlcyBmb3IgY2xlYXJUaW1lb3V0IHZzIHNldFRpbWVvdXRcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbCh0aGlzLCBtYXJrZXIpO1xuICAgICAgICB9XG4gICAgfVxuXG5cblxufVxudmFyIHF1ZXVlID0gW107XG52YXIgZHJhaW5pbmcgPSBmYWxzZTtcbnZhciBjdXJyZW50UXVldWU7XG52YXIgcXVldWVJbmRleCA9IC0xO1xuXG5mdW5jdGlvbiBjbGVhblVwTmV4dFRpY2soKSB7XG4gICAgaWYgKCFkcmFpbmluZyB8fCAhY3VycmVudFF1ZXVlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBpZiAoY3VycmVudFF1ZXVlLmxlbmd0aCkge1xuICAgICAgICBxdWV1ZSA9IGN1cnJlbnRRdWV1ZS5jb25jYXQocXVldWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcbiAgICB9XG4gICAgaWYgKHF1ZXVlLmxlbmd0aCkge1xuICAgICAgICBkcmFpblF1ZXVlKCk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBkcmFpblF1ZXVlKCkge1xuICAgIGlmIChkcmFpbmluZykge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciB0aW1lb3V0ID0gcnVuVGltZW91dChjbGVhblVwTmV4dFRpY2spO1xuICAgIGRyYWluaW5nID0gdHJ1ZTtcblxuICAgIHZhciBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgd2hpbGUobGVuKSB7XG4gICAgICAgIGN1cnJlbnRRdWV1ZSA9IHF1ZXVlO1xuICAgICAgICBxdWV1ZSA9IFtdO1xuICAgICAgICB3aGlsZSAoKytxdWV1ZUluZGV4IDwgbGVuKSB7XG4gICAgICAgICAgICBpZiAoY3VycmVudFF1ZXVlKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudFF1ZXVlW3F1ZXVlSW5kZXhdLnJ1bigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcbiAgICAgICAgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIH1cbiAgICBjdXJyZW50UXVldWUgPSBudWxsO1xuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgcnVuQ2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xufVxuXG5wcm9jZXNzLm5leHRUaWNrID0gZnVuY3Rpb24gKGZ1bikge1xuICAgIHZhciBhcmdzID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGggLSAxKTtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGFyZ3NbaSAtIDFdID0gYXJndW1lbnRzW2ldO1xuICAgICAgICB9XG4gICAgfVxuICAgIHF1ZXVlLnB1c2gobmV3IEl0ZW0oZnVuLCBhcmdzKSk7XG4gICAgaWYgKHF1ZXVlLmxlbmd0aCA9PT0gMSAmJiAhZHJhaW5pbmcpIHtcbiAgICAgICAgcnVuVGltZW91dChkcmFpblF1ZXVlKTtcbiAgICB9XG59O1xuXG4vLyB2OCBsaWtlcyBwcmVkaWN0aWJsZSBvYmplY3RzXG5mdW5jdGlvbiBJdGVtKGZ1biwgYXJyYXkpIHtcbiAgICB0aGlzLmZ1biA9IGZ1bjtcbiAgICB0aGlzLmFycmF5ID0gYXJyYXk7XG59XG5JdGVtLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5mdW4uYXBwbHkobnVsbCwgdGhpcy5hcnJheSk7XG59O1xucHJvY2Vzcy50aXRsZSA9ICdicm93c2VyJztcbnByb2Nlc3MuYnJvd3NlciA9IHRydWU7XG5wcm9jZXNzLmVudiA9IHt9O1xucHJvY2Vzcy5hcmd2ID0gW107XG5wcm9jZXNzLnZlcnNpb24gPSAnJzsgLy8gZW1wdHkgc3RyaW5nIHRvIGF2b2lkIHJlZ2V4cCBpc3N1ZXNcbnByb2Nlc3MudmVyc2lvbnMgPSB7fTtcblxuZnVuY3Rpb24gbm9vcCgpIHt9XG5cbnByb2Nlc3Mub24gPSBub29wO1xucHJvY2Vzcy5hZGRMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLm9uY2UgPSBub29wO1xucHJvY2Vzcy5vZmYgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUFsbExpc3RlbmVycyA9IG5vb3A7XG5wcm9jZXNzLmVtaXQgPSBub29wO1xucHJvY2Vzcy5wcmVwZW5kTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5wcmVwZW5kT25jZUxpc3RlbmVyID0gbm9vcDtcblxucHJvY2Vzcy5saXN0ZW5lcnMgPSBmdW5jdGlvbiAobmFtZSkgeyByZXR1cm4gW10gfVxuXG5wcm9jZXNzLmJpbmRpbmcgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5iaW5kaW5nIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5cbnByb2Nlc3MuY3dkID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gJy8nIH07XG5wcm9jZXNzLmNoZGlyID0gZnVuY3Rpb24gKGRpcikge1xuICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5jaGRpciBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xucHJvY2Vzcy51bWFzayA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gMDsgfTtcbiIsIi8vIFVuaXF1ZSBJRCBjcmVhdGlvbiByZXF1aXJlcyBhIGhpZ2ggcXVhbGl0eSByYW5kb20gIyBnZW5lcmF0b3IuICBJbiB0aGVcbi8vIGJyb3dzZXIgdGhpcyBpcyBhIGxpdHRsZSBjb21wbGljYXRlZCBkdWUgdG8gdW5rbm93biBxdWFsaXR5IG9mIE1hdGgucmFuZG9tKClcbi8vIGFuZCBpbmNvbnNpc3RlbnQgc3VwcG9ydCBmb3IgdGhlIGBjcnlwdG9gIEFQSS4gIFdlIGRvIHRoZSBiZXN0IHdlIGNhbiB2aWFcbi8vIGZlYXR1cmUtZGV0ZWN0aW9uXG5cbi8vIGdldFJhbmRvbVZhbHVlcyBuZWVkcyB0byBiZSBpbnZva2VkIGluIGEgY29udGV4dCB3aGVyZSBcInRoaXNcIiBpcyBhIENyeXB0b1xuLy8gaW1wbGVtZW50YXRpb24uIEFsc28sIGZpbmQgdGhlIGNvbXBsZXRlIGltcGxlbWVudGF0aW9uIG9mIGNyeXB0byBvbiBJRTExLlxudmFyIGdldFJhbmRvbVZhbHVlcyA9ICh0eXBlb2YoY3J5cHRvKSAhPSAndW5kZWZpbmVkJyAmJiBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzICYmIGNyeXB0by5nZXRSYW5kb21WYWx1ZXMuYmluZChjcnlwdG8pKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICh0eXBlb2YobXNDcnlwdG8pICE9ICd1bmRlZmluZWQnICYmIHR5cGVvZiB3aW5kb3cubXNDcnlwdG8uZ2V0UmFuZG9tVmFsdWVzID09ICdmdW5jdGlvbicgJiYgbXNDcnlwdG8uZ2V0UmFuZG9tVmFsdWVzLmJpbmQobXNDcnlwdG8pKTtcblxuaWYgKGdldFJhbmRvbVZhbHVlcykge1xuICAvLyBXSEFUV0cgY3J5cHRvIFJORyAtIGh0dHA6Ly93aWtpLndoYXR3Zy5vcmcvd2lraS9DcnlwdG9cbiAgdmFyIHJuZHM4ID0gbmV3IFVpbnQ4QXJyYXkoMTYpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVuZGVmXG5cbiAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiB3aGF0d2dSTkcoKSB7XG4gICAgZ2V0UmFuZG9tVmFsdWVzKHJuZHM4KTtcbiAgICByZXR1cm4gcm5kczg7XG4gIH07XG59IGVsc2Uge1xuICAvLyBNYXRoLnJhbmRvbSgpLWJhc2VkIChSTkcpXG4gIC8vXG4gIC8vIElmIGFsbCBlbHNlIGZhaWxzLCB1c2UgTWF0aC5yYW5kb20oKS4gIEl0J3MgZmFzdCwgYnV0IGlzIG9mIHVuc3BlY2lmaWVkXG4gIC8vIHF1YWxpdHkuXG4gIHZhciBybmRzID0gbmV3IEFycmF5KDE2KTtcblxuICBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIG1hdGhSTkcoKSB7XG4gICAgZm9yICh2YXIgaSA9IDAsIHI7IGkgPCAxNjsgaSsrKSB7XG4gICAgICBpZiAoKGkgJiAweDAzKSA9PT0gMCkgciA9IE1hdGgucmFuZG9tKCkgKiAweDEwMDAwMDAwMDtcbiAgICAgIHJuZHNbaV0gPSByID4+PiAoKGkgJiAweDAzKSA8PCAzKSAmIDB4ZmY7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJuZHM7XG4gIH07XG59XG4iLCIvKipcbiAqIENvbnZlcnQgYXJyYXkgb2YgMTYgYnl0ZSB2YWx1ZXMgdG8gVVVJRCBzdHJpbmcgZm9ybWF0IG9mIHRoZSBmb3JtOlxuICogWFhYWFhYWFgtWFhYWC1YWFhYLVhYWFgtWFhYWFhYWFhYWFhYXG4gKi9cbnZhciBieXRlVG9IZXggPSBbXTtcbmZvciAodmFyIGkgPSAwOyBpIDwgMjU2OyArK2kpIHtcbiAgYnl0ZVRvSGV4W2ldID0gKGkgKyAweDEwMCkudG9TdHJpbmcoMTYpLnN1YnN0cigxKTtcbn1cblxuZnVuY3Rpb24gYnl0ZXNUb1V1aWQoYnVmLCBvZmZzZXQpIHtcbiAgdmFyIGkgPSBvZmZzZXQgfHwgMDtcbiAgdmFyIGJ0aCA9IGJ5dGVUb0hleDtcbiAgLy8gam9pbiB1c2VkIHRvIGZpeCBtZW1vcnkgaXNzdWUgY2F1c2VkIGJ5IGNvbmNhdGVuYXRpb246IGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC92OC9pc3N1ZXMvZGV0YWlsP2lkPTMxNzUjYzRcbiAgcmV0dXJuIChbXG4gICAgYnRoW2J1ZltpKytdXSwgYnRoW2J1ZltpKytdXSxcbiAgICBidGhbYnVmW2krK11dLCBidGhbYnVmW2krK11dLCAnLScsXG4gICAgYnRoW2J1ZltpKytdXSwgYnRoW2J1ZltpKytdXSwgJy0nLFxuICAgIGJ0aFtidWZbaSsrXV0sIGJ0aFtidWZbaSsrXV0sICctJyxcbiAgICBidGhbYnVmW2krK11dLCBidGhbYnVmW2krK11dLCAnLScsXG4gICAgYnRoW2J1ZltpKytdXSwgYnRoW2J1ZltpKytdXSxcbiAgICBidGhbYnVmW2krK11dLCBidGhbYnVmW2krK11dLFxuICAgIGJ0aFtidWZbaSsrXV0sIGJ0aFtidWZbaSsrXV1cbiAgXSkuam9pbignJyk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gYnl0ZXNUb1V1aWQ7XG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBzeW1ib2xPYnNlcnZhYmxlUG9ueWZpbGwocm9vdCkge1xuXHR2YXIgcmVzdWx0O1xuXHR2YXIgU3ltYm9sID0gcm9vdC5TeW1ib2w7XG5cblx0aWYgKHR5cGVvZiBTeW1ib2wgPT09ICdmdW5jdGlvbicpIHtcblx0XHRpZiAoU3ltYm9sLm9ic2VydmFibGUpIHtcblx0XHRcdHJlc3VsdCA9IFN5bWJvbC5vYnNlcnZhYmxlO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXN1bHQgPSBTeW1ib2woJ29ic2VydmFibGUnKTtcblx0XHRcdFN5bWJvbC5vYnNlcnZhYmxlID0gcmVzdWx0O1xuXHRcdH1cblx0fSBlbHNlIHtcblx0XHRyZXN1bHQgPSAnQEBvYnNlcnZhYmxlJztcblx0fVxuXG5cdHJldHVybiByZXN1bHQ7XG59O1xuIiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2xpYi9PYnNlcnZhYmxlLmpzJykuT2JzZXJ2YWJsZTtcbiIsInZhciBfYSA9IE9iamVjdC5wcm90b3R5cGUsIHRvU3RyaW5nID0gX2EudG9TdHJpbmcsIGhhc093blByb3BlcnR5ID0gX2EuaGFzT3duUHJvcGVydHk7XHJcbnZhciBwcmV2aW91c0NvbXBhcmlzb25zID0gbmV3IE1hcCgpO1xyXG4vKipcclxuICogUGVyZm9ybXMgYSBkZWVwIGVxdWFsaXR5IGNoZWNrIG9uIHR3byBKYXZhU2NyaXB0IHZhbHVlcywgdG9sZXJhdGluZyBjeWNsZXMuXHJcbiAqL1xyXG5mdW5jdGlvbiBlcXVhbChhLCBiKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIHJldHVybiBjaGVjayhhLCBiKTtcclxuICAgIH1cclxuICAgIGZpbmFsbHkge1xyXG4gICAgICAgIHByZXZpb3VzQ29tcGFyaXNvbnMuY2xlYXIoKTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBjaGVjayhhLCBiKSB7XHJcbiAgICAvLyBJZiB0aGUgdHdvIHZhbHVlcyBhcmUgc3RyaWN0bHkgZXF1YWwsIG91ciBqb2IgaXMgZWFzeS5cclxuICAgIGlmIChhID09PSBiKSB7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbiAgICAvLyBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nIHJldHVybnMgYSByZXByZXNlbnRhdGlvbiBvZiB0aGUgcnVudGltZSB0eXBlIG9mXHJcbiAgICAvLyB0aGUgZ2l2ZW4gdmFsdWUgdGhhdCBpcyBjb25zaWRlcmFibHkgbW9yZSBwcmVjaXNlIHRoYW4gdHlwZW9mLlxyXG4gICAgdmFyIGFUYWcgPSB0b1N0cmluZy5jYWxsKGEpO1xyXG4gICAgdmFyIGJUYWcgPSB0b1N0cmluZy5jYWxsKGIpO1xyXG4gICAgLy8gSWYgdGhlIHJ1bnRpbWUgdHlwZXMgb2YgYSBhbmQgYiBhcmUgZGlmZmVyZW50LCB0aGV5IGNvdWxkIG1heWJlIGJlIGVxdWFsXHJcbiAgICAvLyB1bmRlciBzb21lIGludGVycHJldGF0aW9uIG9mIGVxdWFsaXR5LCBidXQgZm9yIHNpbXBsaWNpdHkgYW5kIHBlcmZvcm1hbmNlXHJcbiAgICAvLyB3ZSBqdXN0IHJldHVybiBmYWxzZSBpbnN0ZWFkLlxyXG4gICAgaWYgKGFUYWcgIT09IGJUYWcpIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICBzd2l0Y2ggKGFUYWcpIHtcclxuICAgICAgICBjYXNlICdbb2JqZWN0IEFycmF5XSc6XHJcbiAgICAgICAgICAgIC8vIEFycmF5cyBhcmUgYSBsb3QgbGlrZSBvdGhlciBvYmplY3RzLCBidXQgd2UgY2FuIGNoZWFwbHkgY29tcGFyZSB0aGVpclxyXG4gICAgICAgICAgICAvLyBsZW5ndGhzIGFzIGEgc2hvcnQtY3V0IGJlZm9yZSBjb21wYXJpbmcgdGhlaXIgZWxlbWVudHMuXHJcbiAgICAgICAgICAgIGlmIChhLmxlbmd0aCAhPT0gYi5sZW5ndGgpXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgLy8gRmFsbCB0aHJvdWdoIHRvIG9iamVjdCBjYXNlLi4uXHJcbiAgICAgICAgY2FzZSAnW29iamVjdCBPYmplY3RdJzoge1xyXG4gICAgICAgICAgICBpZiAocHJldmlvdXNseUNvbXBhcmVkKGEsIGIpKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgIHZhciBhS2V5cyA9IE9iamVjdC5rZXlzKGEpO1xyXG4gICAgICAgICAgICB2YXIgYktleXMgPSBPYmplY3Qua2V5cyhiKTtcclxuICAgICAgICAgICAgLy8gSWYgYGFgIGFuZCBgYmAgaGF2ZSBhIGRpZmZlcmVudCBudW1iZXIgb2YgZW51bWVyYWJsZSBrZXlzLCB0aGV5XHJcbiAgICAgICAgICAgIC8vIG11c3QgYmUgZGlmZmVyZW50LlxyXG4gICAgICAgICAgICB2YXIga2V5Q291bnQgPSBhS2V5cy5sZW5ndGg7XHJcbiAgICAgICAgICAgIGlmIChrZXlDb3VudCAhPT0gYktleXMubGVuZ3RoKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAvLyBOb3cgbWFrZSBzdXJlIHRoZXkgaGF2ZSB0aGUgc2FtZSBrZXlzLlxyXG4gICAgICAgICAgICBmb3IgKHZhciBrID0gMDsgayA8IGtleUNvdW50OyArK2spIHtcclxuICAgICAgICAgICAgICAgIGlmICghaGFzT3duUHJvcGVydHkuY2FsbChiLCBhS2V5c1trXSkpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gRmluYWxseSwgY2hlY2sgZGVlcCBlcXVhbGl0eSBvZiBhbGwgY2hpbGQgcHJvcGVydGllcy5cclxuICAgICAgICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCBrZXlDb3VudDsgKytrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIga2V5ID0gYUtleXNba107XHJcbiAgICAgICAgICAgICAgICBpZiAoIWNoZWNrKGFba2V5XSwgYltrZXldKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY2FzZSAnW29iamVjdCBFcnJvcl0nOlxyXG4gICAgICAgICAgICByZXR1cm4gYS5uYW1lID09PSBiLm5hbWUgJiYgYS5tZXNzYWdlID09PSBiLm1lc3NhZ2U7XHJcbiAgICAgICAgY2FzZSAnW29iamVjdCBOdW1iZXJdJzpcclxuICAgICAgICAgICAgLy8gSGFuZGxlIE5hTiwgd2hpY2ggaXMgIT09IGl0c2VsZi5cclxuICAgICAgICAgICAgaWYgKGEgIT09IGEpXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYiAhPT0gYjtcclxuICAgICAgICAvLyBGYWxsIHRocm91Z2ggdG8gc2hhcmVkICthID09PSArYiBjYXNlLi4uXHJcbiAgICAgICAgY2FzZSAnW29iamVjdCBCb29sZWFuXSc6XHJcbiAgICAgICAgY2FzZSAnW29iamVjdCBEYXRlXSc6XHJcbiAgICAgICAgICAgIHJldHVybiArYSA9PT0gK2I7XHJcbiAgICAgICAgY2FzZSAnW29iamVjdCBSZWdFeHBdJzpcclxuICAgICAgICBjYXNlICdbb2JqZWN0IFN0cmluZ10nOlxyXG4gICAgICAgICAgICByZXR1cm4gYSA9PSBcIlwiICsgYjtcclxuICAgICAgICBjYXNlICdbb2JqZWN0IE1hcF0nOlxyXG4gICAgICAgIGNhc2UgJ1tvYmplY3QgU2V0XSc6IHtcclxuICAgICAgICAgICAgaWYgKGEuc2l6ZSAhPT0gYi5zaXplKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICBpZiAocHJldmlvdXNseUNvbXBhcmVkKGEsIGIpKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgIHZhciBhSXRlcmF0b3IgPSBhLmVudHJpZXMoKTtcclxuICAgICAgICAgICAgdmFyIGlzTWFwID0gYVRhZyA9PT0gJ1tvYmplY3QgTWFwXSc7XHJcbiAgICAgICAgICAgIHdoaWxlICh0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgaW5mbyA9IGFJdGVyYXRvci5uZXh0KCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoaW5mby5kb25lKVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgLy8gSWYgYSBpbnN0YW5jZW9mIFNldCwgYVZhbHVlID09PSBhS2V5LlxyXG4gICAgICAgICAgICAgICAgdmFyIF9hID0gaW5mby52YWx1ZSwgYUtleSA9IF9hWzBdLCBhVmFsdWUgPSBfYVsxXTtcclxuICAgICAgICAgICAgICAgIC8vIFNvIHRoaXMgd29ya3MgdGhlIHNhbWUgd2F5IGZvciBib3RoIFNldCBhbmQgTWFwLlxyXG4gICAgICAgICAgICAgICAgaWYgKCFiLmhhcyhhS2V5KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIEhvd2V2ZXIsIHdlIGNhcmUgYWJvdXQgZGVlcCBlcXVhbGl0eSBvZiB2YWx1ZXMgb25seSB3aGVuIGRlYWxpbmdcclxuICAgICAgICAgICAgICAgIC8vIHdpdGggTWFwIHN0cnVjdHVyZXMuXHJcbiAgICAgICAgICAgICAgICBpZiAoaXNNYXAgJiYgIWNoZWNrKGFWYWx1ZSwgYi5nZXQoYUtleSkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8vIE90aGVyd2lzZSB0aGUgdmFsdWVzIGFyZSBub3QgZXF1YWwuXHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbn1cclxuZnVuY3Rpb24gcHJldmlvdXNseUNvbXBhcmVkKGEsIGIpIHtcclxuICAgIC8vIFRob3VnaCBjeWNsaWMgcmVmZXJlbmNlcyBjYW4gbWFrZSBhbiBvYmplY3QgZ3JhcGggYXBwZWFyIGluZmluaXRlIGZyb20gdGhlXHJcbiAgICAvLyBwZXJzcGVjdGl2ZSBvZiBhIGRlcHRoLWZpcnN0IHRyYXZlcnNhbCwgdGhlIGdyYXBoIHN0aWxsIGNvbnRhaW5zIGEgZmluaXRlXHJcbiAgICAvLyBudW1iZXIgb2YgZGlzdGluY3Qgb2JqZWN0IHJlZmVyZW5jZXMuIFdlIHVzZSB0aGUgcHJldmlvdXNDb21wYXJpc29ucyBjYWNoZVxyXG4gICAgLy8gdG8gYXZvaWQgY29tcGFyaW5nIHRoZSBzYW1lIHBhaXIgb2Ygb2JqZWN0IHJlZmVyZW5jZXMgbW9yZSB0aGFuIG9uY2UsIHdoaWNoXHJcbiAgICAvLyBndWFyYW50ZWVzIHRlcm1pbmF0aW9uIChldmVuIGlmIHdlIGVuZCB1cCBjb21wYXJpbmcgZXZlcnkgb2JqZWN0IGluIG9uZVxyXG4gICAgLy8gZ3JhcGggdG8gZXZlcnkgb2JqZWN0IGluIHRoZSBvdGhlciBncmFwaCwgd2hpY2ggaXMgZXh0cmVtZWx5IHVubGlrZWx5KSxcclxuICAgIC8vIHdoaWxlIHN0aWxsIGFsbG93aW5nIHdlaXJkIGlzb21vcnBoaWMgc3RydWN0dXJlcyAobGlrZSByaW5ncyB3aXRoIGRpZmZlcmVudFxyXG4gICAgLy8gbGVuZ3RocykgYSBjaGFuY2UgdG8gcGFzcyB0aGUgZXF1YWxpdHkgdGVzdC5cclxuICAgIHZhciBiU2V0ID0gcHJldmlvdXNDb21wYXJpc29ucy5nZXQoYSk7XHJcbiAgICBpZiAoYlNldCkge1xyXG4gICAgICAgIC8vIFJldHVybiB0cnVlIGhlcmUgYmVjYXVzZSB3ZSBjYW4gYmUgc3VyZSBmYWxzZSB3aWxsIGJlIHJldHVybmVkIHNvbWV3aGVyZVxyXG4gICAgICAgIC8vIGVsc2UgaWYgdGhlIG9iamVjdHMgYXJlIG5vdCBlcXVpdmFsZW50LlxyXG4gICAgICAgIGlmIChiU2V0LmhhcyhiKSlcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBwcmV2aW91c0NvbXBhcmlzb25zLnNldChhLCBiU2V0ID0gbmV3IFNldCk7XHJcbiAgICB9XHJcbiAgICBiU2V0LmFkZChiKTtcclxuICAgIHJldHVybiBmYWxzZTtcclxufVxuXG5leHBvcnQgZGVmYXVsdCBlcXVhbDtcbmV4cG9ydCB7IGVxdWFsIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1lcXVhbGl0eS5lc20uanMubWFwXG4iLCJpbXBvcnQgeyBfX2V4dGVuZHMgfSBmcm9tICd0c2xpYic7XG5cbnZhciBnZW5lcmljTWVzc2FnZSA9IFwiSW52YXJpYW50IFZpb2xhdGlvblwiO1xyXG52YXIgX2EgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YsIHNldFByb3RvdHlwZU9mID0gX2EgPT09IHZvaWQgMCA/IGZ1bmN0aW9uIChvYmosIHByb3RvKSB7XHJcbiAgICBvYmouX19wcm90b19fID0gcHJvdG87XHJcbiAgICByZXR1cm4gb2JqO1xyXG59IDogX2E7XHJcbnZhciBJbnZhcmlhbnRFcnJvciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhJbnZhcmlhbnRFcnJvciwgX3N1cGVyKTtcclxuICAgIGZ1bmN0aW9uIEludmFyaWFudEVycm9yKG1lc3NhZ2UpIHtcclxuICAgICAgICBpZiAobWVzc2FnZSA9PT0gdm9pZCAwKSB7IG1lc3NhZ2UgPSBnZW5lcmljTWVzc2FnZTsgfVxyXG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHR5cGVvZiBtZXNzYWdlID09PSBcIm51bWJlclwiXHJcbiAgICAgICAgICAgID8gZ2VuZXJpY01lc3NhZ2UgKyBcIjogXCIgKyBtZXNzYWdlICsgXCIgKHNlZSBodHRwczovL2dpdGh1Yi5jb20vYXBvbGxvZ3JhcGhxbC9pbnZhcmlhbnQtcGFja2FnZXMpXCJcclxuICAgICAgICAgICAgOiBtZXNzYWdlKSB8fCB0aGlzO1xyXG4gICAgICAgIF90aGlzLmZyYW1lc1RvUG9wID0gMTtcclxuICAgICAgICBfdGhpcy5uYW1lID0gZ2VuZXJpY01lc3NhZ2U7XHJcbiAgICAgICAgc2V0UHJvdG90eXBlT2YoX3RoaXMsIEludmFyaWFudEVycm9yLnByb3RvdHlwZSk7XHJcbiAgICAgICAgcmV0dXJuIF90aGlzO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIEludmFyaWFudEVycm9yO1xyXG59KEVycm9yKSk7XHJcbmZ1bmN0aW9uIGludmFyaWFudChjb25kaXRpb24sIG1lc3NhZ2UpIHtcclxuICAgIGlmICghY29uZGl0aW9uKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEludmFyaWFudEVycm9yKG1lc3NhZ2UpO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIHdyYXBDb25zb2xlTWV0aG9kKG1ldGhvZCkge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gY29uc29sZVttZXRob2RdLmFwcGx5KGNvbnNvbGUsIGFyZ3VtZW50cyk7XHJcbiAgICB9O1xyXG59XHJcbihmdW5jdGlvbiAoaW52YXJpYW50KSB7XHJcbiAgICBpbnZhcmlhbnQud2FybiA9IHdyYXBDb25zb2xlTWV0aG9kKFwid2FyblwiKTtcclxuICAgIGludmFyaWFudC5lcnJvciA9IHdyYXBDb25zb2xlTWV0aG9kKFwiZXJyb3JcIik7XHJcbn0pKGludmFyaWFudCB8fCAoaW52YXJpYW50ID0ge30pKTtcclxuLy8gQ29kZSB0aGF0IHVzZXMgdHMtaW52YXJpYW50IHdpdGggcm9sbHVwLXBsdWdpbi1pbnZhcmlhbnQgbWF5IHdhbnQgdG9cclxuLy8gaW1wb3J0IHRoaXMgcHJvY2VzcyBzdHViIHRvIGF2b2lkIGVycm9ycyBldmFsdWF0aW5nIHByb2Nlc3MuZW52Lk5PREVfRU5WLlxyXG4vLyBIb3dldmVyLCBiZWNhdXNlIG1vc3QgRVNNLXRvLUNKUyBjb21waWxlcnMgd2lsbCByZXdyaXRlIHRoZSBwcm9jZXNzIGltcG9ydFxyXG4vLyBhcyB0c0ludmFyaWFudC5wcm9jZXNzLCB3aGljaCBwcmV2ZW50cyBwcm9wZXIgcmVwbGFjZW1lbnQgYnkgbWluaWZpZXJzLCB3ZVxyXG4vLyBhbHNvIGF0dGVtcHQgdG8gZGVmaW5lIHRoZSBzdHViIGdsb2JhbGx5IHdoZW4gaXQgaXMgbm90IGFscmVhZHkgZGVmaW5lZC5cclxudmFyIHByb2Nlc3NTdHViID0geyBlbnY6IHt9IH07XHJcbmlmICh0eXBlb2YgcHJvY2VzcyA9PT0gXCJvYmplY3RcIikge1xyXG4gICAgcHJvY2Vzc1N0dWIgPSBwcm9jZXNzO1xyXG59XHJcbmVsc2VcclxuICAgIHRyeSB7XHJcbiAgICAgICAgLy8gVXNpbmcgRnVuY3Rpb24gdG8gZXZhbHVhdGUgdGhpcyBhc3NpZ25tZW50IGluIGdsb2JhbCBzY29wZSBhbHNvIGVzY2FwZXNcclxuICAgICAgICAvLyB0aGUgc3RyaWN0IG1vZGUgb2YgdGhlIGN1cnJlbnQgbW9kdWxlLCB0aGVyZWJ5IGFsbG93aW5nIHRoZSBhc3NpZ25tZW50LlxyXG4gICAgICAgIC8vIEluc3BpcmVkIGJ5IGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWdlbmVyYXRvci9wdWxsLzM2OS5cclxuICAgICAgICBGdW5jdGlvbihcInN0dWJcIiwgXCJwcm9jZXNzID0gc3R1YlwiKShwcm9jZXNzU3R1Yik7XHJcbiAgICB9XHJcbiAgICBjYXRjaCAoYXRMZWFzdFdlVHJpZWQpIHtcclxuICAgICAgICAvLyBUaGUgYXNzaWdubWVudCBjYW4gZmFpbCBpZiBhIENvbnRlbnQgU2VjdXJpdHkgUG9saWN5IGhlYXZ5LWhhbmRlZGx5XHJcbiAgICAgICAgLy8gZm9yYmlkcyBGdW5jdGlvbiB1c2FnZS4gSW4gdGhvc2UgZW52aXJvbm1lbnRzLCBkZXZlbG9wZXJzIHNob3VsZCB0YWtlXHJcbiAgICAgICAgLy8gZXh0cmEgY2FyZSB0byByZXBsYWNlIHByb2Nlc3MuZW52Lk5PREVfRU5WIGluIHRoZWlyIHByb2R1Y3Rpb24gYnVpbGRzLFxyXG4gICAgICAgIC8vIG9yIGRlZmluZSBhbiBhcHByb3ByaWF0ZSBnbG9iYWwucHJvY2VzcyBwb2x5ZmlsbC5cclxuICAgIH1cclxudmFyIGludmFyaWFudCQxID0gaW52YXJpYW50O1xuXG5leHBvcnQgZGVmYXVsdCBpbnZhcmlhbnQkMTtcbmV4cG9ydCB7IEludmFyaWFudEVycm9yLCBpbnZhcmlhbnQsIHByb2Nlc3NTdHViIGFzIHByb2Nlc3MgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWludmFyaWFudC5lc20uanMubWFwXG4iLCIoZnVuY3Rpb24oKSB7IG1vZHVsZS5leHBvcnRzID0gd2luZG93W1wicHJlc3Rhc2hvcFwiXTsgfSgpKTsiLCIvKipcbiAqIENvcHlyaWdodCAoYykgMjAxNC1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbi8vIFRoaXMgbWV0aG9kIG9mIG9idGFpbmluZyBhIHJlZmVyZW5jZSB0byB0aGUgZ2xvYmFsIG9iamVjdCBuZWVkcyB0byBiZVxuLy8ga2VwdCBpZGVudGljYWwgdG8gdGhlIHdheSBpdCBpcyBvYnRhaW5lZCBpbiBydW50aW1lLmpzXG52YXIgZyA9IChmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXMgfSkoKSB8fCBGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCk7XG5cbi8vIFVzZSBgZ2V0T3duUHJvcGVydHlOYW1lc2AgYmVjYXVzZSBub3QgYWxsIGJyb3dzZXJzIHN1cHBvcnQgY2FsbGluZ1xuLy8gYGhhc093blByb3BlcnR5YCBvbiB0aGUgZ2xvYmFsIGBzZWxmYCBvYmplY3QgaW4gYSB3b3JrZXIuIFNlZSAjMTgzLlxudmFyIGhhZFJ1bnRpbWUgPSBnLnJlZ2VuZXJhdG9yUnVudGltZSAmJlxuICBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhnKS5pbmRleE9mKFwicmVnZW5lcmF0b3JSdW50aW1lXCIpID49IDA7XG5cbi8vIFNhdmUgdGhlIG9sZCByZWdlbmVyYXRvclJ1bnRpbWUgaW4gY2FzZSBpdCBuZWVkcyB0byBiZSByZXN0b3JlZCBsYXRlci5cbnZhciBvbGRSdW50aW1lID0gaGFkUnVudGltZSAmJiBnLnJlZ2VuZXJhdG9yUnVudGltZTtcblxuLy8gRm9yY2UgcmVldmFsdXRhdGlvbiBvZiBydW50aW1lLmpzLlxuZy5yZWdlbmVyYXRvclJ1bnRpbWUgPSB1bmRlZmluZWQ7XG5cbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIi4vcnVudGltZVwiKTtcblxuaWYgKGhhZFJ1bnRpbWUpIHtcbiAgLy8gUmVzdG9yZSB0aGUgb3JpZ2luYWwgcnVudGltZS5cbiAgZy5yZWdlbmVyYXRvclJ1bnRpbWUgPSBvbGRSdW50aW1lO1xufSBlbHNlIHtcbiAgLy8gUmVtb3ZlIHRoZSBnbG9iYWwgcHJvcGVydHkgYWRkZWQgYnkgcnVudGltZS5qcy5cbiAgdHJ5IHtcbiAgICBkZWxldGUgZy5yZWdlbmVyYXRvclJ1bnRpbWU7XG4gIH0gY2F0Y2goZSkge1xuICAgIGcucmVnZW5lcmF0b3JSdW50aW1lID0gdW5kZWZpbmVkO1xuICB9XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAoYykgMjAxNC1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbiEoZnVuY3Rpb24oZ2xvYmFsKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuXG4gIHZhciBPcCA9IE9iamVjdC5wcm90b3R5cGU7XG4gIHZhciBoYXNPd24gPSBPcC5oYXNPd25Qcm9wZXJ0eTtcbiAgdmFyIHVuZGVmaW5lZDsgLy8gTW9yZSBjb21wcmVzc2libGUgdGhhbiB2b2lkIDAuXG4gIHZhciAkU3ltYm9sID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiID8gU3ltYm9sIDoge307XG4gIHZhciBpdGVyYXRvclN5bWJvbCA9ICRTeW1ib2wuaXRlcmF0b3IgfHwgXCJAQGl0ZXJhdG9yXCI7XG4gIHZhciBhc3luY0l0ZXJhdG9yU3ltYm9sID0gJFN5bWJvbC5hc3luY0l0ZXJhdG9yIHx8IFwiQEBhc3luY0l0ZXJhdG9yXCI7XG4gIHZhciB0b1N0cmluZ1RhZ1N5bWJvbCA9ICRTeW1ib2wudG9TdHJpbmdUYWcgfHwgXCJAQHRvU3RyaW5nVGFnXCI7XG5cbiAgdmFyIGluTW9kdWxlID0gdHlwZW9mIG1vZHVsZSA9PT0gXCJvYmplY3RcIjtcbiAgdmFyIHJ1bnRpbWUgPSBnbG9iYWwucmVnZW5lcmF0b3JSdW50aW1lO1xuICBpZiAocnVudGltZSkge1xuICAgIGlmIChpbk1vZHVsZSkge1xuICAgICAgLy8gSWYgcmVnZW5lcmF0b3JSdW50aW1lIGlzIGRlZmluZWQgZ2xvYmFsbHkgYW5kIHdlJ3JlIGluIGEgbW9kdWxlLFxuICAgICAgLy8gbWFrZSB0aGUgZXhwb3J0cyBvYmplY3QgaWRlbnRpY2FsIHRvIHJlZ2VuZXJhdG9yUnVudGltZS5cbiAgICAgIG1vZHVsZS5leHBvcnRzID0gcnVudGltZTtcbiAgICB9XG4gICAgLy8gRG9uJ3QgYm90aGVyIGV2YWx1YXRpbmcgdGhlIHJlc3Qgb2YgdGhpcyBmaWxlIGlmIHRoZSBydW50aW1lIHdhc1xuICAgIC8vIGFscmVhZHkgZGVmaW5lZCBnbG9iYWxseS5cbiAgICByZXR1cm47XG4gIH1cblxuICAvLyBEZWZpbmUgdGhlIHJ1bnRpbWUgZ2xvYmFsbHkgKGFzIGV4cGVjdGVkIGJ5IGdlbmVyYXRlZCBjb2RlKSBhcyBlaXRoZXJcbiAgLy8gbW9kdWxlLmV4cG9ydHMgKGlmIHdlJ3JlIGluIGEgbW9kdWxlKSBvciBhIG5ldywgZW1wdHkgb2JqZWN0LlxuICBydW50aW1lID0gZ2xvYmFsLnJlZ2VuZXJhdG9yUnVudGltZSA9IGluTW9kdWxlID8gbW9kdWxlLmV4cG9ydHMgOiB7fTtcblxuICBmdW5jdGlvbiB3cmFwKGlubmVyRm4sIG91dGVyRm4sIHNlbGYsIHRyeUxvY3NMaXN0KSB7XG4gICAgLy8gSWYgb3V0ZXJGbiBwcm92aWRlZCBhbmQgb3V0ZXJGbi5wcm90b3R5cGUgaXMgYSBHZW5lcmF0b3IsIHRoZW4gb3V0ZXJGbi5wcm90b3R5cGUgaW5zdGFuY2VvZiBHZW5lcmF0b3IuXG4gICAgdmFyIHByb3RvR2VuZXJhdG9yID0gb3V0ZXJGbiAmJiBvdXRlckZuLnByb3RvdHlwZSBpbnN0YW5jZW9mIEdlbmVyYXRvciA/IG91dGVyRm4gOiBHZW5lcmF0b3I7XG4gICAgdmFyIGdlbmVyYXRvciA9IE9iamVjdC5jcmVhdGUocHJvdG9HZW5lcmF0b3IucHJvdG90eXBlKTtcbiAgICB2YXIgY29udGV4dCA9IG5ldyBDb250ZXh0KHRyeUxvY3NMaXN0IHx8IFtdKTtcblxuICAgIC8vIFRoZSAuX2ludm9rZSBtZXRob2QgdW5pZmllcyB0aGUgaW1wbGVtZW50YXRpb25zIG9mIHRoZSAubmV4dCxcbiAgICAvLyAudGhyb3csIGFuZCAucmV0dXJuIG1ldGhvZHMuXG4gICAgZ2VuZXJhdG9yLl9pbnZva2UgPSBtYWtlSW52b2tlTWV0aG9kKGlubmVyRm4sIHNlbGYsIGNvbnRleHQpO1xuXG4gICAgcmV0dXJuIGdlbmVyYXRvcjtcbiAgfVxuICBydW50aW1lLndyYXAgPSB3cmFwO1xuXG4gIC8vIFRyeS9jYXRjaCBoZWxwZXIgdG8gbWluaW1pemUgZGVvcHRpbWl6YXRpb25zLiBSZXR1cm5zIGEgY29tcGxldGlvblxuICAvLyByZWNvcmQgbGlrZSBjb250ZXh0LnRyeUVudHJpZXNbaV0uY29tcGxldGlvbi4gVGhpcyBpbnRlcmZhY2UgY291bGRcbiAgLy8gaGF2ZSBiZWVuIChhbmQgd2FzIHByZXZpb3VzbHkpIGRlc2lnbmVkIHRvIHRha2UgYSBjbG9zdXJlIHRvIGJlXG4gIC8vIGludm9rZWQgd2l0aG91dCBhcmd1bWVudHMsIGJ1dCBpbiBhbGwgdGhlIGNhc2VzIHdlIGNhcmUgYWJvdXQgd2VcbiAgLy8gYWxyZWFkeSBoYXZlIGFuIGV4aXN0aW5nIG1ldGhvZCB3ZSB3YW50IHRvIGNhbGwsIHNvIHRoZXJlJ3Mgbm8gbmVlZFxuICAvLyB0byBjcmVhdGUgYSBuZXcgZnVuY3Rpb24gb2JqZWN0LiBXZSBjYW4gZXZlbiBnZXQgYXdheSB3aXRoIGFzc3VtaW5nXG4gIC8vIHRoZSBtZXRob2QgdGFrZXMgZXhhY3RseSBvbmUgYXJndW1lbnQsIHNpbmNlIHRoYXQgaGFwcGVucyB0byBiZSB0cnVlXG4gIC8vIGluIGV2ZXJ5IGNhc2UsIHNvIHdlIGRvbid0IGhhdmUgdG8gdG91Y2ggdGhlIGFyZ3VtZW50cyBvYmplY3QuIFRoZVxuICAvLyBvbmx5IGFkZGl0aW9uYWwgYWxsb2NhdGlvbiByZXF1aXJlZCBpcyB0aGUgY29tcGxldGlvbiByZWNvcmQsIHdoaWNoXG4gIC8vIGhhcyBhIHN0YWJsZSBzaGFwZSBhbmQgc28gaG9wZWZ1bGx5IHNob3VsZCBiZSBjaGVhcCB0byBhbGxvY2F0ZS5cbiAgZnVuY3Rpb24gdHJ5Q2F0Y2goZm4sIG9iaiwgYXJnKSB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiB7IHR5cGU6IFwibm9ybWFsXCIsIGFyZzogZm4uY2FsbChvYmosIGFyZykgfTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIHJldHVybiB7IHR5cGU6IFwidGhyb3dcIiwgYXJnOiBlcnIgfTtcbiAgICB9XG4gIH1cblxuICB2YXIgR2VuU3RhdGVTdXNwZW5kZWRTdGFydCA9IFwic3VzcGVuZGVkU3RhcnRcIjtcbiAgdmFyIEdlblN0YXRlU3VzcGVuZGVkWWllbGQgPSBcInN1c3BlbmRlZFlpZWxkXCI7XG4gIHZhciBHZW5TdGF0ZUV4ZWN1dGluZyA9IFwiZXhlY3V0aW5nXCI7XG4gIHZhciBHZW5TdGF0ZUNvbXBsZXRlZCA9IFwiY29tcGxldGVkXCI7XG5cbiAgLy8gUmV0dXJuaW5nIHRoaXMgb2JqZWN0IGZyb20gdGhlIGlubmVyRm4gaGFzIHRoZSBzYW1lIGVmZmVjdCBhc1xuICAvLyBicmVha2luZyBvdXQgb2YgdGhlIGRpc3BhdGNoIHN3aXRjaCBzdGF0ZW1lbnQuXG4gIHZhciBDb250aW51ZVNlbnRpbmVsID0ge307XG5cbiAgLy8gRHVtbXkgY29uc3RydWN0b3IgZnVuY3Rpb25zIHRoYXQgd2UgdXNlIGFzIHRoZSAuY29uc3RydWN0b3IgYW5kXG4gIC8vIC5jb25zdHJ1Y3Rvci5wcm90b3R5cGUgcHJvcGVydGllcyBmb3IgZnVuY3Rpb25zIHRoYXQgcmV0dXJuIEdlbmVyYXRvclxuICAvLyBvYmplY3RzLiBGb3IgZnVsbCBzcGVjIGNvbXBsaWFuY2UsIHlvdSBtYXkgd2lzaCB0byBjb25maWd1cmUgeW91clxuICAvLyBtaW5pZmllciBub3QgdG8gbWFuZ2xlIHRoZSBuYW1lcyBvZiB0aGVzZSB0d28gZnVuY3Rpb25zLlxuICBmdW5jdGlvbiBHZW5lcmF0b3IoKSB7fVxuICBmdW5jdGlvbiBHZW5lcmF0b3JGdW5jdGlvbigpIHt9XG4gIGZ1bmN0aW9uIEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlKCkge31cblxuICAvLyBUaGlzIGlzIGEgcG9seWZpbGwgZm9yICVJdGVyYXRvclByb3RvdHlwZSUgZm9yIGVudmlyb25tZW50cyB0aGF0XG4gIC8vIGRvbid0IG5hdGl2ZWx5IHN1cHBvcnQgaXQuXG4gIHZhciBJdGVyYXRvclByb3RvdHlwZSA9IHt9O1xuICBJdGVyYXRvclByb3RvdHlwZVtpdGVyYXRvclN5bWJvbF0gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgdmFyIGdldFByb3RvID0gT2JqZWN0LmdldFByb3RvdHlwZU9mO1xuICB2YXIgTmF0aXZlSXRlcmF0b3JQcm90b3R5cGUgPSBnZXRQcm90byAmJiBnZXRQcm90byhnZXRQcm90byh2YWx1ZXMoW10pKSk7XG4gIGlmIChOYXRpdmVJdGVyYXRvclByb3RvdHlwZSAmJlxuICAgICAgTmF0aXZlSXRlcmF0b3JQcm90b3R5cGUgIT09IE9wICYmXG4gICAgICBoYXNPd24uY2FsbChOYXRpdmVJdGVyYXRvclByb3RvdHlwZSwgaXRlcmF0b3JTeW1ib2wpKSB7XG4gICAgLy8gVGhpcyBlbnZpcm9ubWVudCBoYXMgYSBuYXRpdmUgJUl0ZXJhdG9yUHJvdG90eXBlJTsgdXNlIGl0IGluc3RlYWRcbiAgICAvLyBvZiB0aGUgcG9seWZpbGwuXG4gICAgSXRlcmF0b3JQcm90b3R5cGUgPSBOYXRpdmVJdGVyYXRvclByb3RvdHlwZTtcbiAgfVxuXG4gIHZhciBHcCA9IEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlLnByb3RvdHlwZSA9XG4gICAgR2VuZXJhdG9yLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoSXRlcmF0b3JQcm90b3R5cGUpO1xuICBHZW5lcmF0b3JGdW5jdGlvbi5wcm90b3R5cGUgPSBHcC5jb25zdHJ1Y3RvciA9IEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlO1xuICBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEdlbmVyYXRvckZ1bmN0aW9uO1xuICBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZVt0b1N0cmluZ1RhZ1N5bWJvbF0gPVxuICAgIEdlbmVyYXRvckZ1bmN0aW9uLmRpc3BsYXlOYW1lID0gXCJHZW5lcmF0b3JGdW5jdGlvblwiO1xuXG4gIC8vIEhlbHBlciBmb3IgZGVmaW5pbmcgdGhlIC5uZXh0LCAudGhyb3csIGFuZCAucmV0dXJuIG1ldGhvZHMgb2YgdGhlXG4gIC8vIEl0ZXJhdG9yIGludGVyZmFjZSBpbiB0ZXJtcyBvZiBhIHNpbmdsZSAuX2ludm9rZSBtZXRob2QuXG4gIGZ1bmN0aW9uIGRlZmluZUl0ZXJhdG9yTWV0aG9kcyhwcm90b3R5cGUpIHtcbiAgICBbXCJuZXh0XCIsIFwidGhyb3dcIiwgXCJyZXR1cm5cIl0uZm9yRWFjaChmdW5jdGlvbihtZXRob2QpIHtcbiAgICAgIHByb3RvdHlwZVttZXRob2RdID0gZnVuY3Rpb24oYXJnKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pbnZva2UobWV0aG9kLCBhcmcpO1xuICAgICAgfTtcbiAgICB9KTtcbiAgfVxuXG4gIHJ1bnRpbWUuaXNHZW5lcmF0b3JGdW5jdGlvbiA9IGZ1bmN0aW9uKGdlbkZ1bikge1xuICAgIHZhciBjdG9yID0gdHlwZW9mIGdlbkZ1biA9PT0gXCJmdW5jdGlvblwiICYmIGdlbkZ1bi5jb25zdHJ1Y3RvcjtcbiAgICByZXR1cm4gY3RvclxuICAgICAgPyBjdG9yID09PSBHZW5lcmF0b3JGdW5jdGlvbiB8fFxuICAgICAgICAvLyBGb3IgdGhlIG5hdGl2ZSBHZW5lcmF0b3JGdW5jdGlvbiBjb25zdHJ1Y3RvciwgdGhlIGJlc3Qgd2UgY2FuXG4gICAgICAgIC8vIGRvIGlzIHRvIGNoZWNrIGl0cyAubmFtZSBwcm9wZXJ0eS5cbiAgICAgICAgKGN0b3IuZGlzcGxheU5hbWUgfHwgY3Rvci5uYW1lKSA9PT0gXCJHZW5lcmF0b3JGdW5jdGlvblwiXG4gICAgICA6IGZhbHNlO1xuICB9O1xuXG4gIHJ1bnRpbWUubWFyayA9IGZ1bmN0aW9uKGdlbkZ1bikge1xuICAgIGlmIChPYmplY3Quc2V0UHJvdG90eXBlT2YpIHtcbiAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZihnZW5GdW4sIEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZ2VuRnVuLl9fcHJvdG9fXyA9IEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlO1xuICAgICAgaWYgKCEodG9TdHJpbmdUYWdTeW1ib2wgaW4gZ2VuRnVuKSkge1xuICAgICAgICBnZW5GdW5bdG9TdHJpbmdUYWdTeW1ib2xdID0gXCJHZW5lcmF0b3JGdW5jdGlvblwiO1xuICAgICAgfVxuICAgIH1cbiAgICBnZW5GdW4ucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShHcCk7XG4gICAgcmV0dXJuIGdlbkZ1bjtcbiAgfTtcblxuICAvLyBXaXRoaW4gdGhlIGJvZHkgb2YgYW55IGFzeW5jIGZ1bmN0aW9uLCBgYXdhaXQgeGAgaXMgdHJhbnNmb3JtZWQgdG9cbiAgLy8gYHlpZWxkIHJlZ2VuZXJhdG9yUnVudGltZS5hd3JhcCh4KWAsIHNvIHRoYXQgdGhlIHJ1bnRpbWUgY2FuIHRlc3RcbiAgLy8gYGhhc093bi5jYWxsKHZhbHVlLCBcIl9fYXdhaXRcIilgIHRvIGRldGVybWluZSBpZiB0aGUgeWllbGRlZCB2YWx1ZSBpc1xuICAvLyBtZWFudCB0byBiZSBhd2FpdGVkLlxuICBydW50aW1lLmF3cmFwID0gZnVuY3Rpb24oYXJnKSB7XG4gICAgcmV0dXJuIHsgX19hd2FpdDogYXJnIH07XG4gIH07XG5cbiAgZnVuY3Rpb24gQXN5bmNJdGVyYXRvcihnZW5lcmF0b3IpIHtcbiAgICBmdW5jdGlvbiBpbnZva2UobWV0aG9kLCBhcmcsIHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgdmFyIHJlY29yZCA9IHRyeUNhdGNoKGdlbmVyYXRvclttZXRob2RdLCBnZW5lcmF0b3IsIGFyZyk7XG4gICAgICBpZiAocmVjb3JkLnR5cGUgPT09IFwidGhyb3dcIikge1xuICAgICAgICByZWplY3QocmVjb3JkLmFyZyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgcmVzdWx0ID0gcmVjb3JkLmFyZztcbiAgICAgICAgdmFyIHZhbHVlID0gcmVzdWx0LnZhbHVlO1xuICAgICAgICBpZiAodmFsdWUgJiZcbiAgICAgICAgICAgIHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIiAmJlxuICAgICAgICAgICAgaGFzT3duLmNhbGwodmFsdWUsIFwiX19hd2FpdFwiKSkge1xuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodmFsdWUuX19hd2FpdCkudGhlbihmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgICAgaW52b2tlKFwibmV4dFwiLCB2YWx1ZSwgcmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgICAgICB9LCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICAgIGludm9rZShcInRocm93XCIsIGVyciwgcmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodmFsdWUpLnRoZW4oZnVuY3Rpb24odW53cmFwcGVkKSB7XG4gICAgICAgICAgLy8gV2hlbiBhIHlpZWxkZWQgUHJvbWlzZSBpcyByZXNvbHZlZCwgaXRzIGZpbmFsIHZhbHVlIGJlY29tZXNcbiAgICAgICAgICAvLyB0aGUgLnZhbHVlIG9mIHRoZSBQcm9taXNlPHt2YWx1ZSxkb25lfT4gcmVzdWx0IGZvciB0aGVcbiAgICAgICAgICAvLyBjdXJyZW50IGl0ZXJhdGlvbi4gSWYgdGhlIFByb21pc2UgaXMgcmVqZWN0ZWQsIGhvd2V2ZXIsIHRoZVxuICAgICAgICAgIC8vIHJlc3VsdCBmb3IgdGhpcyBpdGVyYXRpb24gd2lsbCBiZSByZWplY3RlZCB3aXRoIHRoZSBzYW1lXG4gICAgICAgICAgLy8gcmVhc29uLiBOb3RlIHRoYXQgcmVqZWN0aW9ucyBvZiB5aWVsZGVkIFByb21pc2VzIGFyZSBub3RcbiAgICAgICAgICAvLyB0aHJvd24gYmFjayBpbnRvIHRoZSBnZW5lcmF0b3IgZnVuY3Rpb24sIGFzIGlzIHRoZSBjYXNlXG4gICAgICAgICAgLy8gd2hlbiBhbiBhd2FpdGVkIFByb21pc2UgaXMgcmVqZWN0ZWQuIFRoaXMgZGlmZmVyZW5jZSBpblxuICAgICAgICAgIC8vIGJlaGF2aW9yIGJldHdlZW4geWllbGQgYW5kIGF3YWl0IGlzIGltcG9ydGFudCwgYmVjYXVzZSBpdFxuICAgICAgICAgIC8vIGFsbG93cyB0aGUgY29uc3VtZXIgdG8gZGVjaWRlIHdoYXQgdG8gZG8gd2l0aCB0aGUgeWllbGRlZFxuICAgICAgICAgIC8vIHJlamVjdGlvbiAoc3dhbGxvdyBpdCBhbmQgY29udGludWUsIG1hbnVhbGx5IC50aHJvdyBpdCBiYWNrXG4gICAgICAgICAgLy8gaW50byB0aGUgZ2VuZXJhdG9yLCBhYmFuZG9uIGl0ZXJhdGlvbiwgd2hhdGV2ZXIpLiBXaXRoXG4gICAgICAgICAgLy8gYXdhaXQsIGJ5IGNvbnRyYXN0LCB0aGVyZSBpcyBubyBvcHBvcnR1bml0eSB0byBleGFtaW5lIHRoZVxuICAgICAgICAgIC8vIHJlamVjdGlvbiByZWFzb24gb3V0c2lkZSB0aGUgZ2VuZXJhdG9yIGZ1bmN0aW9uLCBzbyB0aGVcbiAgICAgICAgICAvLyBvbmx5IG9wdGlvbiBpcyB0byB0aHJvdyBpdCBmcm9tIHRoZSBhd2FpdCBleHByZXNzaW9uLCBhbmRcbiAgICAgICAgICAvLyBsZXQgdGhlIGdlbmVyYXRvciBmdW5jdGlvbiBoYW5kbGUgdGhlIGV4Y2VwdGlvbi5cbiAgICAgICAgICByZXN1bHQudmFsdWUgPSB1bndyYXBwZWQ7XG4gICAgICAgICAgcmVzb2x2ZShyZXN1bHQpO1xuICAgICAgICB9LCByZWplY3QpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBwcmV2aW91c1Byb21pc2U7XG5cbiAgICBmdW5jdGlvbiBlbnF1ZXVlKG1ldGhvZCwgYXJnKSB7XG4gICAgICBmdW5jdGlvbiBjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZygpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgIGludm9rZShtZXRob2QsIGFyZywgcmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBwcmV2aW91c1Byb21pc2UgPVxuICAgICAgICAvLyBJZiBlbnF1ZXVlIGhhcyBiZWVuIGNhbGxlZCBiZWZvcmUsIHRoZW4gd2Ugd2FudCB0byB3YWl0IHVudGlsXG4gICAgICAgIC8vIGFsbCBwcmV2aW91cyBQcm9taXNlcyBoYXZlIGJlZW4gcmVzb2x2ZWQgYmVmb3JlIGNhbGxpbmcgaW52b2tlLFxuICAgICAgICAvLyBzbyB0aGF0IHJlc3VsdHMgYXJlIGFsd2F5cyBkZWxpdmVyZWQgaW4gdGhlIGNvcnJlY3Qgb3JkZXIuIElmXG4gICAgICAgIC8vIGVucXVldWUgaGFzIG5vdCBiZWVuIGNhbGxlZCBiZWZvcmUsIHRoZW4gaXQgaXMgaW1wb3J0YW50IHRvXG4gICAgICAgIC8vIGNhbGwgaW52b2tlIGltbWVkaWF0ZWx5LCB3aXRob3V0IHdhaXRpbmcgb24gYSBjYWxsYmFjayB0byBmaXJlLFxuICAgICAgICAvLyBzbyB0aGF0IHRoZSBhc3luYyBnZW5lcmF0b3IgZnVuY3Rpb24gaGFzIHRoZSBvcHBvcnR1bml0eSB0byBkb1xuICAgICAgICAvLyBhbnkgbmVjZXNzYXJ5IHNldHVwIGluIGEgcHJlZGljdGFibGUgd2F5LiBUaGlzIHByZWRpY3RhYmlsaXR5XG4gICAgICAgIC8vIGlzIHdoeSB0aGUgUHJvbWlzZSBjb25zdHJ1Y3RvciBzeW5jaHJvbm91c2x5IGludm9rZXMgaXRzXG4gICAgICAgIC8vIGV4ZWN1dG9yIGNhbGxiYWNrLCBhbmQgd2h5IGFzeW5jIGZ1bmN0aW9ucyBzeW5jaHJvbm91c2x5XG4gICAgICAgIC8vIGV4ZWN1dGUgY29kZSBiZWZvcmUgdGhlIGZpcnN0IGF3YWl0LiBTaW5jZSB3ZSBpbXBsZW1lbnQgc2ltcGxlXG4gICAgICAgIC8vIGFzeW5jIGZ1bmN0aW9ucyBpbiB0ZXJtcyBvZiBhc3luYyBnZW5lcmF0b3JzLCBpdCBpcyBlc3BlY2lhbGx5XG4gICAgICAgIC8vIGltcG9ydGFudCB0byBnZXQgdGhpcyByaWdodCwgZXZlbiB0aG91Z2ggaXQgcmVxdWlyZXMgY2FyZS5cbiAgICAgICAgcHJldmlvdXNQcm9taXNlID8gcHJldmlvdXNQcm9taXNlLnRoZW4oXG4gICAgICAgICAgY2FsbEludm9rZVdpdGhNZXRob2RBbmRBcmcsXG4gICAgICAgICAgLy8gQXZvaWQgcHJvcGFnYXRpbmcgZmFpbHVyZXMgdG8gUHJvbWlzZXMgcmV0dXJuZWQgYnkgbGF0ZXJcbiAgICAgICAgICAvLyBpbnZvY2F0aW9ucyBvZiB0aGUgaXRlcmF0b3IuXG4gICAgICAgICAgY2FsbEludm9rZVdpdGhNZXRob2RBbmRBcmdcbiAgICAgICAgKSA6IGNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnKCk7XG4gICAgfVxuXG4gICAgLy8gRGVmaW5lIHRoZSB1bmlmaWVkIGhlbHBlciBtZXRob2QgdGhhdCBpcyB1c2VkIHRvIGltcGxlbWVudCAubmV4dCxcbiAgICAvLyAudGhyb3csIGFuZCAucmV0dXJuIChzZWUgZGVmaW5lSXRlcmF0b3JNZXRob2RzKS5cbiAgICB0aGlzLl9pbnZva2UgPSBlbnF1ZXVlO1xuICB9XG5cbiAgZGVmaW5lSXRlcmF0b3JNZXRob2RzKEFzeW5jSXRlcmF0b3IucHJvdG90eXBlKTtcbiAgQXN5bmNJdGVyYXRvci5wcm90b3R5cGVbYXN5bmNJdGVyYXRvclN5bWJvbF0gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG4gIHJ1bnRpbWUuQXN5bmNJdGVyYXRvciA9IEFzeW5jSXRlcmF0b3I7XG5cbiAgLy8gTm90ZSB0aGF0IHNpbXBsZSBhc3luYyBmdW5jdGlvbnMgYXJlIGltcGxlbWVudGVkIG9uIHRvcCBvZlxuICAvLyBBc3luY0l0ZXJhdG9yIG9iamVjdHM7IHRoZXkganVzdCByZXR1cm4gYSBQcm9taXNlIGZvciB0aGUgdmFsdWUgb2ZcbiAgLy8gdGhlIGZpbmFsIHJlc3VsdCBwcm9kdWNlZCBieSB0aGUgaXRlcmF0b3IuXG4gIHJ1bnRpbWUuYXN5bmMgPSBmdW5jdGlvbihpbm5lckZuLCBvdXRlckZuLCBzZWxmLCB0cnlMb2NzTGlzdCkge1xuICAgIHZhciBpdGVyID0gbmV3IEFzeW5jSXRlcmF0b3IoXG4gICAgICB3cmFwKGlubmVyRm4sIG91dGVyRm4sIHNlbGYsIHRyeUxvY3NMaXN0KVxuICAgICk7XG5cbiAgICByZXR1cm4gcnVudGltZS5pc0dlbmVyYXRvckZ1bmN0aW9uKG91dGVyRm4pXG4gICAgICA/IGl0ZXIgLy8gSWYgb3V0ZXJGbiBpcyBhIGdlbmVyYXRvciwgcmV0dXJuIHRoZSBmdWxsIGl0ZXJhdG9yLlxuICAgICAgOiBpdGVyLm5leHQoKS50aGVuKGZ1bmN0aW9uKHJlc3VsdCkge1xuICAgICAgICAgIHJldHVybiByZXN1bHQuZG9uZSA/IHJlc3VsdC52YWx1ZSA6IGl0ZXIubmV4dCgpO1xuICAgICAgICB9KTtcbiAgfTtcblxuICBmdW5jdGlvbiBtYWtlSW52b2tlTWV0aG9kKGlubmVyRm4sIHNlbGYsIGNvbnRleHQpIHtcbiAgICB2YXIgc3RhdGUgPSBHZW5TdGF0ZVN1c3BlbmRlZFN0YXJ0O1xuXG4gICAgcmV0dXJuIGZ1bmN0aW9uIGludm9rZShtZXRob2QsIGFyZykge1xuICAgICAgaWYgKHN0YXRlID09PSBHZW5TdGF0ZUV4ZWN1dGluZykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBydW5uaW5nXCIpO1xuICAgICAgfVxuXG4gICAgICBpZiAoc3RhdGUgPT09IEdlblN0YXRlQ29tcGxldGVkKSB7XG4gICAgICAgIGlmIChtZXRob2QgPT09IFwidGhyb3dcIikge1xuICAgICAgICAgIHRocm93IGFyZztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEJlIGZvcmdpdmluZywgcGVyIDI1LjMuMy4zLjMgb2YgdGhlIHNwZWM6XG4gICAgICAgIC8vIGh0dHBzOi8vcGVvcGxlLm1vemlsbGEub3JnL35qb3JlbmRvcmZmL2VzNi1kcmFmdC5odG1sI3NlYy1nZW5lcmF0b3JyZXN1bWVcbiAgICAgICAgcmV0dXJuIGRvbmVSZXN1bHQoKTtcbiAgICAgIH1cblxuICAgICAgY29udGV4dC5tZXRob2QgPSBtZXRob2Q7XG4gICAgICBjb250ZXh0LmFyZyA9IGFyZztcblxuICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgdmFyIGRlbGVnYXRlID0gY29udGV4dC5kZWxlZ2F0ZTtcbiAgICAgICAgaWYgKGRlbGVnYXRlKSB7XG4gICAgICAgICAgdmFyIGRlbGVnYXRlUmVzdWx0ID0gbWF5YmVJbnZva2VEZWxlZ2F0ZShkZWxlZ2F0ZSwgY29udGV4dCk7XG4gICAgICAgICAgaWYgKGRlbGVnYXRlUmVzdWx0KSB7XG4gICAgICAgICAgICBpZiAoZGVsZWdhdGVSZXN1bHQgPT09IENvbnRpbnVlU2VudGluZWwpIGNvbnRpbnVlO1xuICAgICAgICAgICAgcmV0dXJuIGRlbGVnYXRlUmVzdWx0O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjb250ZXh0Lm1ldGhvZCA9PT0gXCJuZXh0XCIpIHtcbiAgICAgICAgICAvLyBTZXR0aW5nIGNvbnRleHQuX3NlbnQgZm9yIGxlZ2FjeSBzdXBwb3J0IG9mIEJhYmVsJ3NcbiAgICAgICAgICAvLyBmdW5jdGlvbi5zZW50IGltcGxlbWVudGF0aW9uLlxuICAgICAgICAgIGNvbnRleHQuc2VudCA9IGNvbnRleHQuX3NlbnQgPSBjb250ZXh0LmFyZztcblxuICAgICAgICB9IGVsc2UgaWYgKGNvbnRleHQubWV0aG9kID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICBpZiAoc3RhdGUgPT09IEdlblN0YXRlU3VzcGVuZGVkU3RhcnQpIHtcbiAgICAgICAgICAgIHN0YXRlID0gR2VuU3RhdGVDb21wbGV0ZWQ7XG4gICAgICAgICAgICB0aHJvdyBjb250ZXh0LmFyZztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjb250ZXh0LmRpc3BhdGNoRXhjZXB0aW9uKGNvbnRleHQuYXJnKTtcblxuICAgICAgICB9IGVsc2UgaWYgKGNvbnRleHQubWV0aG9kID09PSBcInJldHVyblwiKSB7XG4gICAgICAgICAgY29udGV4dC5hYnJ1cHQoXCJyZXR1cm5cIiwgY29udGV4dC5hcmcpO1xuICAgICAgICB9XG5cbiAgICAgICAgc3RhdGUgPSBHZW5TdGF0ZUV4ZWN1dGluZztcblxuICAgICAgICB2YXIgcmVjb3JkID0gdHJ5Q2F0Y2goaW5uZXJGbiwgc2VsZiwgY29udGV4dCk7XG4gICAgICAgIGlmIChyZWNvcmQudHlwZSA9PT0gXCJub3JtYWxcIikge1xuICAgICAgICAgIC8vIElmIGFuIGV4Y2VwdGlvbiBpcyB0aHJvd24gZnJvbSBpbm5lckZuLCB3ZSBsZWF2ZSBzdGF0ZSA9PT1cbiAgICAgICAgICAvLyBHZW5TdGF0ZUV4ZWN1dGluZyBhbmQgbG9vcCBiYWNrIGZvciBhbm90aGVyIGludm9jYXRpb24uXG4gICAgICAgICAgc3RhdGUgPSBjb250ZXh0LmRvbmVcbiAgICAgICAgICAgID8gR2VuU3RhdGVDb21wbGV0ZWRcbiAgICAgICAgICAgIDogR2VuU3RhdGVTdXNwZW5kZWRZaWVsZDtcblxuICAgICAgICAgIGlmIChyZWNvcmQuYXJnID09PSBDb250aW51ZVNlbnRpbmVsKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdmFsdWU6IHJlY29yZC5hcmcsXG4gICAgICAgICAgICBkb25lOiBjb250ZXh0LmRvbmVcbiAgICAgICAgICB9O1xuXG4gICAgICAgIH0gZWxzZSBpZiAocmVjb3JkLnR5cGUgPT09IFwidGhyb3dcIikge1xuICAgICAgICAgIHN0YXRlID0gR2VuU3RhdGVDb21wbGV0ZWQ7XG4gICAgICAgICAgLy8gRGlzcGF0Y2ggdGhlIGV4Y2VwdGlvbiBieSBsb29waW5nIGJhY2sgYXJvdW5kIHRvIHRoZVxuICAgICAgICAgIC8vIGNvbnRleHQuZGlzcGF0Y2hFeGNlcHRpb24oY29udGV4dC5hcmcpIGNhbGwgYWJvdmUuXG4gICAgICAgICAgY29udGV4dC5tZXRob2QgPSBcInRocm93XCI7XG4gICAgICAgICAgY29udGV4dC5hcmcgPSByZWNvcmQuYXJnO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIC8vIENhbGwgZGVsZWdhdGUuaXRlcmF0b3JbY29udGV4dC5tZXRob2RdKGNvbnRleHQuYXJnKSBhbmQgaGFuZGxlIHRoZVxuICAvLyByZXN1bHQsIGVpdGhlciBieSByZXR1cm5pbmcgYSB7IHZhbHVlLCBkb25lIH0gcmVzdWx0IGZyb20gdGhlXG4gIC8vIGRlbGVnYXRlIGl0ZXJhdG9yLCBvciBieSBtb2RpZnlpbmcgY29udGV4dC5tZXRob2QgYW5kIGNvbnRleHQuYXJnLFxuICAvLyBzZXR0aW5nIGNvbnRleHQuZGVsZWdhdGUgdG8gbnVsbCwgYW5kIHJldHVybmluZyB0aGUgQ29udGludWVTZW50aW5lbC5cbiAgZnVuY3Rpb24gbWF5YmVJbnZva2VEZWxlZ2F0ZShkZWxlZ2F0ZSwgY29udGV4dCkge1xuICAgIHZhciBtZXRob2QgPSBkZWxlZ2F0ZS5pdGVyYXRvcltjb250ZXh0Lm1ldGhvZF07XG4gICAgaWYgKG1ldGhvZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAvLyBBIC50aHJvdyBvciAucmV0dXJuIHdoZW4gdGhlIGRlbGVnYXRlIGl0ZXJhdG9yIGhhcyBubyAudGhyb3dcbiAgICAgIC8vIG1ldGhvZCBhbHdheXMgdGVybWluYXRlcyB0aGUgeWllbGQqIGxvb3AuXG4gICAgICBjb250ZXh0LmRlbGVnYXRlID0gbnVsbDtcblxuICAgICAgaWYgKGNvbnRleHQubWV0aG9kID09PSBcInRocm93XCIpIHtcbiAgICAgICAgaWYgKGRlbGVnYXRlLml0ZXJhdG9yLnJldHVybikge1xuICAgICAgICAgIC8vIElmIHRoZSBkZWxlZ2F0ZSBpdGVyYXRvciBoYXMgYSByZXR1cm4gbWV0aG9kLCBnaXZlIGl0IGFcbiAgICAgICAgICAvLyBjaGFuY2UgdG8gY2xlYW4gdXAuXG4gICAgICAgICAgY29udGV4dC5tZXRob2QgPSBcInJldHVyblwiO1xuICAgICAgICAgIGNvbnRleHQuYXJnID0gdW5kZWZpbmVkO1xuICAgICAgICAgIG1heWJlSW52b2tlRGVsZWdhdGUoZGVsZWdhdGUsIGNvbnRleHQpO1xuXG4gICAgICAgICAgaWYgKGNvbnRleHQubWV0aG9kID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICAgIC8vIElmIG1heWJlSW52b2tlRGVsZWdhdGUoY29udGV4dCkgY2hhbmdlZCBjb250ZXh0Lm1ldGhvZCBmcm9tXG4gICAgICAgICAgICAvLyBcInJldHVyblwiIHRvIFwidGhyb3dcIiwgbGV0IHRoYXQgb3ZlcnJpZGUgdGhlIFR5cGVFcnJvciBiZWxvdy5cbiAgICAgICAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnRleHQubWV0aG9kID0gXCJ0aHJvd1wiO1xuICAgICAgICBjb250ZXh0LmFyZyA9IG5ldyBUeXBlRXJyb3IoXG4gICAgICAgICAgXCJUaGUgaXRlcmF0b3IgZG9lcyBub3QgcHJvdmlkZSBhICd0aHJvdycgbWV0aG9kXCIpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICB9XG5cbiAgICB2YXIgcmVjb3JkID0gdHJ5Q2F0Y2gobWV0aG9kLCBkZWxlZ2F0ZS5pdGVyYXRvciwgY29udGV4dC5hcmcpO1xuXG4gICAgaWYgKHJlY29yZC50eXBlID09PSBcInRocm93XCIpIHtcbiAgICAgIGNvbnRleHQubWV0aG9kID0gXCJ0aHJvd1wiO1xuICAgICAgY29udGV4dC5hcmcgPSByZWNvcmQuYXJnO1xuICAgICAgY29udGV4dC5kZWxlZ2F0ZSA9IG51bGw7XG4gICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICB9XG5cbiAgICB2YXIgaW5mbyA9IHJlY29yZC5hcmc7XG5cbiAgICBpZiAoISBpbmZvKSB7XG4gICAgICBjb250ZXh0Lm1ldGhvZCA9IFwidGhyb3dcIjtcbiAgICAgIGNvbnRleHQuYXJnID0gbmV3IFR5cGVFcnJvcihcIml0ZXJhdG9yIHJlc3VsdCBpcyBub3QgYW4gb2JqZWN0XCIpO1xuICAgICAgY29udGV4dC5kZWxlZ2F0ZSA9IG51bGw7XG4gICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICB9XG5cbiAgICBpZiAoaW5mby5kb25lKSB7XG4gICAgICAvLyBBc3NpZ24gdGhlIHJlc3VsdCBvZiB0aGUgZmluaXNoZWQgZGVsZWdhdGUgdG8gdGhlIHRlbXBvcmFyeVxuICAgICAgLy8gdmFyaWFibGUgc3BlY2lmaWVkIGJ5IGRlbGVnYXRlLnJlc3VsdE5hbWUgKHNlZSBkZWxlZ2F0ZVlpZWxkKS5cbiAgICAgIGNvbnRleHRbZGVsZWdhdGUucmVzdWx0TmFtZV0gPSBpbmZvLnZhbHVlO1xuXG4gICAgICAvLyBSZXN1bWUgZXhlY3V0aW9uIGF0IHRoZSBkZXNpcmVkIGxvY2F0aW9uIChzZWUgZGVsZWdhdGVZaWVsZCkuXG4gICAgICBjb250ZXh0Lm5leHQgPSBkZWxlZ2F0ZS5uZXh0TG9jO1xuXG4gICAgICAvLyBJZiBjb250ZXh0Lm1ldGhvZCB3YXMgXCJ0aHJvd1wiIGJ1dCB0aGUgZGVsZWdhdGUgaGFuZGxlZCB0aGVcbiAgICAgIC8vIGV4Y2VwdGlvbiwgbGV0IHRoZSBvdXRlciBnZW5lcmF0b3IgcHJvY2VlZCBub3JtYWxseS4gSWZcbiAgICAgIC8vIGNvbnRleHQubWV0aG9kIHdhcyBcIm5leHRcIiwgZm9yZ2V0IGNvbnRleHQuYXJnIHNpbmNlIGl0IGhhcyBiZWVuXG4gICAgICAvLyBcImNvbnN1bWVkXCIgYnkgdGhlIGRlbGVnYXRlIGl0ZXJhdG9yLiBJZiBjb250ZXh0Lm1ldGhvZCB3YXNcbiAgICAgIC8vIFwicmV0dXJuXCIsIGFsbG93IHRoZSBvcmlnaW5hbCAucmV0dXJuIGNhbGwgdG8gY29udGludWUgaW4gdGhlXG4gICAgICAvLyBvdXRlciBnZW5lcmF0b3IuXG4gICAgICBpZiAoY29udGV4dC5tZXRob2QgIT09IFwicmV0dXJuXCIpIHtcbiAgICAgICAgY29udGV4dC5tZXRob2QgPSBcIm5leHRcIjtcbiAgICAgICAgY29udGV4dC5hcmcgPSB1bmRlZmluZWQ7XG4gICAgICB9XG5cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gUmUteWllbGQgdGhlIHJlc3VsdCByZXR1cm5lZCBieSB0aGUgZGVsZWdhdGUgbWV0aG9kLlxuICAgICAgcmV0dXJuIGluZm87XG4gICAgfVxuXG4gICAgLy8gVGhlIGRlbGVnYXRlIGl0ZXJhdG9yIGlzIGZpbmlzaGVkLCBzbyBmb3JnZXQgaXQgYW5kIGNvbnRpbnVlIHdpdGhcbiAgICAvLyB0aGUgb3V0ZXIgZ2VuZXJhdG9yLlxuICAgIGNvbnRleHQuZGVsZWdhdGUgPSBudWxsO1xuICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICB9XG5cbiAgLy8gRGVmaW5lIEdlbmVyYXRvci5wcm90b3R5cGUue25leHQsdGhyb3cscmV0dXJufSBpbiB0ZXJtcyBvZiB0aGVcbiAgLy8gdW5pZmllZCAuX2ludm9rZSBoZWxwZXIgbWV0aG9kLlxuICBkZWZpbmVJdGVyYXRvck1ldGhvZHMoR3ApO1xuXG4gIEdwW3RvU3RyaW5nVGFnU3ltYm9sXSA9IFwiR2VuZXJhdG9yXCI7XG5cbiAgLy8gQSBHZW5lcmF0b3Igc2hvdWxkIGFsd2F5cyByZXR1cm4gaXRzZWxmIGFzIHRoZSBpdGVyYXRvciBvYmplY3Qgd2hlbiB0aGVcbiAgLy8gQEBpdGVyYXRvciBmdW5jdGlvbiBpcyBjYWxsZWQgb24gaXQuIFNvbWUgYnJvd3NlcnMnIGltcGxlbWVudGF0aW9ucyBvZiB0aGVcbiAgLy8gaXRlcmF0b3IgcHJvdG90eXBlIGNoYWluIGluY29ycmVjdGx5IGltcGxlbWVudCB0aGlzLCBjYXVzaW5nIHRoZSBHZW5lcmF0b3JcbiAgLy8gb2JqZWN0IHRvIG5vdCBiZSByZXR1cm5lZCBmcm9tIHRoaXMgY2FsbC4gVGhpcyBlbnN1cmVzIHRoYXQgZG9lc24ndCBoYXBwZW4uXG4gIC8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVnZW5lcmF0b3IvaXNzdWVzLzI3NCBmb3IgbW9yZSBkZXRhaWxzLlxuICBHcFtpdGVyYXRvclN5bWJvbF0gPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICBHcC50b1N0cmluZyA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBcIltvYmplY3QgR2VuZXJhdG9yXVwiO1xuICB9O1xuXG4gIGZ1bmN0aW9uIHB1c2hUcnlFbnRyeShsb2NzKSB7XG4gICAgdmFyIGVudHJ5ID0geyB0cnlMb2M6IGxvY3NbMF0gfTtcblxuICAgIGlmICgxIGluIGxvY3MpIHtcbiAgICAgIGVudHJ5LmNhdGNoTG9jID0gbG9jc1sxXTtcbiAgICB9XG5cbiAgICBpZiAoMiBpbiBsb2NzKSB7XG4gICAgICBlbnRyeS5maW5hbGx5TG9jID0gbG9jc1syXTtcbiAgICAgIGVudHJ5LmFmdGVyTG9jID0gbG9jc1szXTtcbiAgICB9XG5cbiAgICB0aGlzLnRyeUVudHJpZXMucHVzaChlbnRyeSk7XG4gIH1cblxuICBmdW5jdGlvbiByZXNldFRyeUVudHJ5KGVudHJ5KSB7XG4gICAgdmFyIHJlY29yZCA9IGVudHJ5LmNvbXBsZXRpb24gfHwge307XG4gICAgcmVjb3JkLnR5cGUgPSBcIm5vcm1hbFwiO1xuICAgIGRlbGV0ZSByZWNvcmQuYXJnO1xuICAgIGVudHJ5LmNvbXBsZXRpb24gPSByZWNvcmQ7XG4gIH1cblxuICBmdW5jdGlvbiBDb250ZXh0KHRyeUxvY3NMaXN0KSB7XG4gICAgLy8gVGhlIHJvb3QgZW50cnkgb2JqZWN0IChlZmZlY3RpdmVseSBhIHRyeSBzdGF0ZW1lbnQgd2l0aG91dCBhIGNhdGNoXG4gICAgLy8gb3IgYSBmaW5hbGx5IGJsb2NrKSBnaXZlcyB1cyBhIHBsYWNlIHRvIHN0b3JlIHZhbHVlcyB0aHJvd24gZnJvbVxuICAgIC8vIGxvY2F0aW9ucyB3aGVyZSB0aGVyZSBpcyBubyBlbmNsb3NpbmcgdHJ5IHN0YXRlbWVudC5cbiAgICB0aGlzLnRyeUVudHJpZXMgPSBbeyB0cnlMb2M6IFwicm9vdFwiIH1dO1xuICAgIHRyeUxvY3NMaXN0LmZvckVhY2gocHVzaFRyeUVudHJ5LCB0aGlzKTtcbiAgICB0aGlzLnJlc2V0KHRydWUpO1xuICB9XG5cbiAgcnVudGltZS5rZXlzID0gZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgdmFyIGtleXMgPSBbXTtcbiAgICBmb3IgKHZhciBrZXkgaW4gb2JqZWN0KSB7XG4gICAgICBrZXlzLnB1c2goa2V5KTtcbiAgICB9XG4gICAga2V5cy5yZXZlcnNlKCk7XG5cbiAgICAvLyBSYXRoZXIgdGhhbiByZXR1cm5pbmcgYW4gb2JqZWN0IHdpdGggYSBuZXh0IG1ldGhvZCwgd2Uga2VlcFxuICAgIC8vIHRoaW5ncyBzaW1wbGUgYW5kIHJldHVybiB0aGUgbmV4dCBmdW5jdGlvbiBpdHNlbGYuXG4gICAgcmV0dXJuIGZ1bmN0aW9uIG5leHQoKSB7XG4gICAgICB3aGlsZSAoa2V5cy5sZW5ndGgpIHtcbiAgICAgICAgdmFyIGtleSA9IGtleXMucG9wKCk7XG4gICAgICAgIGlmIChrZXkgaW4gb2JqZWN0KSB7XG4gICAgICAgICAgbmV4dC52YWx1ZSA9IGtleTtcbiAgICAgICAgICBuZXh0LmRvbmUgPSBmYWxzZTtcbiAgICAgICAgICByZXR1cm4gbmV4dDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBUbyBhdm9pZCBjcmVhdGluZyBhbiBhZGRpdGlvbmFsIG9iamVjdCwgd2UganVzdCBoYW5nIHRoZSAudmFsdWVcbiAgICAgIC8vIGFuZCAuZG9uZSBwcm9wZXJ0aWVzIG9mZiB0aGUgbmV4dCBmdW5jdGlvbiBvYmplY3QgaXRzZWxmLiBUaGlzXG4gICAgICAvLyBhbHNvIGVuc3VyZXMgdGhhdCB0aGUgbWluaWZpZXIgd2lsbCBub3QgYW5vbnltaXplIHRoZSBmdW5jdGlvbi5cbiAgICAgIG5leHQuZG9uZSA9IHRydWU7XG4gICAgICByZXR1cm4gbmV4dDtcbiAgICB9O1xuICB9O1xuXG4gIGZ1bmN0aW9uIHZhbHVlcyhpdGVyYWJsZSkge1xuICAgIGlmIChpdGVyYWJsZSkge1xuICAgICAgdmFyIGl0ZXJhdG9yTWV0aG9kID0gaXRlcmFibGVbaXRlcmF0b3JTeW1ib2xdO1xuICAgICAgaWYgKGl0ZXJhdG9yTWV0aG9kKSB7XG4gICAgICAgIHJldHVybiBpdGVyYXRvck1ldGhvZC5jYWxsKGl0ZXJhYmxlKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiBpdGVyYWJsZS5uZXh0ID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgcmV0dXJuIGl0ZXJhYmxlO1xuICAgICAgfVxuXG4gICAgICBpZiAoIWlzTmFOKGl0ZXJhYmxlLmxlbmd0aCkpIHtcbiAgICAgICAgdmFyIGkgPSAtMSwgbmV4dCA9IGZ1bmN0aW9uIG5leHQoKSB7XG4gICAgICAgICAgd2hpbGUgKCsraSA8IGl0ZXJhYmxlLmxlbmd0aCkge1xuICAgICAgICAgICAgaWYgKGhhc093bi5jYWxsKGl0ZXJhYmxlLCBpKSkge1xuICAgICAgICAgICAgICBuZXh0LnZhbHVlID0gaXRlcmFibGVbaV07XG4gICAgICAgICAgICAgIG5leHQuZG9uZSA9IGZhbHNlO1xuICAgICAgICAgICAgICByZXR1cm4gbmV4dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBuZXh0LnZhbHVlID0gdW5kZWZpbmVkO1xuICAgICAgICAgIG5leHQuZG9uZSA9IHRydWU7XG5cbiAgICAgICAgICByZXR1cm4gbmV4dDtcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gbmV4dC5uZXh0ID0gbmV4dDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBSZXR1cm4gYW4gaXRlcmF0b3Igd2l0aCBubyB2YWx1ZXMuXG4gICAgcmV0dXJuIHsgbmV4dDogZG9uZVJlc3VsdCB9O1xuICB9XG4gIHJ1bnRpbWUudmFsdWVzID0gdmFsdWVzO1xuXG4gIGZ1bmN0aW9uIGRvbmVSZXN1bHQoKSB7XG4gICAgcmV0dXJuIHsgdmFsdWU6IHVuZGVmaW5lZCwgZG9uZTogdHJ1ZSB9O1xuICB9XG5cbiAgQ29udGV4dC5wcm90b3R5cGUgPSB7XG4gICAgY29uc3RydWN0b3I6IENvbnRleHQsXG5cbiAgICByZXNldDogZnVuY3Rpb24oc2tpcFRlbXBSZXNldCkge1xuICAgICAgdGhpcy5wcmV2ID0gMDtcbiAgICAgIHRoaXMubmV4dCA9IDA7XG4gICAgICAvLyBSZXNldHRpbmcgY29udGV4dC5fc2VudCBmb3IgbGVnYWN5IHN1cHBvcnQgb2YgQmFiZWwnc1xuICAgICAgLy8gZnVuY3Rpb24uc2VudCBpbXBsZW1lbnRhdGlvbi5cbiAgICAgIHRoaXMuc2VudCA9IHRoaXMuX3NlbnQgPSB1bmRlZmluZWQ7XG4gICAgICB0aGlzLmRvbmUgPSBmYWxzZTtcbiAgICAgIHRoaXMuZGVsZWdhdGUgPSBudWxsO1xuXG4gICAgICB0aGlzLm1ldGhvZCA9IFwibmV4dFwiO1xuICAgICAgdGhpcy5hcmcgPSB1bmRlZmluZWQ7XG5cbiAgICAgIHRoaXMudHJ5RW50cmllcy5mb3JFYWNoKHJlc2V0VHJ5RW50cnkpO1xuXG4gICAgICBpZiAoIXNraXBUZW1wUmVzZXQpIHtcbiAgICAgICAgZm9yICh2YXIgbmFtZSBpbiB0aGlzKSB7XG4gICAgICAgICAgLy8gTm90IHN1cmUgYWJvdXQgdGhlIG9wdGltYWwgb3JkZXIgb2YgdGhlc2UgY29uZGl0aW9uczpcbiAgICAgICAgICBpZiAobmFtZS5jaGFyQXQoMCkgPT09IFwidFwiICYmXG4gICAgICAgICAgICAgIGhhc093bi5jYWxsKHRoaXMsIG5hbWUpICYmXG4gICAgICAgICAgICAgICFpc05hTigrbmFtZS5zbGljZSgxKSkpIHtcbiAgICAgICAgICAgIHRoaXNbbmFtZV0gPSB1bmRlZmluZWQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcblxuICAgIHN0b3A6IGZ1bmN0aW9uKCkge1xuICAgICAgdGhpcy5kb25lID0gdHJ1ZTtcblxuICAgICAgdmFyIHJvb3RFbnRyeSA9IHRoaXMudHJ5RW50cmllc1swXTtcbiAgICAgIHZhciByb290UmVjb3JkID0gcm9vdEVudHJ5LmNvbXBsZXRpb247XG4gICAgICBpZiAocm9vdFJlY29yZC50eXBlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgdGhyb3cgcm9vdFJlY29yZC5hcmc7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzLnJ2YWw7XG4gICAgfSxcblxuICAgIGRpc3BhdGNoRXhjZXB0aW9uOiBmdW5jdGlvbihleGNlcHRpb24pIHtcbiAgICAgIGlmICh0aGlzLmRvbmUpIHtcbiAgICAgICAgdGhyb3cgZXhjZXB0aW9uO1xuICAgICAgfVxuXG4gICAgICB2YXIgY29udGV4dCA9IHRoaXM7XG4gICAgICBmdW5jdGlvbiBoYW5kbGUobG9jLCBjYXVnaHQpIHtcbiAgICAgICAgcmVjb3JkLnR5cGUgPSBcInRocm93XCI7XG4gICAgICAgIHJlY29yZC5hcmcgPSBleGNlcHRpb247XG4gICAgICAgIGNvbnRleHQubmV4dCA9IGxvYztcblxuICAgICAgICBpZiAoY2F1Z2h0KSB7XG4gICAgICAgICAgLy8gSWYgdGhlIGRpc3BhdGNoZWQgZXhjZXB0aW9uIHdhcyBjYXVnaHQgYnkgYSBjYXRjaCBibG9jayxcbiAgICAgICAgICAvLyB0aGVuIGxldCB0aGF0IGNhdGNoIGJsb2NrIGhhbmRsZSB0aGUgZXhjZXB0aW9uIG5vcm1hbGx5LlxuICAgICAgICAgIGNvbnRleHQubWV0aG9kID0gXCJuZXh0XCI7XG4gICAgICAgICAgY29udGV4dC5hcmcgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gISEgY2F1Z2h0O1xuICAgICAgfVxuXG4gICAgICBmb3IgKHZhciBpID0gdGhpcy50cnlFbnRyaWVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgIHZhciBlbnRyeSA9IHRoaXMudHJ5RW50cmllc1tpXTtcbiAgICAgICAgdmFyIHJlY29yZCA9IGVudHJ5LmNvbXBsZXRpb247XG5cbiAgICAgICAgaWYgKGVudHJ5LnRyeUxvYyA9PT0gXCJyb290XCIpIHtcbiAgICAgICAgICAvLyBFeGNlcHRpb24gdGhyb3duIG91dHNpZGUgb2YgYW55IHRyeSBibG9jayB0aGF0IGNvdWxkIGhhbmRsZVxuICAgICAgICAgIC8vIGl0LCBzbyBzZXQgdGhlIGNvbXBsZXRpb24gdmFsdWUgb2YgdGhlIGVudGlyZSBmdW5jdGlvbiB0b1xuICAgICAgICAgIC8vIHRocm93IHRoZSBleGNlcHRpb24uXG4gICAgICAgICAgcmV0dXJuIGhhbmRsZShcImVuZFwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChlbnRyeS50cnlMb2MgPD0gdGhpcy5wcmV2KSB7XG4gICAgICAgICAgdmFyIGhhc0NhdGNoID0gaGFzT3duLmNhbGwoZW50cnksIFwiY2F0Y2hMb2NcIik7XG4gICAgICAgICAgdmFyIGhhc0ZpbmFsbHkgPSBoYXNPd24uY2FsbChlbnRyeSwgXCJmaW5hbGx5TG9jXCIpO1xuXG4gICAgICAgICAgaWYgKGhhc0NhdGNoICYmIGhhc0ZpbmFsbHkpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnByZXYgPCBlbnRyeS5jYXRjaExvYykge1xuICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlKGVudHJ5LmNhdGNoTG9jLCB0cnVlKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5wcmV2IDwgZW50cnkuZmluYWxseUxvYykge1xuICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlKGVudHJ5LmZpbmFsbHlMb2MpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgfSBlbHNlIGlmIChoYXNDYXRjaCkge1xuICAgICAgICAgICAgaWYgKHRoaXMucHJldiA8IGVudHJ5LmNhdGNoTG9jKSB7XG4gICAgICAgICAgICAgIHJldHVybiBoYW5kbGUoZW50cnkuY2F0Y2hMb2MsIHRydWUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgfSBlbHNlIGlmIChoYXNGaW5hbGx5KSB7XG4gICAgICAgICAgICBpZiAodGhpcy5wcmV2IDwgZW50cnkuZmluYWxseUxvYykge1xuICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlKGVudHJ5LmZpbmFsbHlMb2MpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcInRyeSBzdGF0ZW1lbnQgd2l0aG91dCBjYXRjaCBvciBmaW5hbGx5XCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG5cbiAgICBhYnJ1cHQ6IGZ1bmN0aW9uKHR5cGUsIGFyZykge1xuICAgICAgZm9yICh2YXIgaSA9IHRoaXMudHJ5RW50cmllcy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICB2YXIgZW50cnkgPSB0aGlzLnRyeUVudHJpZXNbaV07XG4gICAgICAgIGlmIChlbnRyeS50cnlMb2MgPD0gdGhpcy5wcmV2ICYmXG4gICAgICAgICAgICBoYXNPd24uY2FsbChlbnRyeSwgXCJmaW5hbGx5TG9jXCIpICYmXG4gICAgICAgICAgICB0aGlzLnByZXYgPCBlbnRyeS5maW5hbGx5TG9jKSB7XG4gICAgICAgICAgdmFyIGZpbmFsbHlFbnRyeSA9IGVudHJ5O1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChmaW5hbGx5RW50cnkgJiZcbiAgICAgICAgICAodHlwZSA9PT0gXCJicmVha1wiIHx8XG4gICAgICAgICAgIHR5cGUgPT09IFwiY29udGludWVcIikgJiZcbiAgICAgICAgICBmaW5hbGx5RW50cnkudHJ5TG9jIDw9IGFyZyAmJlxuICAgICAgICAgIGFyZyA8PSBmaW5hbGx5RW50cnkuZmluYWxseUxvYykge1xuICAgICAgICAvLyBJZ25vcmUgdGhlIGZpbmFsbHkgZW50cnkgaWYgY29udHJvbCBpcyBub3QganVtcGluZyB0byBhXG4gICAgICAgIC8vIGxvY2F0aW9uIG91dHNpZGUgdGhlIHRyeS9jYXRjaCBibG9jay5cbiAgICAgICAgZmluYWxseUVudHJ5ID0gbnVsbDtcbiAgICAgIH1cblxuICAgICAgdmFyIHJlY29yZCA9IGZpbmFsbHlFbnRyeSA/IGZpbmFsbHlFbnRyeS5jb21wbGV0aW9uIDoge307XG4gICAgICByZWNvcmQudHlwZSA9IHR5cGU7XG4gICAgICByZWNvcmQuYXJnID0gYXJnO1xuXG4gICAgICBpZiAoZmluYWxseUVudHJ5KSB7XG4gICAgICAgIHRoaXMubWV0aG9kID0gXCJuZXh0XCI7XG4gICAgICAgIHRoaXMubmV4dCA9IGZpbmFsbHlFbnRyeS5maW5hbGx5TG9jO1xuICAgICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMuY29tcGxldGUocmVjb3JkKTtcbiAgICB9LFxuXG4gICAgY29tcGxldGU6IGZ1bmN0aW9uKHJlY29yZCwgYWZ0ZXJMb2MpIHtcbiAgICAgIGlmIChyZWNvcmQudHlwZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgIHRocm93IHJlY29yZC5hcmc7XG4gICAgICB9XG5cbiAgICAgIGlmIChyZWNvcmQudHlwZSA9PT0gXCJicmVha1wiIHx8XG4gICAgICAgICAgcmVjb3JkLnR5cGUgPT09IFwiY29udGludWVcIikge1xuICAgICAgICB0aGlzLm5leHQgPSByZWNvcmQuYXJnO1xuICAgICAgfSBlbHNlIGlmIChyZWNvcmQudHlwZSA9PT0gXCJyZXR1cm5cIikge1xuICAgICAgICB0aGlzLnJ2YWwgPSB0aGlzLmFyZyA9IHJlY29yZC5hcmc7XG4gICAgICAgIHRoaXMubWV0aG9kID0gXCJyZXR1cm5cIjtcbiAgICAgICAgdGhpcy5uZXh0ID0gXCJlbmRcIjtcbiAgICAgIH0gZWxzZSBpZiAocmVjb3JkLnR5cGUgPT09IFwibm9ybWFsXCIgJiYgYWZ0ZXJMb2MpIHtcbiAgICAgICAgdGhpcy5uZXh0ID0gYWZ0ZXJMb2M7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICAgIH0sXG5cbiAgICBmaW5pc2g6IGZ1bmN0aW9uKGZpbmFsbHlMb2MpIHtcbiAgICAgIGZvciAodmFyIGkgPSB0aGlzLnRyeUVudHJpZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgICAgdmFyIGVudHJ5ID0gdGhpcy50cnlFbnRyaWVzW2ldO1xuICAgICAgICBpZiAoZW50cnkuZmluYWxseUxvYyA9PT0gZmluYWxseUxvYykge1xuICAgICAgICAgIHRoaXMuY29tcGxldGUoZW50cnkuY29tcGxldGlvbiwgZW50cnkuYWZ0ZXJMb2MpO1xuICAgICAgICAgIHJlc2V0VHJ5RW50cnkoZW50cnkpO1xuICAgICAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcblxuICAgIFwiY2F0Y2hcIjogZnVuY3Rpb24odHJ5TG9jKSB7XG4gICAgICBmb3IgKHZhciBpID0gdGhpcy50cnlFbnRyaWVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgIHZhciBlbnRyeSA9IHRoaXMudHJ5RW50cmllc1tpXTtcbiAgICAgICAgaWYgKGVudHJ5LnRyeUxvYyA9PT0gdHJ5TG9jKSB7XG4gICAgICAgICAgdmFyIHJlY29yZCA9IGVudHJ5LmNvbXBsZXRpb247XG4gICAgICAgICAgaWYgKHJlY29yZC50eXBlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICAgIHZhciB0aHJvd24gPSByZWNvcmQuYXJnO1xuICAgICAgICAgICAgcmVzZXRUcnlFbnRyeShlbnRyeSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiB0aHJvd247XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gVGhlIGNvbnRleHQuY2F0Y2ggbWV0aG9kIG11c3Qgb25seSBiZSBjYWxsZWQgd2l0aCBhIGxvY2F0aW9uXG4gICAgICAvLyBhcmd1bWVudCB0aGF0IGNvcnJlc3BvbmRzIHRvIGEga25vd24gY2F0Y2ggYmxvY2suXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJpbGxlZ2FsIGNhdGNoIGF0dGVtcHRcIik7XG4gICAgfSxcblxuICAgIGRlbGVnYXRlWWllbGQ6IGZ1bmN0aW9uKGl0ZXJhYmxlLCByZXN1bHROYW1lLCBuZXh0TG9jKSB7XG4gICAgICB0aGlzLmRlbGVnYXRlID0ge1xuICAgICAgICBpdGVyYXRvcjogdmFsdWVzKGl0ZXJhYmxlKSxcbiAgICAgICAgcmVzdWx0TmFtZTogcmVzdWx0TmFtZSxcbiAgICAgICAgbmV4dExvYzogbmV4dExvY1xuICAgICAgfTtcblxuICAgICAgaWYgKHRoaXMubWV0aG9kID09PSBcIm5leHRcIikge1xuICAgICAgICAvLyBEZWxpYmVyYXRlbHkgZm9yZ2V0IHRoZSBsYXN0IHNlbnQgdmFsdWUgc28gdGhhdCB3ZSBkb24ndFxuICAgICAgICAvLyBhY2NpZGVudGFsbHkgcGFzcyBpdCBvbiB0byB0aGUgZGVsZWdhdGUuXG4gICAgICAgIHRoaXMuYXJnID0gdW5kZWZpbmVkO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICB9XG4gIH07XG59KShcbiAgLy8gSW4gc2xvcHB5IG1vZGUsIHVuYm91bmQgYHRoaXNgIHJlZmVycyB0byB0aGUgZ2xvYmFsIG9iamVjdCwgZmFsbGJhY2sgdG9cbiAgLy8gRnVuY3Rpb24gY29uc3RydWN0b3IgaWYgd2UncmUgaW4gZ2xvYmFsIHN0cmljdCBtb2RlLiBUaGF0IGlzIHNhZGx5IGEgZm9ybVxuICAvLyBvZiBpbmRpcmVjdCBldmFsIHdoaWNoIHZpb2xhdGVzIENvbnRlbnQgU2VjdXJpdHkgUG9saWN5LlxuICAoZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzIH0pKCkgfHwgRnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpXG4pO1xuIiwibW9kdWxlLmV4cG9ydHMgPSB7IFwiZGVmYXVsdFwiOiByZXF1aXJlKFwiY29yZS1qcy9saWJyYXJ5L2ZuL3Byb21pc2VcIiksIF9fZXNNb2R1bGU6IHRydWUgfTsiLCJjb25zdCBoZWFkZXJzID0ge1xuICBhZGRUb0NhcnQ6IHtcbiAgICBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uLCB0ZXh0L2phdmFzY3JpcHQnLFxuICB9LFxuICBwcm9kdWN0czoge1xuICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbiwgdGV4dC9qYXZhc2NyaXB0LCAqLyo7IHE9MC4wMScsXG4gIH0sXG59O1xuXG5leHBvcnQgZGVmYXVsdCBoZWFkZXJzO1xuIiwiLyogZ2xvYmFscyBfX1ZVRV9TU1JfQ09OVEVYVF9fICovXG5cbi8vIElNUE9SVEFOVDogRG8gTk9UIHVzZSBFUzIwMTUgZmVhdHVyZXMgaW4gdGhpcyBmaWxlIChleGNlcHQgZm9yIG1vZHVsZXMpLlxuLy8gVGhpcyBtb2R1bGUgaXMgYSBydW50aW1lIHV0aWxpdHkgZm9yIGNsZWFuZXIgY29tcG9uZW50IG1vZHVsZSBvdXRwdXQgYW5kIHdpbGxcbi8vIGJlIGluY2x1ZGVkIGluIHRoZSBmaW5hbCB3ZWJwYWNrIHVzZXIgYnVuZGxlLlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBub3JtYWxpemVDb21wb25lbnQgKFxuICBzY3JpcHRFeHBvcnRzLFxuICByZW5kZXIsXG4gIHN0YXRpY1JlbmRlckZucyxcbiAgZnVuY3Rpb25hbFRlbXBsYXRlLFxuICBpbmplY3RTdHlsZXMsXG4gIHNjb3BlSWQsXG4gIG1vZHVsZUlkZW50aWZpZXIsIC8qIHNlcnZlciBvbmx5ICovXG4gIHNoYWRvd01vZGUgLyogdnVlLWNsaSBvbmx5ICovXG4pIHtcbiAgLy8gVnVlLmV4dGVuZCBjb25zdHJ1Y3RvciBleHBvcnQgaW50ZXJvcFxuICB2YXIgb3B0aW9ucyA9IHR5cGVvZiBzY3JpcHRFeHBvcnRzID09PSAnZnVuY3Rpb24nXG4gICAgPyBzY3JpcHRFeHBvcnRzLm9wdGlvbnNcbiAgICA6IHNjcmlwdEV4cG9ydHNcblxuICAvLyByZW5kZXIgZnVuY3Rpb25zXG4gIGlmIChyZW5kZXIpIHtcbiAgICBvcHRpb25zLnJlbmRlciA9IHJlbmRlclxuICAgIG9wdGlvbnMuc3RhdGljUmVuZGVyRm5zID0gc3RhdGljUmVuZGVyRm5zXG4gICAgb3B0aW9ucy5fY29tcGlsZWQgPSB0cnVlXG4gIH1cblxuICAvLyBmdW5jdGlvbmFsIHRlbXBsYXRlXG4gIGlmIChmdW5jdGlvbmFsVGVtcGxhdGUpIHtcbiAgICBvcHRpb25zLmZ1bmN0aW9uYWwgPSB0cnVlXG4gIH1cblxuICAvLyBzY29wZWRJZFxuICBpZiAoc2NvcGVJZCkge1xuICAgIG9wdGlvbnMuX3Njb3BlSWQgPSAnZGF0YS12LScgKyBzY29wZUlkXG4gIH1cblxuICB2YXIgaG9va1xuICBpZiAobW9kdWxlSWRlbnRpZmllcikgeyAvLyBzZXJ2ZXIgYnVpbGRcbiAgICBob29rID0gZnVuY3Rpb24gKGNvbnRleHQpIHtcbiAgICAgIC8vIDIuMyBpbmplY3Rpb25cbiAgICAgIGNvbnRleHQgPVxuICAgICAgICBjb250ZXh0IHx8IC8vIGNhY2hlZCBjYWxsXG4gICAgICAgICh0aGlzLiR2bm9kZSAmJiB0aGlzLiR2bm9kZS5zc3JDb250ZXh0KSB8fCAvLyBzdGF0ZWZ1bFxuICAgICAgICAodGhpcy5wYXJlbnQgJiYgdGhpcy5wYXJlbnQuJHZub2RlICYmIHRoaXMucGFyZW50LiR2bm9kZS5zc3JDb250ZXh0KSAvLyBmdW5jdGlvbmFsXG4gICAgICAvLyAyLjIgd2l0aCBydW5Jbk5ld0NvbnRleHQ6IHRydWVcbiAgICAgIGlmICghY29udGV4dCAmJiB0eXBlb2YgX19WVUVfU1NSX0NPTlRFWFRfXyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgY29udGV4dCA9IF9fVlVFX1NTUl9DT05URVhUX19cbiAgICAgIH1cbiAgICAgIC8vIGluamVjdCBjb21wb25lbnQgc3R5bGVzXG4gICAgICBpZiAoaW5qZWN0U3R5bGVzKSB7XG4gICAgICAgIGluamVjdFN0eWxlcy5jYWxsKHRoaXMsIGNvbnRleHQpXG4gICAgICB9XG4gICAgICAvLyByZWdpc3RlciBjb21wb25lbnQgbW9kdWxlIGlkZW50aWZpZXIgZm9yIGFzeW5jIGNodW5rIGluZmVycmVuY2VcbiAgICAgIGlmIChjb250ZXh0ICYmIGNvbnRleHQuX3JlZ2lzdGVyZWRDb21wb25lbnRzKSB7XG4gICAgICAgIGNvbnRleHQuX3JlZ2lzdGVyZWRDb21wb25lbnRzLmFkZChtb2R1bGVJZGVudGlmaWVyKVxuICAgICAgfVxuICAgIH1cbiAgICAvLyB1c2VkIGJ5IHNzciBpbiBjYXNlIGNvbXBvbmVudCBpcyBjYWNoZWQgYW5kIGJlZm9yZUNyZWF0ZVxuICAgIC8vIG5ldmVyIGdldHMgY2FsbGVkXG4gICAgb3B0aW9ucy5fc3NyUmVnaXN0ZXIgPSBob29rXG4gIH0gZWxzZSBpZiAoaW5qZWN0U3R5bGVzKSB7XG4gICAgaG9vayA9IHNoYWRvd01vZGVcbiAgICAgID8gZnVuY3Rpb24gKCkge1xuICAgICAgICBpbmplY3RTdHlsZXMuY2FsbChcbiAgICAgICAgICB0aGlzLFxuICAgICAgICAgIChvcHRpb25zLmZ1bmN0aW9uYWwgPyB0aGlzLnBhcmVudCA6IHRoaXMpLiRyb290LiRvcHRpb25zLnNoYWRvd1Jvb3RcbiAgICAgICAgKVxuICAgICAgfVxuICAgICAgOiBpbmplY3RTdHlsZXNcbiAgfVxuXG4gIGlmIChob29rKSB7XG4gICAgaWYgKG9wdGlvbnMuZnVuY3Rpb25hbCkge1xuICAgICAgLy8gZm9yIHRlbXBsYXRlLW9ubHkgaG90LXJlbG9hZCBiZWNhdXNlIGluIHRoYXQgY2FzZSB0aGUgcmVuZGVyIGZuIGRvZXNuJ3RcbiAgICAgIC8vIGdvIHRocm91Z2ggdGhlIG5vcm1hbGl6ZXJcbiAgICAgIG9wdGlvbnMuX2luamVjdFN0eWxlcyA9IGhvb2tcbiAgICAgIC8vIHJlZ2lzdGVyIGZvciBmdW5jdGlvbmFsIGNvbXBvbmVudCBpbiB2dWUgZmlsZVxuICAgICAgdmFyIG9yaWdpbmFsUmVuZGVyID0gb3B0aW9ucy5yZW5kZXJcbiAgICAgIG9wdGlvbnMucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyV2l0aFN0eWxlSW5qZWN0aW9uIChoLCBjb250ZXh0KSB7XG4gICAgICAgIGhvb2suY2FsbChjb250ZXh0KVxuICAgICAgICByZXR1cm4gb3JpZ2luYWxSZW5kZXIoaCwgY29udGV4dClcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gaW5qZWN0IGNvbXBvbmVudCByZWdpc3RyYXRpb24gYXMgYmVmb3JlQ3JlYXRlIGhvb2tcbiAgICAgIHZhciBleGlzdGluZyA9IG9wdGlvbnMuYmVmb3JlQ3JlYXRlXG4gICAgICBvcHRpb25zLmJlZm9yZUNyZWF0ZSA9IGV4aXN0aW5nXG4gICAgICAgID8gW10uY29uY2F0KGV4aXN0aW5nLCBob29rKVxuICAgICAgICA6IFtob29rXVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiB7XG4gICAgZXhwb3J0czogc2NyaXB0RXhwb3J0cyxcbiAgICBvcHRpb25zOiBvcHRpb25zXG4gIH1cbn1cbiIsIi8vIFRoaXMgY3VycmVudENvbnRleHQgdmFyaWFibGUgd2lsbCBvbmx5IGJlIHVzZWQgaWYgdGhlIG1ha2VTbG90Q2xhc3NcclxuLy8gZnVuY3Rpb24gaXMgY2FsbGVkLCB3aGljaCBoYXBwZW5zIG9ubHkgaWYgdGhpcyBpcyB0aGUgZmlyc3QgY29weSBvZiB0aGVcclxuLy8gQHdyeS9jb250ZXh0IHBhY2thZ2UgdG8gYmUgaW1wb3J0ZWQuXHJcbnZhciBjdXJyZW50Q29udGV4dCA9IG51bGw7XHJcbi8vIFRoaXMgdW5pcXVlIGludGVybmFsIG9iamVjdCBpcyB1c2VkIHRvIGRlbm90ZSB0aGUgYWJzZW5jZSBvZiBhIHZhbHVlXHJcbi8vIGZvciBhIGdpdmVuIFNsb3QsIGFuZCBpcyBuZXZlciBleHBvc2VkIHRvIG91dHNpZGUgY29kZS5cclxudmFyIE1JU1NJTkdfVkFMVUUgPSB7fTtcclxudmFyIGlkQ291bnRlciA9IDE7XHJcbi8vIEFsdGhvdWdoIHdlIGNhbid0IGRvIGFueXRoaW5nIGFib3V0IHRoZSBjb3N0IG9mIGR1cGxpY2F0ZWQgY29kZSBmcm9tXHJcbi8vIGFjY2lkZW50YWxseSBidW5kbGluZyBtdWx0aXBsZSBjb3BpZXMgb2YgdGhlIEB3cnkvY29udGV4dCBwYWNrYWdlLCB3ZSBjYW5cclxuLy8gYXZvaWQgY3JlYXRpbmcgdGhlIFNsb3QgY2xhc3MgbW9yZSB0aGFuIG9uY2UgdXNpbmcgbWFrZVNsb3RDbGFzcy5cclxudmFyIG1ha2VTbG90Q2xhc3MgPSBmdW5jdGlvbiAoKSB7IHJldHVybiAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBTbG90KCkge1xyXG4gICAgICAgIC8vIElmIHlvdSBoYXZlIGEgU2xvdCBvYmplY3QsIHlvdSBjYW4gZmluZCBvdXQgaXRzIHNsb3QuaWQsIGJ1dCB5b3UgY2Fubm90XHJcbiAgICAgICAgLy8gZ3Vlc3MgdGhlIHNsb3QuaWQgb2YgYSBTbG90IHlvdSBkb24ndCBoYXZlIGFjY2VzcyB0bywgdGhhbmtzIHRvIHRoZVxyXG4gICAgICAgIC8vIHJhbmRvbWl6ZWQgc3VmZml4LlxyXG4gICAgICAgIHRoaXMuaWQgPSBbXHJcbiAgICAgICAgICAgIFwic2xvdFwiLFxyXG4gICAgICAgICAgICBpZENvdW50ZXIrKyxcclxuICAgICAgICAgICAgRGF0ZS5ub3coKSxcclxuICAgICAgICAgICAgTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc2xpY2UoMiksXHJcbiAgICAgICAgXS5qb2luKFwiOlwiKTtcclxuICAgIH1cclxuICAgIFNsb3QucHJvdG90eXBlLmhhc1ZhbHVlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGZvciAodmFyIGNvbnRleHRfMSA9IGN1cnJlbnRDb250ZXh0OyBjb250ZXh0XzE7IGNvbnRleHRfMSA9IGNvbnRleHRfMS5wYXJlbnQpIHtcclxuICAgICAgICAgICAgLy8gV2UgdXNlIHRoZSBTbG90IG9iamVjdCBpc2VsZiBhcyBhIGtleSB0byBpdHMgdmFsdWUsIHdoaWNoIG1lYW5zIHRoZVxyXG4gICAgICAgICAgICAvLyB2YWx1ZSBjYW5ub3QgYmUgb2J0YWluZWQgd2l0aG91dCBhIHJlZmVyZW5jZSB0byB0aGUgU2xvdCBvYmplY3QuXHJcbiAgICAgICAgICAgIGlmICh0aGlzLmlkIGluIGNvbnRleHRfMS5zbG90cykge1xyXG4gICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gY29udGV4dF8xLnNsb3RzW3RoaXMuaWRdO1xyXG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSBNSVNTSU5HX1ZBTFVFKVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgaWYgKGNvbnRleHRfMSAhPT0gY3VycmVudENvbnRleHQpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBDYWNoZSB0aGUgdmFsdWUgaW4gY3VycmVudENvbnRleHQuc2xvdHMgc28gdGhlIG5leHQgbG9va3VwIHdpbGxcclxuICAgICAgICAgICAgICAgICAgICAvLyBiZSBmYXN0ZXIuIFRoaXMgY2FjaGluZyBpcyBzYWZlIGJlY2F1c2UgdGhlIHRyZWUgb2YgY29udGV4dHMgYW5kXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhlIHZhbHVlcyBvZiB0aGUgc2xvdHMgYXJlIGxvZ2ljYWxseSBpbW11dGFibGUuXHJcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudENvbnRleHQuc2xvdHNbdGhpcy5pZF0gPSB2YWx1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChjdXJyZW50Q29udGV4dCkge1xyXG4gICAgICAgICAgICAvLyBJZiBhIHZhbHVlIHdhcyBub3QgZm91bmQgZm9yIHRoaXMgU2xvdCwgaXQncyBuZXZlciBnb2luZyB0byBiZSBmb3VuZFxyXG4gICAgICAgICAgICAvLyBubyBtYXR0ZXIgaG93IG1hbnkgdGltZXMgd2UgbG9vayBpdCB1cCwgc28gd2UgbWlnaHQgYXMgd2VsbCBjYWNoZVxyXG4gICAgICAgICAgICAvLyB0aGUgYWJzZW5jZSBvZiB0aGUgdmFsdWUsIHRvby5cclxuICAgICAgICAgICAgY3VycmVudENvbnRleHQuc2xvdHNbdGhpcy5pZF0gPSBNSVNTSU5HX1ZBTFVFO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9O1xyXG4gICAgU2xvdC5wcm90b3R5cGUuZ2V0VmFsdWUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaGFzVmFsdWUoKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gY3VycmVudENvbnRleHQuc2xvdHNbdGhpcy5pZF07XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIFNsb3QucHJvdG90eXBlLndpdGhWYWx1ZSA9IGZ1bmN0aW9uICh2YWx1ZSwgY2FsbGJhY2ssIFxyXG4gICAgLy8gR2l2ZW4gdGhlIHByZXZhbGVuY2Ugb2YgYXJyb3cgZnVuY3Rpb25zLCBzcGVjaWZ5aW5nIGFyZ3VtZW50cyBpcyBsaWtlbHlcclxuICAgIC8vIHRvIGJlIG11Y2ggbW9yZSBjb21tb24gdGhhbiBzcGVjaWZ5aW5nIGB0aGlzYCwgaGVuY2UgdGhpcyBvcmRlcmluZzpcclxuICAgIGFyZ3MsIHRoaXNBcmcpIHtcclxuICAgICAgICB2YXIgX2E7XHJcbiAgICAgICAgdmFyIHNsb3RzID0gKF9hID0ge1xyXG4gICAgICAgICAgICAgICAgX19wcm90b19fOiBudWxsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIF9hW3RoaXMuaWRdID0gdmFsdWUsXHJcbiAgICAgICAgICAgIF9hKTtcclxuICAgICAgICB2YXIgcGFyZW50ID0gY3VycmVudENvbnRleHQ7XHJcbiAgICAgICAgY3VycmVudENvbnRleHQgPSB7IHBhcmVudDogcGFyZW50LCBzbG90czogc2xvdHMgfTtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAvLyBGdW5jdGlvbi5wcm90b3R5cGUuYXBwbHkgYWxsb3dzIHRoZSBhcmd1bWVudHMgYXJyYXkgYXJndW1lbnQgdG8gYmVcclxuICAgICAgICAgICAgLy8gb21pdHRlZCBvciB1bmRlZmluZWQsIHNvIGFyZ3MhIGlzIGZpbmUgaGVyZS5cclxuICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrLmFwcGx5KHRoaXNBcmcsIGFyZ3MpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmaW5hbGx5IHtcclxuICAgICAgICAgICAgY3VycmVudENvbnRleHQgPSBwYXJlbnQ7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIC8vIENhcHR1cmUgdGhlIGN1cnJlbnQgY29udGV4dCBhbmQgd3JhcCBhIGNhbGxiYWNrIGZ1bmN0aW9uIHNvIHRoYXQgaXRcclxuICAgIC8vIHJlZXN0YWJsaXNoZXMgdGhlIGNhcHR1cmVkIGNvbnRleHQgd2hlbiBjYWxsZWQuXHJcbiAgICBTbG90LmJpbmQgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcclxuICAgICAgICB2YXIgY29udGV4dCA9IGN1cnJlbnRDb250ZXh0O1xyXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBzYXZlZCA9IGN1cnJlbnRDb250ZXh0O1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgY3VycmVudENvbnRleHQgPSBjb250ZXh0O1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZmluYWxseSB7XHJcbiAgICAgICAgICAgICAgICBjdXJyZW50Q29udGV4dCA9IHNhdmVkO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgIH07XHJcbiAgICAvLyBJbW1lZGlhdGVseSBydW4gYSBjYWxsYmFjayBmdW5jdGlvbiB3aXRob3V0IGFueSBjYXB0dXJlZCBjb250ZXh0LlxyXG4gICAgU2xvdC5ub0NvbnRleHQgPSBmdW5jdGlvbiAoY2FsbGJhY2ssIFxyXG4gICAgLy8gR2l2ZW4gdGhlIHByZXZhbGVuY2Ugb2YgYXJyb3cgZnVuY3Rpb25zLCBzcGVjaWZ5aW5nIGFyZ3VtZW50cyBpcyBsaWtlbHlcclxuICAgIC8vIHRvIGJlIG11Y2ggbW9yZSBjb21tb24gdGhhbiBzcGVjaWZ5aW5nIGB0aGlzYCwgaGVuY2UgdGhpcyBvcmRlcmluZzpcclxuICAgIGFyZ3MsIHRoaXNBcmcpIHtcclxuICAgICAgICBpZiAoY3VycmVudENvbnRleHQpIHtcclxuICAgICAgICAgICAgdmFyIHNhdmVkID0gY3VycmVudENvbnRleHQ7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBjdXJyZW50Q29udGV4dCA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAvLyBGdW5jdGlvbi5wcm90b3R5cGUuYXBwbHkgYWxsb3dzIHRoZSBhcmd1bWVudHMgYXJyYXkgYXJndW1lbnQgdG8gYmVcclxuICAgICAgICAgICAgICAgIC8vIG9taXR0ZWQgb3IgdW5kZWZpbmVkLCBzbyBhcmdzISBpcyBmaW5lIGhlcmUuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY2FsbGJhY2suYXBwbHkodGhpc0FyZywgYXJncyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZmluYWxseSB7XHJcbiAgICAgICAgICAgICAgICBjdXJyZW50Q29udGV4dCA9IHNhdmVkO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gY2FsbGJhY2suYXBwbHkodGhpc0FyZywgYXJncyk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHJldHVybiBTbG90O1xyXG59KCkpOyB9O1xyXG4vLyBXZSBzdG9yZSBhIHNpbmdsZSBnbG9iYWwgaW1wbGVtZW50YXRpb24gb2YgdGhlIFNsb3QgY2xhc3MgYXMgYSBwZXJtYW5lbnRcclxuLy8gbm9uLWVudW1lcmFibGUgc3ltYm9sIHByb3BlcnR5IG9mIHRoZSBBcnJheSBjb25zdHJ1Y3Rvci4gVGhpcyBvYmZ1c2NhdGlvblxyXG4vLyBkb2VzIG5vdGhpbmcgdG8gcHJldmVudCBhY2Nlc3MgdG8gdGhlIFNsb3QgY2xhc3MsIGJ1dCBhdCBsZWFzdCBpdCBlbnN1cmVzXHJcbi8vIHRoZSBpbXBsZW1lbnRhdGlvbiAoaS5lLiBjdXJyZW50Q29udGV4dCkgY2Fubm90IGJlIHRhbXBlcmVkIHdpdGgsIGFuZCBhbGxcclxuLy8gY29waWVzIG9mIHRoZSBAd3J5L2NvbnRleHQgcGFja2FnZSAoaG9wZWZ1bGx5IGp1c3Qgb25lKSB3aWxsIHNoYXJlIHRoZVxyXG4vLyBzYW1lIFNsb3QgaW1wbGVtZW50YXRpb24uIFNpbmNlIHRoZSBmaXJzdCBjb3B5IG9mIHRoZSBAd3J5L2NvbnRleHQgcGFja2FnZVxyXG4vLyB0byBiZSBpbXBvcnRlZCB3aW5zLCB0aGlzIHRlY2huaXF1ZSBpbXBvc2VzIGEgdmVyeSBoaWdoIGNvc3QgZm9yIGFueVxyXG4vLyBmdXR1cmUgYnJlYWtpbmcgY2hhbmdlcyB0byB0aGUgU2xvdCBjbGFzcy5cclxudmFyIGdsb2JhbEtleSA9IFwiQHdyeS9jb250ZXh0OlNsb3RcIjtcclxudmFyIGhvc3QgPSBBcnJheTtcclxudmFyIFNsb3QgPSBob3N0W2dsb2JhbEtleV0gfHwgZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIFNsb3QgPSBtYWtlU2xvdENsYXNzKCk7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShob3N0LCBnbG9iYWxLZXksIHtcclxuICAgICAgICAgICAgdmFsdWU6IGhvc3RbZ2xvYmFsS2V5XSA9IFNsb3QsXHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogZmFsc2UsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogZmFsc2UsXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBmaW5hbGx5IHtcclxuICAgICAgICByZXR1cm4gU2xvdDtcclxuICAgIH1cclxufSgpO1xuXG52YXIgYmluZCA9IFNsb3QuYmluZCwgbm9Db250ZXh0ID0gU2xvdC5ub0NvbnRleHQ7XHJcbmZ1bmN0aW9uIHNldFRpbWVvdXRXaXRoQ29udGV4dChjYWxsYmFjaywgZGVsYXkpIHtcclxuICAgIHJldHVybiBzZXRUaW1lb3V0KGJpbmQoY2FsbGJhY2spLCBkZWxheSk7XHJcbn1cclxuLy8gVHVybiBhbnkgZ2VuZXJhdG9yIGZ1bmN0aW9uIGludG8gYW4gYXN5bmMgZnVuY3Rpb24gKHVzaW5nIHlpZWxkIGluc3RlYWRcclxuLy8gb2YgYXdhaXQpLCB3aXRoIGNvbnRleHQgYXV0b21hdGljYWxseSBwcmVzZXJ2ZWQgYWNyb3NzIHlpZWxkcy5cclxuZnVuY3Rpb24gYXN5bmNGcm9tR2VuKGdlbkZuKSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBnZW4gPSBnZW5Gbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG4gICAgICAgIHZhciBib3VuZE5leHQgPSBiaW5kKGdlbi5uZXh0KTtcclxuICAgICAgICB2YXIgYm91bmRUaHJvdyA9IGJpbmQoZ2VuLnRocm93KTtcclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xyXG4gICAgICAgICAgICBmdW5jdGlvbiBpbnZva2UobWV0aG9kLCBhcmd1bWVudCkge1xyXG4gICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gbWV0aG9kLmNhbGwoZ2VuLCBhcmd1bWVudCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVqZWN0KGVycm9yKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHZhciBuZXh0ID0gcmVzdWx0LmRvbmUgPyByZXNvbHZlIDogaW52b2tlTmV4dDtcclxuICAgICAgICAgICAgICAgIGlmIChpc1Byb21pc2VMaWtlKHJlc3VsdC52YWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHQudmFsdWUudGhlbihuZXh0LCByZXN1bHQuZG9uZSA/IHJlamVjdCA6IGludm9rZVRocm93KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIG5leHQocmVzdWx0LnZhbHVlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgaW52b2tlTmV4dCA9IGZ1bmN0aW9uICh2YWx1ZSkgeyByZXR1cm4gaW52b2tlKGJvdW5kTmV4dCwgdmFsdWUpOyB9O1xyXG4gICAgICAgICAgICB2YXIgaW52b2tlVGhyb3cgPSBmdW5jdGlvbiAoZXJyb3IpIHsgcmV0dXJuIGludm9rZShib3VuZFRocm93LCBlcnJvcik7IH07XHJcbiAgICAgICAgICAgIGludm9rZU5leHQoKTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbn1cclxuZnVuY3Rpb24gaXNQcm9taXNlTGlrZSh2YWx1ZSkge1xyXG4gICAgcmV0dXJuIHZhbHVlICYmIHR5cGVvZiB2YWx1ZS50aGVuID09PSBcImZ1bmN0aW9uXCI7XHJcbn1cclxuLy8gSWYgeW91IHVzZSB0aGUgZmliZXJzIG5wbSBwYWNrYWdlIHRvIGltcGxlbWVudCBjb3JvdXRpbmVzIGluIE5vZGUuanMsXHJcbi8vIHlvdSBzaG91bGQgY2FsbCB0aGlzIGZ1bmN0aW9uIGF0IGxlYXN0IG9uY2UgdG8gZW5zdXJlIGNvbnRleHQgbWFuYWdlbWVudFxyXG4vLyByZW1haW5zIGNvaGVyZW50IGFjcm9zcyBhbnkgeWllbGRzLlxyXG52YXIgd3JhcHBlZEZpYmVycyA9IFtdO1xyXG5mdW5jdGlvbiB3cmFwWWllbGRpbmdGaWJlck1ldGhvZHMoRmliZXIpIHtcclxuICAgIC8vIFRoZXJlIGNhbiBiZSBvbmx5IG9uZSBpbXBsZW1lbnRhdGlvbiBvZiBGaWJlciBwZXIgcHJvY2Vzcywgc28gdGhpcyBhcnJheVxyXG4gICAgLy8gc2hvdWxkIG5ldmVyIGdyb3cgbG9uZ2VyIHRoYW4gb25lIGVsZW1lbnQuXHJcbiAgICBpZiAod3JhcHBlZEZpYmVycy5pbmRleE9mKEZpYmVyKSA8IDApIHtcclxuICAgICAgICB2YXIgd3JhcCA9IGZ1bmN0aW9uIChvYmosIG1ldGhvZCkge1xyXG4gICAgICAgICAgICB2YXIgZm4gPSBvYmpbbWV0aG9kXTtcclxuICAgICAgICAgICAgb2JqW21ldGhvZF0gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbm9Db250ZXh0KGZuLCBhcmd1bWVudHMsIHRoaXMpO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgLy8gVGhlc2UgbWV0aG9kcyBjYW4geWllbGQsIGFjY29yZGluZyB0b1xyXG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9sYXZlcmRldC9ub2RlLWZpYmVycy9ibG9iL2RkZWJlZDliOGFlMzg4M2U1N2Y4MjJlMjEwOGU2OTQzZTVjOGQyYTgvZmliZXJzLmpzI0w5Ny1MMTAwXHJcbiAgICAgICAgd3JhcChGaWJlciwgXCJ5aWVsZFwiKTtcclxuICAgICAgICB3cmFwKEZpYmVyLnByb3RvdHlwZSwgXCJydW5cIik7XHJcbiAgICAgICAgd3JhcChGaWJlci5wcm90b3R5cGUsIFwidGhyb3dJbnRvXCIpO1xyXG4gICAgICAgIHdyYXBwZWRGaWJlcnMucHVzaChGaWJlcik7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gRmliZXI7XHJcbn1cblxuZXhwb3J0IHsgU2xvdCwgYXN5bmNGcm9tR2VuLCBiaW5kLCBub0NvbnRleHQsIHNldFRpbWVvdXRXaXRoQ29udGV4dCBhcyBzZXRUaW1lb3V0LCB3cmFwWWllbGRpbmdGaWJlck1ldGhvZHMgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbnRleHQuZXNtLmpzLm1hcFxuIiwiaW1wb3J0IHsgU2xvdCB9IGZyb20gJ0B3cnkvY29udGV4dCc7XG5leHBvcnQgeyBhc3luY0Zyb21HZW4sIGJpbmQgYXMgYmluZENvbnRleHQsIG5vQ29udGV4dCwgc2V0VGltZW91dCB9IGZyb20gJ0B3cnkvY29udGV4dCc7XG5cbmZ1bmN0aW9uIGRlZmF1bHREaXNwb3NlKCkgeyB9XHJcbnZhciBDYWNoZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIENhY2hlKG1heCwgZGlzcG9zZSkge1xyXG4gICAgICAgIGlmIChtYXggPT09IHZvaWQgMCkgeyBtYXggPSBJbmZpbml0eTsgfVxyXG4gICAgICAgIGlmIChkaXNwb3NlID09PSB2b2lkIDApIHsgZGlzcG9zZSA9IGRlZmF1bHREaXNwb3NlOyB9XHJcbiAgICAgICAgdGhpcy5tYXggPSBtYXg7XHJcbiAgICAgICAgdGhpcy5kaXNwb3NlID0gZGlzcG9zZTtcclxuICAgICAgICB0aGlzLm1hcCA9IG5ldyBNYXAoKTtcclxuICAgICAgICB0aGlzLm5ld2VzdCA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5vbGRlc3QgPSBudWxsO1xyXG4gICAgfVxyXG4gICAgQ2FjaGUucHJvdG90eXBlLmhhcyA9IGZ1bmN0aW9uIChrZXkpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5tYXAuaGFzKGtleSk7XHJcbiAgICB9O1xyXG4gICAgQ2FjaGUucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uIChrZXkpIHtcclxuICAgICAgICB2YXIgZW50cnkgPSB0aGlzLmdldEVudHJ5KGtleSk7XHJcbiAgICAgICAgcmV0dXJuIGVudHJ5ICYmIGVudHJ5LnZhbHVlO1xyXG4gICAgfTtcclxuICAgIENhY2hlLnByb3RvdHlwZS5nZXRFbnRyeSA9IGZ1bmN0aW9uIChrZXkpIHtcclxuICAgICAgICB2YXIgZW50cnkgPSB0aGlzLm1hcC5nZXQoa2V5KTtcclxuICAgICAgICBpZiAoZW50cnkgJiYgZW50cnkgIT09IHRoaXMubmV3ZXN0KSB7XHJcbiAgICAgICAgICAgIHZhciBvbGRlciA9IGVudHJ5Lm9sZGVyLCBuZXdlciA9IGVudHJ5Lm5ld2VyO1xyXG4gICAgICAgICAgICBpZiAobmV3ZXIpIHtcclxuICAgICAgICAgICAgICAgIG5ld2VyLm9sZGVyID0gb2xkZXI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKG9sZGVyKSB7XHJcbiAgICAgICAgICAgICAgICBvbGRlci5uZXdlciA9IG5ld2VyO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVudHJ5Lm9sZGVyID0gdGhpcy5uZXdlc3Q7XHJcbiAgICAgICAgICAgIGVudHJ5Lm9sZGVyLm5ld2VyID0gZW50cnk7XHJcbiAgICAgICAgICAgIGVudHJ5Lm5ld2VyID0gbnVsbDtcclxuICAgICAgICAgICAgdGhpcy5uZXdlc3QgPSBlbnRyeTtcclxuICAgICAgICAgICAgaWYgKGVudHJ5ID09PSB0aGlzLm9sZGVzdCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5vbGRlc3QgPSBuZXdlcjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZW50cnk7XHJcbiAgICB9O1xyXG4gICAgQ2FjaGUucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7XHJcbiAgICAgICAgdmFyIGVudHJ5ID0gdGhpcy5nZXRFbnRyeShrZXkpO1xyXG4gICAgICAgIGlmIChlbnRyeSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZW50cnkudmFsdWUgPSB2YWx1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZW50cnkgPSB7XHJcbiAgICAgICAgICAgIGtleToga2V5LFxyXG4gICAgICAgICAgICB2YWx1ZTogdmFsdWUsXHJcbiAgICAgICAgICAgIG5ld2VyOiBudWxsLFxyXG4gICAgICAgICAgICBvbGRlcjogdGhpcy5uZXdlc3RcclxuICAgICAgICB9O1xyXG4gICAgICAgIGlmICh0aGlzLm5ld2VzdCkge1xyXG4gICAgICAgICAgICB0aGlzLm5ld2VzdC5uZXdlciA9IGVudHJ5O1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLm5ld2VzdCA9IGVudHJ5O1xyXG4gICAgICAgIHRoaXMub2xkZXN0ID0gdGhpcy5vbGRlc3QgfHwgZW50cnk7XHJcbiAgICAgICAgdGhpcy5tYXAuc2V0KGtleSwgZW50cnkpO1xyXG4gICAgICAgIHJldHVybiBlbnRyeS52YWx1ZTtcclxuICAgIH07XHJcbiAgICBDYWNoZS5wcm90b3R5cGUuY2xlYW4gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgd2hpbGUgKHRoaXMub2xkZXN0ICYmIHRoaXMubWFwLnNpemUgPiB0aGlzLm1heCkge1xyXG4gICAgICAgICAgICB0aGlzLmRlbGV0ZSh0aGlzLm9sZGVzdC5rZXkpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBDYWNoZS5wcm90b3R5cGUuZGVsZXRlID0gZnVuY3Rpb24gKGtleSkge1xyXG4gICAgICAgIHZhciBlbnRyeSA9IHRoaXMubWFwLmdldChrZXkpO1xyXG4gICAgICAgIGlmIChlbnRyeSkge1xyXG4gICAgICAgICAgICBpZiAoZW50cnkgPT09IHRoaXMubmV3ZXN0KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm5ld2VzdCA9IGVudHJ5Lm9sZGVyO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChlbnRyeSA9PT0gdGhpcy5vbGRlc3QpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMub2xkZXN0ID0gZW50cnkubmV3ZXI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGVudHJ5Lm5ld2VyKSB7XHJcbiAgICAgICAgICAgICAgICBlbnRyeS5uZXdlci5vbGRlciA9IGVudHJ5Lm9sZGVyO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChlbnRyeS5vbGRlcikge1xyXG4gICAgICAgICAgICAgICAgZW50cnkub2xkZXIubmV3ZXIgPSBlbnRyeS5uZXdlcjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLm1hcC5kZWxldGUoa2V5KTtcclxuICAgICAgICAgICAgdGhpcy5kaXNwb3NlKGVudHJ5LnZhbHVlLCBrZXkpO1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBDYWNoZTtcclxufSgpKTtcblxudmFyIHBhcmVudEVudHJ5U2xvdCA9IG5ldyBTbG90KCk7XG5cbnZhciByZXVzYWJsZUVtcHR5QXJyYXkgPSBbXTtcclxudmFyIGVtcHR5U2V0UG9vbCA9IFtdO1xyXG52YXIgUE9PTF9UQVJHRVRfU0laRSA9IDEwMDtcclxuLy8gU2luY2UgdGhpcyBwYWNrYWdlIG1pZ2h0IGJlIHVzZWQgYnJvd3NlcnMsIHdlIHNob3VsZCBhdm9pZCB1c2luZyB0aGVcclxuLy8gTm9kZSBidWlsdC1pbiBhc3NlcnQgbW9kdWxlLlxyXG5mdW5jdGlvbiBhc3NlcnQoY29uZGl0aW9uLCBvcHRpb25hbE1lc3NhZ2UpIHtcclxuICAgIGlmICghY29uZGl0aW9uKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKG9wdGlvbmFsTWVzc2FnZSB8fCBcImFzc2VydGlvbiBmYWlsdXJlXCIpO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIHZhbHVlSXMoYSwgYikge1xyXG4gICAgdmFyIGxlbiA9IGEubGVuZ3RoO1xyXG4gICAgcmV0dXJuIChcclxuICAgIC8vIFVua25vd24gdmFsdWVzIGFyZSBub3QgZXF1YWwgdG8gZWFjaCBvdGhlci5cclxuICAgIGxlbiA+IDAgJiZcclxuICAgICAgICAvLyBCb3RoIHZhbHVlcyBtdXN0IGJlIG9yZGluYXJ5IChvciBib3RoIGV4Y2VwdGlvbmFsKSB0byBiZSBlcXVhbC5cclxuICAgICAgICBsZW4gPT09IGIubGVuZ3RoICYmXHJcbiAgICAgICAgLy8gVGhlIHVuZGVybHlpbmcgdmFsdWUgb3IgZXhjZXB0aW9uIG11c3QgYmUgdGhlIHNhbWUuXHJcbiAgICAgICAgYVtsZW4gLSAxXSA9PT0gYltsZW4gLSAxXSk7XHJcbn1cclxuZnVuY3Rpb24gdmFsdWVHZXQodmFsdWUpIHtcclxuICAgIHN3aXRjaCAodmFsdWUubGVuZ3RoKSB7XHJcbiAgICAgICAgY2FzZSAwOiB0aHJvdyBuZXcgRXJyb3IoXCJ1bmtub3duIHZhbHVlXCIpO1xyXG4gICAgICAgIGNhc2UgMTogcmV0dXJuIHZhbHVlWzBdO1xyXG4gICAgICAgIGNhc2UgMjogdGhyb3cgdmFsdWVbMV07XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gdmFsdWVDb3B5KHZhbHVlKSB7XHJcbiAgICByZXR1cm4gdmFsdWUuc2xpY2UoMCk7XHJcbn1cclxudmFyIEVudHJ5ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gRW50cnkoZm4sIGFyZ3MpIHtcclxuICAgICAgICB0aGlzLmZuID0gZm47XHJcbiAgICAgICAgdGhpcy5hcmdzID0gYXJncztcclxuICAgICAgICB0aGlzLnBhcmVudHMgPSBuZXcgU2V0KCk7XHJcbiAgICAgICAgdGhpcy5jaGlsZFZhbHVlcyA9IG5ldyBNYXAoKTtcclxuICAgICAgICAvLyBXaGVuIHRoaXMgRW50cnkgaGFzIGNoaWxkcmVuIHRoYXQgYXJlIGRpcnR5LCB0aGlzIHByb3BlcnR5IGJlY29tZXNcclxuICAgICAgICAvLyBhIFNldCBjb250YWluaW5nIG90aGVyIEVudHJ5IG9iamVjdHMsIGJvcnJvd2VkIGZyb20gZW1wdHlTZXRQb29sLlxyXG4gICAgICAgIC8vIFdoZW4gdGhlIHNldCBiZWNvbWVzIGVtcHR5LCBpdCBnZXRzIHJlY3ljbGVkIGJhY2sgdG8gZW1wdHlTZXRQb29sLlxyXG4gICAgICAgIHRoaXMuZGlydHlDaGlsZHJlbiA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5yZWNvbXB1dGluZyA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMudmFsdWUgPSBbXTtcclxuICAgICAgICArK0VudHJ5LmNvdW50O1xyXG4gICAgfVxyXG4gICAgLy8gVGhpcyBpcyB0aGUgbW9zdCBpbXBvcnRhbnQgbWV0aG9kIG9mIHRoZSBFbnRyeSBBUEksIGJlY2F1c2UgaXRcclxuICAgIC8vIGRldGVybWluZXMgd2hldGhlciB0aGUgY2FjaGVkIHRoaXMudmFsdWUgY2FuIGJlIHJldHVybmVkIGltbWVkaWF0ZWx5LFxyXG4gICAgLy8gb3IgbXVzdCBiZSByZWNvbXB1dGVkLiBUaGUgb3ZlcmFsbCBwZXJmb3JtYW5jZSBvZiB0aGUgY2FjaGluZyBzeXN0ZW1cclxuICAgIC8vIGRlcGVuZHMgb24gdGhlIHRydXRoIG9mIHRoZSBmb2xsb3dpbmcgb2JzZXJ2YXRpb25zOiAoMSkgdGhpcy5kaXJ0eSBpc1xyXG4gICAgLy8gdXN1YWxseSBmYWxzZSwgKDIpIHRoaXMuZGlydHlDaGlsZHJlbiBpcyB1c3VhbGx5IG51bGwvZW1wdHksIGFuZCB0aHVzXHJcbiAgICAvLyAoMykgdmFsdWVHZXQodGhpcy52YWx1ZSkgaXMgdXN1YWxseSByZXR1cm5lZCB3aXRob3V0IHJlY29tcHV0YXRpb24uXHJcbiAgICBFbnRyeS5wcm90b3R5cGUucmVjb21wdXRlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGFzc2VydCghdGhpcy5yZWNvbXB1dGluZywgXCJhbHJlYWR5IHJlY29tcHV0aW5nXCIpO1xyXG4gICAgICAgIGlmICghcmVtZW1iZXJQYXJlbnQodGhpcykgJiYgbWF5YmVSZXBvcnRPcnBoYW4odGhpcykpIHtcclxuICAgICAgICAgICAgLy8gVGhlIHJlY2lwaWVudCBvZiB0aGUgZW50cnkucmVwb3J0T3JwaGFuIGNhbGxiYWNrIGRlY2lkZWQgdG8gZGlzcG9zZVxyXG4gICAgICAgICAgICAvLyBvZiB0aGlzIG9ycGhhbiBlbnRyeSBieSBjYWxsaW5nIGVudHJ5LmRpc3Bvc2UoKSwgc28gd2UgZG9uJ3QgbmVlZCB0b1xyXG4gICAgICAgICAgICAvLyAoYW5kIHNob3VsZCBub3QpIHByb2NlZWQgd2l0aCB0aGUgcmVjb21wdXRhdGlvbi5cclxuICAgICAgICAgICAgcmV0dXJuIHZvaWQgMDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG1pZ2h0QmVEaXJ0eSh0aGlzKVxyXG4gICAgICAgICAgICA/IHJlYWxseVJlY29tcHV0ZSh0aGlzKVxyXG4gICAgICAgICAgICA6IHZhbHVlR2V0KHRoaXMudmFsdWUpO1xyXG4gICAgfTtcclxuICAgIEVudHJ5LnByb3RvdHlwZS5zZXREaXJ0eSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAodGhpcy5kaXJ0eSlcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMudmFsdWUubGVuZ3RoID0gMDtcclxuICAgICAgICByZXBvcnREaXJ0eSh0aGlzKTtcclxuICAgICAgICAvLyBXZSBjYW4gZ28gYWhlYWQgYW5kIHVuc3Vic2NyaWJlIGhlcmUsIHNpbmNlIGFueSBmdXJ0aGVyIGRpcnR5XHJcbiAgICAgICAgLy8gbm90aWZpY2F0aW9ucyB3ZSByZWNlaXZlIHdpbGwgYmUgcmVkdW5kYW50LCBhbmQgdW5zdWJzY3JpYmluZyBtYXlcclxuICAgICAgICAvLyBmcmVlIHVwIHNvbWUgcmVzb3VyY2VzLCBlLmcuIGZpbGUgd2F0Y2hlcnMuXHJcbiAgICAgICAgbWF5YmVVbnN1YnNjcmliZSh0aGlzKTtcclxuICAgIH07XHJcbiAgICBFbnRyeS5wcm90b3R5cGUuZGlzcG9zZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIGZvcmdldENoaWxkcmVuKHRoaXMpLmZvckVhY2gobWF5YmVSZXBvcnRPcnBoYW4pO1xyXG4gICAgICAgIG1heWJlVW5zdWJzY3JpYmUodGhpcyk7XHJcbiAgICAgICAgLy8gQmVjYXVzZSB0aGlzIGVudHJ5IGhhcyBiZWVuIGtpY2tlZCBvdXQgb2YgdGhlIGNhY2hlIChpbiBpbmRleC5qcyksXHJcbiAgICAgICAgLy8gd2UndmUgbG9zdCB0aGUgYWJpbGl0eSB0byBmaW5kIG91dCBpZi93aGVuIHRoaXMgZW50cnkgYmVjb21lcyBkaXJ0eSxcclxuICAgICAgICAvLyB3aGV0aGVyIHRoYXQgaGFwcGVucyB0aHJvdWdoIGEgc3Vic2NyaXB0aW9uLCBiZWNhdXNlIG9mIGEgZGlyZWN0IGNhbGxcclxuICAgICAgICAvLyB0byBlbnRyeS5zZXREaXJ0eSgpLCBvciBiZWNhdXNlIG9uZSBvZiBpdHMgY2hpbGRyZW4gYmVjb21lcyBkaXJ0eS5cclxuICAgICAgICAvLyBCZWNhdXNlIG9mIHRoaXMgbG9zcyBvZiBmdXR1cmUgaW5mb3JtYXRpb24sIHdlIGhhdmUgdG8gYXNzdW1lIHRoZVxyXG4gICAgICAgIC8vIHdvcnN0ICh0aGF0IHRoaXMgZW50cnkgbWlnaHQgaGF2ZSBiZWNvbWUgZGlydHkgdmVyeSBzb29uKSwgc28gd2UgbXVzdFxyXG4gICAgICAgIC8vIGltbWVkaWF0ZWx5IG1hcmsgdGhpcyBlbnRyeSdzIHBhcmVudHMgYXMgZGlydHkuIE5vcm1hbGx5IHdlIGNvdWxkXHJcbiAgICAgICAgLy8ganVzdCBjYWxsIGVudHJ5LnNldERpcnR5KCkgcmF0aGVyIHRoYW4gY2FsbGluZyBwYXJlbnQuc2V0RGlydHkoKSBmb3JcclxuICAgICAgICAvLyBlYWNoIHBhcmVudCwgYnV0IHRoYXQgd291bGQgbGVhdmUgdGhpcyBlbnRyeSBpbiBwYXJlbnQuY2hpbGRWYWx1ZXNcclxuICAgICAgICAvLyBhbmQgcGFyZW50LmRpcnR5Q2hpbGRyZW4sIHdoaWNoIHdvdWxkIHByZXZlbnQgdGhlIGNoaWxkIGZyb20gYmVpbmdcclxuICAgICAgICAvLyB0cnVseSBmb3Jnb3R0ZW4uXHJcbiAgICAgICAgdGhpcy5wYXJlbnRzLmZvckVhY2goZnVuY3Rpb24gKHBhcmVudCkge1xyXG4gICAgICAgICAgICBwYXJlbnQuc2V0RGlydHkoKTtcclxuICAgICAgICAgICAgZm9yZ2V0Q2hpbGQocGFyZW50LCBfdGhpcyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgRW50cnkuY291bnQgPSAwO1xyXG4gICAgcmV0dXJuIEVudHJ5O1xyXG59KCkpO1xyXG5mdW5jdGlvbiByZW1lbWJlclBhcmVudChjaGlsZCkge1xyXG4gICAgdmFyIHBhcmVudCA9IHBhcmVudEVudHJ5U2xvdC5nZXRWYWx1ZSgpO1xyXG4gICAgaWYgKHBhcmVudCkge1xyXG4gICAgICAgIGNoaWxkLnBhcmVudHMuYWRkKHBhcmVudCk7XHJcbiAgICAgICAgaWYgKCFwYXJlbnQuY2hpbGRWYWx1ZXMuaGFzKGNoaWxkKSkge1xyXG4gICAgICAgICAgICBwYXJlbnQuY2hpbGRWYWx1ZXMuc2V0KGNoaWxkLCBbXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChtaWdodEJlRGlydHkoY2hpbGQpKSB7XHJcbiAgICAgICAgICAgIHJlcG9ydERpcnR5Q2hpbGQocGFyZW50LCBjaGlsZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXBvcnRDbGVhbkNoaWxkKHBhcmVudCwgY2hpbGQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcGFyZW50O1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIHJlYWxseVJlY29tcHV0ZShlbnRyeSkge1xyXG4gICAgLy8gU2luY2UgdGhpcyByZWNvbXB1dGF0aW9uIGlzIGxpa2VseSB0byByZS1yZW1lbWJlciBzb21lIG9mIHRoaXNcclxuICAgIC8vIGVudHJ5J3MgY2hpbGRyZW4sIHdlIGZvcmdldCBvdXIgY2hpbGRyZW4gaGVyZSBidXQgZG8gbm90IGNhbGxcclxuICAgIC8vIG1heWJlUmVwb3J0T3JwaGFuIHVudGlsIGFmdGVyIHRoZSByZWNvbXB1dGF0aW9uIGZpbmlzaGVzLlxyXG4gICAgdmFyIG9yaWdpbmFsQ2hpbGRyZW4gPSBmb3JnZXRDaGlsZHJlbihlbnRyeSk7XHJcbiAgICAvLyBTZXQgZW50cnkgYXMgdGhlIHBhcmVudCBlbnRyeSB3aGlsZSBjYWxsaW5nIHJlY29tcHV0ZU5ld1ZhbHVlKGVudHJ5KS5cclxuICAgIHBhcmVudEVudHJ5U2xvdC53aXRoVmFsdWUoZW50cnksIHJlY29tcHV0ZU5ld1ZhbHVlLCBbZW50cnldKTtcclxuICAgIGlmIChtYXliZVN1YnNjcmliZShlbnRyeSkpIHtcclxuICAgICAgICAvLyBJZiB3ZSBzdWNjZXNzZnVsbHkgcmVjb21wdXRlZCBlbnRyeS52YWx1ZSBhbmQgZGlkIG5vdCBmYWlsIHRvXHJcbiAgICAgICAgLy8gKHJlKXN1YnNjcmliZSwgdGhlbiB0aGlzIEVudHJ5IGlzIG5vIGxvbmdlciBleHBsaWNpdGx5IGRpcnR5LlxyXG4gICAgICAgIHNldENsZWFuKGVudHJ5KTtcclxuICAgIH1cclxuICAgIC8vIE5vdyB0aGF0IHdlJ3ZlIGhhZCBhIGNoYW5jZSB0byByZS1yZW1lbWJlciBhbnkgY2hpbGRyZW4gdGhhdCB3ZXJlXHJcbiAgICAvLyBpbnZvbHZlZCBpbiB0aGUgcmVjb21wdXRhdGlvbiwgd2UgY2FuIHNhZmVseSByZXBvcnQgYW55IG9ycGhhblxyXG4gICAgLy8gY2hpbGRyZW4gdGhhdCByZW1haW4uXHJcbiAgICBvcmlnaW5hbENoaWxkcmVuLmZvckVhY2gobWF5YmVSZXBvcnRPcnBoYW4pO1xyXG4gICAgcmV0dXJuIHZhbHVlR2V0KGVudHJ5LnZhbHVlKTtcclxufVxyXG5mdW5jdGlvbiByZWNvbXB1dGVOZXdWYWx1ZShlbnRyeSkge1xyXG4gICAgZW50cnkucmVjb21wdXRpbmcgPSB0cnVlO1xyXG4gICAgLy8gU2V0IGVudHJ5LnZhbHVlIGFzIHVua25vd24uXHJcbiAgICBlbnRyeS52YWx1ZS5sZW5ndGggPSAwO1xyXG4gICAgdHJ5IHtcclxuICAgICAgICAvLyBJZiBlbnRyeS5mbiBzdWNjZWVkcywgZW50cnkudmFsdWUgd2lsbCBiZWNvbWUgYSBub3JtYWwgVmFsdWUuXHJcbiAgICAgICAgZW50cnkudmFsdWVbMF0gPSBlbnRyeS5mbi5hcHBseShudWxsLCBlbnRyeS5hcmdzKTtcclxuICAgIH1cclxuICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgLy8gSWYgZW50cnkuZm4gdGhyb3dzLCBlbnRyeS52YWx1ZSB3aWxsIGJlY29tZSBleGNlcHRpb25hbC5cclxuICAgICAgICBlbnRyeS52YWx1ZVsxXSA9IGU7XHJcbiAgICB9XHJcbiAgICAvLyBFaXRoZXIgd2F5LCB0aGlzIGxpbmUgaXMgYWx3YXlzIHJlYWNoZWQuXHJcbiAgICBlbnRyeS5yZWNvbXB1dGluZyA9IGZhbHNlO1xyXG59XHJcbmZ1bmN0aW9uIG1pZ2h0QmVEaXJ0eShlbnRyeSkge1xyXG4gICAgcmV0dXJuIGVudHJ5LmRpcnR5IHx8ICEhKGVudHJ5LmRpcnR5Q2hpbGRyZW4gJiYgZW50cnkuZGlydHlDaGlsZHJlbi5zaXplKTtcclxufVxyXG5mdW5jdGlvbiBzZXRDbGVhbihlbnRyeSkge1xyXG4gICAgZW50cnkuZGlydHkgPSBmYWxzZTtcclxuICAgIGlmIChtaWdodEJlRGlydHkoZW50cnkpKSB7XHJcbiAgICAgICAgLy8gVGhpcyBFbnRyeSBtYXkgc3RpbGwgaGF2ZSBkaXJ0eSBjaGlsZHJlbiwgaW4gd2hpY2ggY2FzZSB3ZSBjYW4ndFxyXG4gICAgICAgIC8vIGxldCBvdXIgcGFyZW50cyBrbm93IHdlJ3JlIGNsZWFuIGp1c3QgeWV0LlxyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIHJlcG9ydENsZWFuKGVudHJ5KTtcclxufVxyXG5mdW5jdGlvbiByZXBvcnREaXJ0eShjaGlsZCkge1xyXG4gICAgY2hpbGQucGFyZW50cy5mb3JFYWNoKGZ1bmN0aW9uIChwYXJlbnQpIHsgcmV0dXJuIHJlcG9ydERpcnR5Q2hpbGQocGFyZW50LCBjaGlsZCk7IH0pO1xyXG59XHJcbmZ1bmN0aW9uIHJlcG9ydENsZWFuKGNoaWxkKSB7XHJcbiAgICBjaGlsZC5wYXJlbnRzLmZvckVhY2goZnVuY3Rpb24gKHBhcmVudCkgeyByZXR1cm4gcmVwb3J0Q2xlYW5DaGlsZChwYXJlbnQsIGNoaWxkKTsgfSk7XHJcbn1cclxuLy8gTGV0IGEgcGFyZW50IEVudHJ5IGtub3cgdGhhdCBvbmUgb2YgaXRzIGNoaWxkcmVuIG1heSBiZSBkaXJ0eS5cclxuZnVuY3Rpb24gcmVwb3J0RGlydHlDaGlsZChwYXJlbnQsIGNoaWxkKSB7XHJcbiAgICAvLyBNdXN0IGhhdmUgY2FsbGVkIHJlbWVtYmVyUGFyZW50KGNoaWxkKSBiZWZvcmUgY2FsbGluZ1xyXG4gICAgLy8gcmVwb3J0RGlydHlDaGlsZChwYXJlbnQsIGNoaWxkKS5cclxuICAgIGFzc2VydChwYXJlbnQuY2hpbGRWYWx1ZXMuaGFzKGNoaWxkKSk7XHJcbiAgICBhc3NlcnQobWlnaHRCZURpcnR5KGNoaWxkKSk7XHJcbiAgICBpZiAoIXBhcmVudC5kaXJ0eUNoaWxkcmVuKSB7XHJcbiAgICAgICAgcGFyZW50LmRpcnR5Q2hpbGRyZW4gPSBlbXB0eVNldFBvb2wucG9wKCkgfHwgbmV3IFNldDtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKHBhcmVudC5kaXJ0eUNoaWxkcmVuLmhhcyhjaGlsZCkpIHtcclxuICAgICAgICAvLyBJZiB3ZSBhbHJlYWR5IGtub3cgdGhpcyBjaGlsZCBpcyBkaXJ0eSwgdGhlbiB3ZSBtdXN0IGhhdmUgYWxyZWFkeVxyXG4gICAgICAgIC8vIGluZm9ybWVkIG91ciBvd24gcGFyZW50cyB0aGF0IHdlIGFyZSBkaXJ0eSwgc28gd2UgY2FuIHRlcm1pbmF0ZVxyXG4gICAgICAgIC8vIHRoZSByZWN1cnNpb24gZWFybHkuXHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgcGFyZW50LmRpcnR5Q2hpbGRyZW4uYWRkKGNoaWxkKTtcclxuICAgIHJlcG9ydERpcnR5KHBhcmVudCk7XHJcbn1cclxuLy8gTGV0IGEgcGFyZW50IEVudHJ5IGtub3cgdGhhdCBvbmUgb2YgaXRzIGNoaWxkcmVuIGlzIG5vIGxvbmdlciBkaXJ0eS5cclxuZnVuY3Rpb24gcmVwb3J0Q2xlYW5DaGlsZChwYXJlbnQsIGNoaWxkKSB7XHJcbiAgICAvLyBNdXN0IGhhdmUgY2FsbGVkIHJlbWVtYmVyQ2hpbGQoY2hpbGQpIGJlZm9yZSBjYWxsaW5nXHJcbiAgICAvLyByZXBvcnRDbGVhbkNoaWxkKHBhcmVudCwgY2hpbGQpLlxyXG4gICAgYXNzZXJ0KHBhcmVudC5jaGlsZFZhbHVlcy5oYXMoY2hpbGQpKTtcclxuICAgIGFzc2VydCghbWlnaHRCZURpcnR5KGNoaWxkKSk7XHJcbiAgICB2YXIgY2hpbGRWYWx1ZSA9IHBhcmVudC5jaGlsZFZhbHVlcy5nZXQoY2hpbGQpO1xyXG4gICAgaWYgKGNoaWxkVmFsdWUubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgcGFyZW50LmNoaWxkVmFsdWVzLnNldChjaGlsZCwgdmFsdWVDb3B5KGNoaWxkLnZhbHVlKSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmICghdmFsdWVJcyhjaGlsZFZhbHVlLCBjaGlsZC52YWx1ZSkpIHtcclxuICAgICAgICBwYXJlbnQuc2V0RGlydHkoKTtcclxuICAgIH1cclxuICAgIHJlbW92ZURpcnR5Q2hpbGQocGFyZW50LCBjaGlsZCk7XHJcbiAgICBpZiAobWlnaHRCZURpcnR5KHBhcmVudCkpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICByZXBvcnRDbGVhbihwYXJlbnQpO1xyXG59XHJcbmZ1bmN0aW9uIHJlbW92ZURpcnR5Q2hpbGQocGFyZW50LCBjaGlsZCkge1xyXG4gICAgdmFyIGRjID0gcGFyZW50LmRpcnR5Q2hpbGRyZW47XHJcbiAgICBpZiAoZGMpIHtcclxuICAgICAgICBkYy5kZWxldGUoY2hpbGQpO1xyXG4gICAgICAgIGlmIChkYy5zaXplID09PSAwKSB7XHJcbiAgICAgICAgICAgIGlmIChlbXB0eVNldFBvb2wubGVuZ3RoIDwgUE9PTF9UQVJHRVRfU0laRSkge1xyXG4gICAgICAgICAgICAgICAgZW1wdHlTZXRQb29sLnB1c2goZGMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHBhcmVudC5kaXJ0eUNoaWxkcmVuID0gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuLy8gSWYgdGhlIGdpdmVuIGVudHJ5IGhhcyBhIHJlcG9ydE9ycGhhbiBtZXRob2QsIGFuZCBubyByZW1haW5pbmcgcGFyZW50cyxcclxuLy8gY2FsbCBlbnRyeS5yZXBvcnRPcnBoYW4gYW5kIHJldHVybiB0cnVlIGlmZiBpdCByZXR1cm5zIHRydWUuIFRoZVxyXG4vLyByZXBvcnRPcnBoYW4gZnVuY3Rpb24gc2hvdWxkIHJldHVybiB0cnVlIHRvIGluZGljYXRlIGVudHJ5LmRpc3Bvc2UoKVxyXG4vLyBoYXMgYmVlbiBjYWxsZWQsIGFuZCB0aGUgZW50cnkgaGFzIGJlZW4gcmVtb3ZlZCBmcm9tIGFueSBvdGhlciBjYWNoZXNcclxuLy8gKHNlZSBpbmRleC5qcyBmb3IgdGhlIG9ubHkgY3VycmVudCBleGFtcGxlKS5cclxuZnVuY3Rpb24gbWF5YmVSZXBvcnRPcnBoYW4oZW50cnkpIHtcclxuICAgIHJldHVybiBlbnRyeS5wYXJlbnRzLnNpemUgPT09IDAgJiZcclxuICAgICAgICB0eXBlb2YgZW50cnkucmVwb3J0T3JwaGFuID09PSBcImZ1bmN0aW9uXCIgJiZcclxuICAgICAgICBlbnRyeS5yZXBvcnRPcnBoYW4oKSA9PT0gdHJ1ZTtcclxufVxyXG4vLyBSZW1vdmVzIGFsbCBjaGlsZHJlbiBmcm9tIHRoaXMgZW50cnkgYW5kIHJldHVybnMgYW4gYXJyYXkgb2YgdGhlXHJcbi8vIHJlbW92ZWQgY2hpbGRyZW4uXHJcbmZ1bmN0aW9uIGZvcmdldENoaWxkcmVuKHBhcmVudCkge1xyXG4gICAgdmFyIGNoaWxkcmVuID0gcmV1c2FibGVFbXB0eUFycmF5O1xyXG4gICAgaWYgKHBhcmVudC5jaGlsZFZhbHVlcy5zaXplID4gMCkge1xyXG4gICAgICAgIGNoaWxkcmVuID0gW107XHJcbiAgICAgICAgcGFyZW50LmNoaWxkVmFsdWVzLmZvckVhY2goZnVuY3Rpb24gKF92YWx1ZSwgY2hpbGQpIHtcclxuICAgICAgICAgICAgZm9yZ2V0Q2hpbGQocGFyZW50LCBjaGlsZCk7XHJcbiAgICAgICAgICAgIGNoaWxkcmVuLnB1c2goY2hpbGQpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgLy8gQWZ0ZXIgd2UgZm9yZ2V0IGFsbCBvdXIgY2hpbGRyZW4sIHRoaXMuZGlydHlDaGlsZHJlbiBtdXN0IGJlIGVtcHR5XHJcbiAgICAvLyBhbmQgdGhlcmVmb3JlIG11c3QgaGF2ZSBiZWVuIHJlc2V0IHRvIG51bGwuXHJcbiAgICBhc3NlcnQocGFyZW50LmRpcnR5Q2hpbGRyZW4gPT09IG51bGwpO1xyXG4gICAgcmV0dXJuIGNoaWxkcmVuO1xyXG59XHJcbmZ1bmN0aW9uIGZvcmdldENoaWxkKHBhcmVudCwgY2hpbGQpIHtcclxuICAgIGNoaWxkLnBhcmVudHMuZGVsZXRlKHBhcmVudCk7XHJcbiAgICBwYXJlbnQuY2hpbGRWYWx1ZXMuZGVsZXRlKGNoaWxkKTtcclxuICAgIHJlbW92ZURpcnR5Q2hpbGQocGFyZW50LCBjaGlsZCk7XHJcbn1cclxuZnVuY3Rpb24gbWF5YmVTdWJzY3JpYmUoZW50cnkpIHtcclxuICAgIGlmICh0eXBlb2YgZW50cnkuc3Vic2NyaWJlID09PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBtYXliZVVuc3Vic2NyaWJlKGVudHJ5KTsgLy8gUHJldmVudCBkb3VibGUgc3Vic2NyaXB0aW9ucy5cclxuICAgICAgICAgICAgZW50cnkudW5zdWJzY3JpYmUgPSBlbnRyeS5zdWJzY3JpYmUuYXBwbHkobnVsbCwgZW50cnkuYXJncyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIC8vIElmIHRoaXMgRW50cnkgaGFzIGEgc3Vic2NyaWJlIGZ1bmN0aW9uIGFuZCBpdCB0aHJldyBhbiBleGNlcHRpb25cclxuICAgICAgICAgICAgLy8gKG9yIGFuIHVuc3Vic2NyaWJlIGZ1bmN0aW9uIGl0IHByZXZpb3VzbHkgcmV0dXJuZWQgbm93IHRocm93cyksXHJcbiAgICAgICAgICAgIC8vIHJldHVybiBmYWxzZSB0byBpbmRpY2F0ZSB0aGF0IHdlIHdlcmUgbm90IGFibGUgdG8gc3Vic2NyaWJlIChvclxyXG4gICAgICAgICAgICAvLyB1bnN1YnNjcmliZSksIGFuZCB0aGlzIEVudHJ5IHNob3VsZCByZW1haW4gZGlydHkuXHJcbiAgICAgICAgICAgIGVudHJ5LnNldERpcnR5KCk7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvLyBSZXR1cm5pbmcgdHJ1ZSBpbmRpY2F0ZXMgZWl0aGVyIHRoYXQgdGhlcmUgd2FzIG5vIGVudHJ5LnN1YnNjcmliZVxyXG4gICAgLy8gZnVuY3Rpb24gb3IgdGhhdCBpdCBzdWNjZWVkZWQuXHJcbiAgICByZXR1cm4gdHJ1ZTtcclxufVxyXG5mdW5jdGlvbiBtYXliZVVuc3Vic2NyaWJlKGVudHJ5KSB7XHJcbiAgICB2YXIgdW5zdWJzY3JpYmUgPSBlbnRyeS51bnN1YnNjcmliZTtcclxuICAgIGlmICh0eXBlb2YgdW5zdWJzY3JpYmUgPT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgIGVudHJ5LnVuc3Vic2NyaWJlID0gdm9pZCAwO1xyXG4gICAgICAgIHVuc3Vic2NyaWJlKCk7XHJcbiAgICB9XHJcbn1cblxuLy8gQSB0cmllIGRhdGEgc3RydWN0dXJlIHRoYXQgaG9sZHMgb2JqZWN0IGtleXMgd2Vha2x5LCB5ZXQgY2FuIGFsc28gaG9sZFxyXG4vLyBub24tb2JqZWN0IGtleXMsIHVubGlrZSB0aGUgbmF0aXZlIGBXZWFrTWFwYC5cclxudmFyIEtleVRyaWUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBLZXlUcmllKHdlYWtuZXNzKSB7XHJcbiAgICAgICAgdGhpcy53ZWFrbmVzcyA9IHdlYWtuZXNzO1xyXG4gICAgfVxyXG4gICAgS2V5VHJpZS5wcm90b3R5cGUubG9va3VwID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBhcnJheSA9IFtdO1xyXG4gICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgICAgIGFycmF5W19pXSA9IGFyZ3VtZW50c1tfaV07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLmxvb2t1cEFycmF5KGFycmF5KTtcclxuICAgIH07XHJcbiAgICBLZXlUcmllLnByb3RvdHlwZS5sb29rdXBBcnJheSA9IGZ1bmN0aW9uIChhcnJheSkge1xyXG4gICAgICAgIHZhciBub2RlID0gdGhpcztcclxuICAgICAgICBhcnJheS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgcmV0dXJuIG5vZGUgPSBub2RlLmdldENoaWxkVHJpZShrZXkpOyB9KTtcclxuICAgICAgICByZXR1cm4gbm9kZS5kYXRhIHx8IChub2RlLmRhdGEgPSBPYmplY3QuY3JlYXRlKG51bGwpKTtcclxuICAgIH07XHJcbiAgICBLZXlUcmllLnByb3RvdHlwZS5nZXRDaGlsZFRyaWUgPSBmdW5jdGlvbiAoa2V5KSB7XHJcbiAgICAgICAgdmFyIG1hcCA9IHRoaXMud2Vha25lc3MgJiYgaXNPYmpSZWYoa2V5KVxyXG4gICAgICAgICAgICA/IHRoaXMud2VhayB8fCAodGhpcy53ZWFrID0gbmV3IFdlYWtNYXAoKSlcclxuICAgICAgICAgICAgOiB0aGlzLnN0cm9uZyB8fCAodGhpcy5zdHJvbmcgPSBuZXcgTWFwKCkpO1xyXG4gICAgICAgIHZhciBjaGlsZCA9IG1hcC5nZXQoa2V5KTtcclxuICAgICAgICBpZiAoIWNoaWxkKVxyXG4gICAgICAgICAgICBtYXAuc2V0KGtleSwgY2hpbGQgPSBuZXcgS2V5VHJpZSh0aGlzLndlYWtuZXNzKSk7XHJcbiAgICAgICAgcmV0dXJuIGNoaWxkO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBLZXlUcmllO1xyXG59KCkpO1xyXG5mdW5jdGlvbiBpc09ialJlZih2YWx1ZSkge1xyXG4gICAgc3dpdGNoICh0eXBlb2YgdmFsdWUpIHtcclxuICAgICAgICBjYXNlIFwib2JqZWN0XCI6XHJcbiAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gbnVsbClcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIC8vIEZhbGwgdGhyb3VnaCB0byByZXR1cm4gdHJ1ZS4uLlxyXG4gICAgICAgIGNhc2UgXCJmdW5jdGlvblwiOlxyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICAgIHJldHVybiBmYWxzZTtcclxufVxuXG4vLyBUaGUgZGVmYXVsdE1ha2VDYWNoZUtleSBmdW5jdGlvbiBpcyByZW1hcmthYmx5IHBvd2VyZnVsLCBiZWNhdXNlIGl0IGdpdmVzXHJcbi8vIGEgdW5pcXVlIG9iamVjdCBmb3IgYW55IHNoYWxsb3ctaWRlbnRpY2FsIGxpc3Qgb2YgYXJndW1lbnRzLiBJZiB5b3UgbmVlZFxyXG4vLyB0byBpbXBsZW1lbnQgYSBjdXN0b20gbWFrZUNhY2hlS2V5IGZ1bmN0aW9uLCB5b3UgbWF5IGZpbmQgaXQgaGVscGZ1bCB0b1xyXG4vLyBkZWxlZ2F0ZSB0aGUgZmluYWwgd29yayB0byBkZWZhdWx0TWFrZUNhY2hlS2V5LCB3aGljaCBpcyB3aHkgd2UgZXhwb3J0IGl0XHJcbi8vIGhlcmUuIEhvd2V2ZXIsIHlvdSBtYXkgd2FudCB0byBhdm9pZCBkZWZhdWx0TWFrZUNhY2hlS2V5IGlmIHlvdXIgcnVudGltZVxyXG4vLyBkb2VzIG5vdCBzdXBwb3J0IFdlYWtNYXAsIG9yIHlvdSBoYXZlIHRoZSBhYmlsaXR5IHRvIHJldHVybiBhIHN0cmluZyBrZXkuXHJcbi8vIEluIHRob3NlIGNhc2VzLCBqdXN0IHdyaXRlIHlvdXIgb3duIGN1c3RvbSBtYWtlQ2FjaGVLZXkgZnVuY3Rpb25zLlxyXG52YXIga2V5VHJpZSA9IG5ldyBLZXlUcmllKHR5cGVvZiBXZWFrTWFwID09PSBcImZ1bmN0aW9uXCIpO1xyXG5mdW5jdGlvbiBkZWZhdWx0TWFrZUNhY2hlS2V5KCkge1xyXG4gICAgdmFyIGFyZ3MgPSBbXTtcclxuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgYXJnc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGtleVRyaWUubG9va3VwQXJyYXkoYXJncyk7XHJcbn1cclxudmFyIGNhY2hlcyA9IG5ldyBTZXQoKTtcclxuZnVuY3Rpb24gd3JhcChvcmlnaW5hbEZ1bmN0aW9uLCBvcHRpb25zKSB7XHJcbiAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpOyB9XHJcbiAgICB2YXIgY2FjaGUgPSBuZXcgQ2FjaGUob3B0aW9ucy5tYXggfHwgTWF0aC5wb3coMiwgMTYpLCBmdW5jdGlvbiAoZW50cnkpIHsgcmV0dXJuIGVudHJ5LmRpc3Bvc2UoKTsgfSk7XHJcbiAgICB2YXIgZGlzcG9zYWJsZSA9ICEhb3B0aW9ucy5kaXNwb3NhYmxlO1xyXG4gICAgdmFyIG1ha2VDYWNoZUtleSA9IG9wdGlvbnMubWFrZUNhY2hlS2V5IHx8IGRlZmF1bHRNYWtlQ2FjaGVLZXk7XHJcbiAgICBmdW5jdGlvbiBvcHRpbWlzdGljKCkge1xyXG4gICAgICAgIGlmIChkaXNwb3NhYmxlICYmICFwYXJlbnRFbnRyeVNsb3QuaGFzVmFsdWUoKSkge1xyXG4gICAgICAgICAgICAvLyBJZiB0aGVyZSdzIG5vIGN1cnJlbnQgcGFyZW50IGNvbXB1dGF0aW9uLCBhbmQgdGhpcyB3cmFwcGVkXHJcbiAgICAgICAgICAgIC8vIGZ1bmN0aW9uIGlzIGRpc3Bvc2FibGUgKG1lYW5pbmcgd2UgZG9uJ3QgY2FyZSBhYm91dCBlbnRyeS52YWx1ZSxcclxuICAgICAgICAgICAgLy8ganVzdCBkZXBlbmRlbmN5IHRyYWNraW5nKSwgdGhlbiB3ZSBjYW4gc2hvcnQtY3V0IGV2ZXJ5dGhpbmcgZWxzZVxyXG4gICAgICAgICAgICAvLyBpbiB0aGlzIGZ1bmN0aW9uLCBiZWNhdXNlIGVudHJ5LnJlY29tcHV0ZSgpIGlzIGdvaW5nIHRvIHJlY3ljbGVcclxuICAgICAgICAgICAgLy8gdGhlIGVudHJ5IG9iamVjdCB3aXRob3V0IHJlY29tcHV0aW5nIGFueXRoaW5nLCBhbnl3YXkuXHJcbiAgICAgICAgICAgIHJldHVybiB2b2lkIDA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBrZXkgPSBtYWtlQ2FjaGVLZXkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcclxuICAgICAgICBpZiAoa2V5ID09PSB2b2lkIDApIHtcclxuICAgICAgICAgICAgcmV0dXJuIG9yaWdpbmFsRnVuY3Rpb24uYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpO1xyXG4gICAgICAgIHZhciBlbnRyeSA9IGNhY2hlLmdldChrZXkpO1xyXG4gICAgICAgIGlmIChlbnRyeSkge1xyXG4gICAgICAgICAgICBlbnRyeS5hcmdzID0gYXJncztcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGVudHJ5ID0gbmV3IEVudHJ5KG9yaWdpbmFsRnVuY3Rpb24sIGFyZ3MpO1xyXG4gICAgICAgICAgICBjYWNoZS5zZXQoa2V5LCBlbnRyeSk7XHJcbiAgICAgICAgICAgIGVudHJ5LnN1YnNjcmliZSA9IG9wdGlvbnMuc3Vic2NyaWJlO1xyXG4gICAgICAgICAgICBpZiAoZGlzcG9zYWJsZSkge1xyXG4gICAgICAgICAgICAgICAgZW50cnkucmVwb3J0T3JwaGFuID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gY2FjaGUuZGVsZXRlKGtleSk7IH07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIHZhbHVlID0gZW50cnkucmVjb21wdXRlKCk7XHJcbiAgICAgICAgLy8gTW92ZSB0aGlzIGVudHJ5IHRvIHRoZSBmcm9udCBvZiB0aGUgbGVhc3QtcmVjZW50bHkgdXNlZCBxdWV1ZSxcclxuICAgICAgICAvLyBzaW5jZSB3ZSBqdXN0IGZpbmlzaGVkIGNvbXB1dGluZyBpdHMgdmFsdWUuXHJcbiAgICAgICAgY2FjaGUuc2V0KGtleSwgZW50cnkpO1xyXG4gICAgICAgIGNhY2hlcy5hZGQoY2FjaGUpO1xyXG4gICAgICAgIC8vIENsZWFuIHVwIGFueSBleGNlc3MgZW50cmllcyBpbiB0aGUgY2FjaGUsIGJ1dCBvbmx5IGlmIHRoZXJlIGlzIG5vXHJcbiAgICAgICAgLy8gYWN0aXZlIHBhcmVudCBlbnRyeSwgbWVhbmluZyB3ZSdyZSBub3QgaW4gdGhlIG1pZGRsZSBvZiBhIGxhcmdlclxyXG4gICAgICAgIC8vIGNvbXB1dGF0aW9uIHRoYXQgbWlnaHQgYmUgZmx1bW1veGVkIGJ5IHRoZSBjbGVhbmluZy5cclxuICAgICAgICBpZiAoIXBhcmVudEVudHJ5U2xvdC5oYXNWYWx1ZSgpKSB7XHJcbiAgICAgICAgICAgIGNhY2hlcy5mb3JFYWNoKGZ1bmN0aW9uIChjYWNoZSkgeyByZXR1cm4gY2FjaGUuY2xlYW4oKTsgfSk7XHJcbiAgICAgICAgICAgIGNhY2hlcy5jbGVhcigpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBJZiBvcHRpb25zLmRpc3Bvc2FibGUgaXMgdHJ1dGh5LCB0aGUgY2FsbGVyIG9mIHdyYXAgaXMgdGVsbGluZyB1c1xyXG4gICAgICAgIC8vIHRoZXkgZG9uJ3QgY2FyZSBhYm91dCB0aGUgcmVzdWx0IG9mIGVudHJ5LnJlY29tcHV0ZSgpLCBzbyB3ZSBzaG91bGRcclxuICAgICAgICAvLyBhdm9pZCByZXR1cm5pbmcgdGhlIHZhbHVlLCBzbyBpdCB3b24ndCBiZSBhY2NpZGVudGFsbHkgdXNlZC5cclxuICAgICAgICByZXR1cm4gZGlzcG9zYWJsZSA/IHZvaWQgMCA6IHZhbHVlO1xyXG4gICAgfVxyXG4gICAgb3B0aW1pc3RpYy5kaXJ0eSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIga2V5ID0gbWFrZUNhY2hlS2V5LmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XHJcbiAgICAgICAgdmFyIGNoaWxkID0ga2V5ICE9PSB2b2lkIDAgJiYgY2FjaGUuZ2V0KGtleSk7XHJcbiAgICAgICAgaWYgKGNoaWxkKSB7XHJcbiAgICAgICAgICAgIGNoaWxkLnNldERpcnR5KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHJldHVybiBvcHRpbWlzdGljO1xyXG59XG5cbmV4cG9ydCB7IEtleVRyaWUsIGRlZmF1bHRNYWtlQ2FjaGVLZXksIHdyYXAgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJ1bmRsZS5lc20uanMubWFwXG4iLCJtb2R1bGUuZXhwb3J0cyA9IHsgXCJkZWZhdWx0XCI6IHJlcXVpcmUoXCJjb3JlLWpzL2xpYnJhcnkvZm4vZ2V0LWl0ZXJhdG9yXCIpLCBfX2VzTW9kdWxlOiB0cnVlIH07IiwiKGZ1bmN0aW9uIChnbG9iYWwsIHVuZGVmaW5lZCkge1xuICAgIFwidXNlIHN0cmljdFwiO1xuXG4gICAgaWYgKGdsb2JhbC5zZXRJbW1lZGlhdGUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBuZXh0SGFuZGxlID0gMTsgLy8gU3BlYyBzYXlzIGdyZWF0ZXIgdGhhbiB6ZXJvXG4gICAgdmFyIHRhc2tzQnlIYW5kbGUgPSB7fTtcbiAgICB2YXIgY3VycmVudGx5UnVubmluZ0FUYXNrID0gZmFsc2U7XG4gICAgdmFyIGRvYyA9IGdsb2JhbC5kb2N1bWVudDtcbiAgICB2YXIgcmVnaXN0ZXJJbW1lZGlhdGU7XG5cbiAgICBmdW5jdGlvbiBzZXRJbW1lZGlhdGUoY2FsbGJhY2spIHtcbiAgICAgIC8vIENhbGxiYWNrIGNhbiBlaXRoZXIgYmUgYSBmdW5jdGlvbiBvciBhIHN0cmluZ1xuICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayAhPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIGNhbGxiYWNrID0gbmV3IEZ1bmN0aW9uKFwiXCIgKyBjYWxsYmFjayk7XG4gICAgICB9XG4gICAgICAvLyBDb3B5IGZ1bmN0aW9uIGFyZ3VtZW50c1xuICAgICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCAtIDEpO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmdzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgYXJnc1tpXSA9IGFyZ3VtZW50c1tpICsgMV07XG4gICAgICB9XG4gICAgICAvLyBTdG9yZSBhbmQgcmVnaXN0ZXIgdGhlIHRhc2tcbiAgICAgIHZhciB0YXNrID0geyBjYWxsYmFjazogY2FsbGJhY2ssIGFyZ3M6IGFyZ3MgfTtcbiAgICAgIHRhc2tzQnlIYW5kbGVbbmV4dEhhbmRsZV0gPSB0YXNrO1xuICAgICAgcmVnaXN0ZXJJbW1lZGlhdGUobmV4dEhhbmRsZSk7XG4gICAgICByZXR1cm4gbmV4dEhhbmRsZSsrO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNsZWFySW1tZWRpYXRlKGhhbmRsZSkge1xuICAgICAgICBkZWxldGUgdGFza3NCeUhhbmRsZVtoYW5kbGVdO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJ1bih0YXNrKSB7XG4gICAgICAgIHZhciBjYWxsYmFjayA9IHRhc2suY2FsbGJhY2s7XG4gICAgICAgIHZhciBhcmdzID0gdGFzay5hcmdzO1xuICAgICAgICBzd2l0Y2ggKGFyZ3MubGVuZ3RoKSB7XG4gICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgY2FsbGJhY2soYXJnc1swXSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgY2FsbGJhY2soYXJnc1swXSwgYXJnc1sxXSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgY2FsbGJhY2soYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNhbGxiYWNrLmFwcGx5KHVuZGVmaW5lZCwgYXJncyk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJ1bklmUHJlc2VudChoYW5kbGUpIHtcbiAgICAgICAgLy8gRnJvbSB0aGUgc3BlYzogXCJXYWl0IHVudGlsIGFueSBpbnZvY2F0aW9ucyBvZiB0aGlzIGFsZ29yaXRobSBzdGFydGVkIGJlZm9yZSB0aGlzIG9uZSBoYXZlIGNvbXBsZXRlZC5cIlxuICAgICAgICAvLyBTbyBpZiB3ZSdyZSBjdXJyZW50bHkgcnVubmluZyBhIHRhc2ssIHdlJ2xsIG5lZWQgdG8gZGVsYXkgdGhpcyBpbnZvY2F0aW9uLlxuICAgICAgICBpZiAoY3VycmVudGx5UnVubmluZ0FUYXNrKSB7XG4gICAgICAgICAgICAvLyBEZWxheSBieSBkb2luZyBhIHNldFRpbWVvdXQuIHNldEltbWVkaWF0ZSB3YXMgdHJpZWQgaW5zdGVhZCwgYnV0IGluIEZpcmVmb3ggNyBpdCBnZW5lcmF0ZWQgYVxuICAgICAgICAgICAgLy8gXCJ0b28gbXVjaCByZWN1cnNpb25cIiBlcnJvci5cbiAgICAgICAgICAgIHNldFRpbWVvdXQocnVuSWZQcmVzZW50LCAwLCBoYW5kbGUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIHRhc2sgPSB0YXNrc0J5SGFuZGxlW2hhbmRsZV07XG4gICAgICAgICAgICBpZiAodGFzaykge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRseVJ1bm5pbmdBVGFzayA9IHRydWU7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgcnVuKHRhc2spO1xuICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgIGNsZWFySW1tZWRpYXRlKGhhbmRsZSk7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRseVJ1bm5pbmdBVGFzayA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGluc3RhbGxOZXh0VGlja0ltcGxlbWVudGF0aW9uKCkge1xuICAgICAgICByZWdpc3RlckltbWVkaWF0ZSA9IGZ1bmN0aW9uKGhhbmRsZSkge1xuICAgICAgICAgICAgcHJvY2Vzcy5uZXh0VGljayhmdW5jdGlvbiAoKSB7IHJ1bklmUHJlc2VudChoYW5kbGUpOyB9KTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjYW5Vc2VQb3N0TWVzc2FnZSgpIHtcbiAgICAgICAgLy8gVGhlIHRlc3QgYWdhaW5zdCBgaW1wb3J0U2NyaXB0c2AgcHJldmVudHMgdGhpcyBpbXBsZW1lbnRhdGlvbiBmcm9tIGJlaW5nIGluc3RhbGxlZCBpbnNpZGUgYSB3ZWIgd29ya2VyLFxuICAgICAgICAvLyB3aGVyZSBgZ2xvYmFsLnBvc3RNZXNzYWdlYCBtZWFucyBzb21ldGhpbmcgY29tcGxldGVseSBkaWZmZXJlbnQgYW5kIGNhbid0IGJlIHVzZWQgZm9yIHRoaXMgcHVycG9zZS5cbiAgICAgICAgaWYgKGdsb2JhbC5wb3N0TWVzc2FnZSAmJiAhZ2xvYmFsLmltcG9ydFNjcmlwdHMpIHtcbiAgICAgICAgICAgIHZhciBwb3N0TWVzc2FnZUlzQXN5bmNocm9ub3VzID0gdHJ1ZTtcbiAgICAgICAgICAgIHZhciBvbGRPbk1lc3NhZ2UgPSBnbG9iYWwub25tZXNzYWdlO1xuICAgICAgICAgICAgZ2xvYmFsLm9ubWVzc2FnZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHBvc3RNZXNzYWdlSXNBc3luY2hyb25vdXMgPSBmYWxzZTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBnbG9iYWwucG9zdE1lc3NhZ2UoXCJcIiwgXCIqXCIpO1xuICAgICAgICAgICAgZ2xvYmFsLm9ubWVzc2FnZSA9IG9sZE9uTWVzc2FnZTtcbiAgICAgICAgICAgIHJldHVybiBwb3N0TWVzc2FnZUlzQXN5bmNocm9ub3VzO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaW5zdGFsbFBvc3RNZXNzYWdlSW1wbGVtZW50YXRpb24oKSB7XG4gICAgICAgIC8vIEluc3RhbGxzIGFuIGV2ZW50IGhhbmRsZXIgb24gYGdsb2JhbGAgZm9yIHRoZSBgbWVzc2FnZWAgZXZlbnQ6IHNlZVxuICAgICAgICAvLyAqIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL0RPTS93aW5kb3cucG9zdE1lc3NhZ2VcbiAgICAgICAgLy8gKiBodHRwOi8vd3d3LndoYXR3Zy5vcmcvc3BlY3Mvd2ViLWFwcHMvY3VycmVudC13b3JrL211bHRpcGFnZS9jb21tcy5odG1sI2Nyb3NzRG9jdW1lbnRNZXNzYWdlc1xuXG4gICAgICAgIHZhciBtZXNzYWdlUHJlZml4ID0gXCJzZXRJbW1lZGlhdGUkXCIgKyBNYXRoLnJhbmRvbSgpICsgXCIkXCI7XG4gICAgICAgIHZhciBvbkdsb2JhbE1lc3NhZ2UgPSBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgaWYgKGV2ZW50LnNvdXJjZSA9PT0gZ2xvYmFsICYmXG4gICAgICAgICAgICAgICAgdHlwZW9mIGV2ZW50LmRhdGEgPT09IFwic3RyaW5nXCIgJiZcbiAgICAgICAgICAgICAgICBldmVudC5kYXRhLmluZGV4T2YobWVzc2FnZVByZWZpeCkgPT09IDApIHtcbiAgICAgICAgICAgICAgICBydW5JZlByZXNlbnQoK2V2ZW50LmRhdGEuc2xpY2UobWVzc2FnZVByZWZpeC5sZW5ndGgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBpZiAoZ2xvYmFsLmFkZEV2ZW50TGlzdGVuZXIpIHtcbiAgICAgICAgICAgIGdsb2JhbC5hZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLCBvbkdsb2JhbE1lc3NhZ2UsIGZhbHNlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGdsb2JhbC5hdHRhY2hFdmVudChcIm9ubWVzc2FnZVwiLCBvbkdsb2JhbE1lc3NhZ2UpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmVnaXN0ZXJJbW1lZGlhdGUgPSBmdW5jdGlvbihoYW5kbGUpIHtcbiAgICAgICAgICAgIGdsb2JhbC5wb3N0TWVzc2FnZShtZXNzYWdlUHJlZml4ICsgaGFuZGxlLCBcIipcIik7XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaW5zdGFsbE1lc3NhZ2VDaGFubmVsSW1wbGVtZW50YXRpb24oKSB7XG4gICAgICAgIHZhciBjaGFubmVsID0gbmV3IE1lc3NhZ2VDaGFubmVsKCk7XG4gICAgICAgIGNoYW5uZWwucG9ydDEub25tZXNzYWdlID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgIHZhciBoYW5kbGUgPSBldmVudC5kYXRhO1xuICAgICAgICAgICAgcnVuSWZQcmVzZW50KGhhbmRsZSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgcmVnaXN0ZXJJbW1lZGlhdGUgPSBmdW5jdGlvbihoYW5kbGUpIHtcbiAgICAgICAgICAgIGNoYW5uZWwucG9ydDIucG9zdE1lc3NhZ2UoaGFuZGxlKTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpbnN0YWxsUmVhZHlTdGF0ZUNoYW5nZUltcGxlbWVudGF0aW9uKCkge1xuICAgICAgICB2YXIgaHRtbCA9IGRvYy5kb2N1bWVudEVsZW1lbnQ7XG4gICAgICAgIHJlZ2lzdGVySW1tZWRpYXRlID0gZnVuY3Rpb24oaGFuZGxlKSB7XG4gICAgICAgICAgICAvLyBDcmVhdGUgYSA8c2NyaXB0PiBlbGVtZW50OyBpdHMgcmVhZHlzdGF0ZWNoYW5nZSBldmVudCB3aWxsIGJlIGZpcmVkIGFzeW5jaHJvbm91c2x5IG9uY2UgaXQgaXMgaW5zZXJ0ZWRcbiAgICAgICAgICAgIC8vIGludG8gdGhlIGRvY3VtZW50LiBEbyBzbywgdGh1cyBxdWV1aW5nIHVwIHRoZSB0YXNrLiBSZW1lbWJlciB0byBjbGVhbiB1cCBvbmNlIGl0J3MgYmVlbiBjYWxsZWQuXG4gICAgICAgICAgICB2YXIgc2NyaXB0ID0gZG9jLmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIik7XG4gICAgICAgICAgICBzY3JpcHQub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJ1bklmUHJlc2VudChoYW5kbGUpO1xuICAgICAgICAgICAgICAgIHNjcmlwdC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBudWxsO1xuICAgICAgICAgICAgICAgIGh0bWwucmVtb3ZlQ2hpbGQoc2NyaXB0KTtcbiAgICAgICAgICAgICAgICBzY3JpcHQgPSBudWxsO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGh0bWwuYXBwZW5kQ2hpbGQoc2NyaXB0KTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpbnN0YWxsU2V0VGltZW91dEltcGxlbWVudGF0aW9uKCkge1xuICAgICAgICByZWdpc3RlckltbWVkaWF0ZSA9IGZ1bmN0aW9uKGhhbmRsZSkge1xuICAgICAgICAgICAgc2V0VGltZW91dChydW5JZlByZXNlbnQsIDAsIGhhbmRsZSk7XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgLy8gSWYgc3VwcG9ydGVkLCB3ZSBzaG91bGQgYXR0YWNoIHRvIHRoZSBwcm90b3R5cGUgb2YgZ2xvYmFsLCBzaW5jZSB0aGF0IGlzIHdoZXJlIHNldFRpbWVvdXQgZXQgYWwuIGxpdmUuXG4gICAgdmFyIGF0dGFjaFRvID0gT2JqZWN0LmdldFByb3RvdHlwZU9mICYmIE9iamVjdC5nZXRQcm90b3R5cGVPZihnbG9iYWwpO1xuICAgIGF0dGFjaFRvID0gYXR0YWNoVG8gJiYgYXR0YWNoVG8uc2V0VGltZW91dCA/IGF0dGFjaFRvIDogZ2xvYmFsO1xuXG4gICAgLy8gRG9uJ3QgZ2V0IGZvb2xlZCBieSBlLmcuIGJyb3dzZXJpZnkgZW52aXJvbm1lbnRzLlxuICAgIGlmICh7fS50b1N0cmluZy5jYWxsKGdsb2JhbC5wcm9jZXNzKSA9PT0gXCJbb2JqZWN0IHByb2Nlc3NdXCIpIHtcbiAgICAgICAgLy8gRm9yIE5vZGUuanMgYmVmb3JlIDAuOVxuICAgICAgICBpbnN0YWxsTmV4dFRpY2tJbXBsZW1lbnRhdGlvbigpO1xuXG4gICAgfSBlbHNlIGlmIChjYW5Vc2VQb3N0TWVzc2FnZSgpKSB7XG4gICAgICAgIC8vIEZvciBub24tSUUxMCBtb2Rlcm4gYnJvd3NlcnNcbiAgICAgICAgaW5zdGFsbFBvc3RNZXNzYWdlSW1wbGVtZW50YXRpb24oKTtcblxuICAgIH0gZWxzZSBpZiAoZ2xvYmFsLk1lc3NhZ2VDaGFubmVsKSB7XG4gICAgICAgIC8vIEZvciB3ZWIgd29ya2Vycywgd2hlcmUgc3VwcG9ydGVkXG4gICAgICAgIGluc3RhbGxNZXNzYWdlQ2hhbm5lbEltcGxlbWVudGF0aW9uKCk7XG5cbiAgICB9IGVsc2UgaWYgKGRvYyAmJiBcIm9ucmVhZHlzdGF0ZWNoYW5nZVwiIGluIGRvYy5jcmVhdGVFbGVtZW50KFwic2NyaXB0XCIpKSB7XG4gICAgICAgIC8vIEZvciBJRSA24oCTOFxuICAgICAgICBpbnN0YWxsUmVhZHlTdGF0ZUNoYW5nZUltcGxlbWVudGF0aW9uKCk7XG5cbiAgICB9IGVsc2Uge1xuICAgICAgICAvLyBGb3Igb2xkZXIgYnJvd3NlcnNcbiAgICAgICAgaW5zdGFsbFNldFRpbWVvdXRJbXBsZW1lbnRhdGlvbigpO1xuICAgIH1cblxuICAgIGF0dGFjaFRvLnNldEltbWVkaWF0ZSA9IHNldEltbWVkaWF0ZTtcbiAgICBhdHRhY2hUby5jbGVhckltbWVkaWF0ZSA9IGNsZWFySW1tZWRpYXRlO1xufSh0eXBlb2Ygc2VsZiA9PT0gXCJ1bmRlZmluZWRcIiA/IHR5cGVvZiBnbG9iYWwgPT09IFwidW5kZWZpbmVkXCIgPyB0aGlzIDogZ2xvYmFsIDogc2VsZikpO1xuIiwiLyoqXG4gKiAyMDA3LTIwMjAgUHJlc3RhU2hvcCBhbmQgQ29udHJpYnV0b3JzXG4gKlxuICogTk9USUNFIE9GIExJQ0VOU0VcbiAqXG4gKiBUaGlzIHNvdXJjZSBmaWxlIGlzIHN1YmplY3QgdG8gdGhlIEFjYWRlbWljIEZyZWUgTGljZW5zZSAzLjAgKEFGTC0zLjApXG4gKiB0aGF0IGlzIGJ1bmRsZWQgd2l0aCB0aGlzIHBhY2thZ2UgaW4gdGhlIGZpbGUgTElDRU5TRS50eHQuXG4gKiBJdCBpcyBhbHNvIGF2YWlsYWJsZSB0aHJvdWdoIHRoZSB3b3JsZC13aWRlLXdlYiBhdCB0aGlzIFVSTDpcbiAqIGh0dHBzOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvQUZMLTMuMFxuICogSWYgeW91IGRpZCBub3QgcmVjZWl2ZSBhIGNvcHkgb2YgdGhlIGxpY2Vuc2UgYW5kIGFyZSB1bmFibGUgdG9cbiAqIG9idGFpbiBpdCB0aHJvdWdoIHRoZSB3b3JsZC13aWRlLXdlYiwgcGxlYXNlIHNlbmQgYW4gZW1haWxcbiAqIHRvIGxpY2Vuc2VAcHJlc3Rhc2hvcC5jb20gc28gd2UgY2FuIHNlbmQgeW91IGEgY29weSBpbW1lZGlhdGVseS5cbiAqXG4gKiBAYXV0aG9yICAgIFByZXN0YVNob3AgU0EgPGNvbnRhY3RAcHJlc3Rhc2hvcC5jb20+XG4gKiBAY29weXJpZ2h0IDIwMDctMjAyMCBQcmVzdGFTaG9wIFNBIGFuZCBDb250cmlidXRvcnNcbiAqIEBsaWNlbnNlICAgaHR0cHM6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9BRkwtMy4wIEFjYWRlbWljIEZyZWUgTGljZW5zZSAzLjAgKEFGTC0zLjApXG4gKiBJbnRlcm5hdGlvbmFsIFJlZ2lzdGVyZWQgVHJhZGVtYXJrICYgUHJvcGVydHkgb2YgUHJlc3RhU2hvcCBTQVxuICovXG5cbmltcG9ydCB7QXBvbGxvQ2xpZW50fSBmcm9tICdhcG9sbG8tY2xpZW50JztcbmltcG9ydCB7U2NoZW1hTGlua30gZnJvbSAnYXBvbGxvLWxpbmstc2NoZW1hJztcbmltcG9ydCB7SW5NZW1vcnlDYWNoZX0gZnJvbSAnYXBvbGxvLWNhY2hlLWlubWVtb3J5JztcbmltcG9ydCBsaW5rIGZyb20gJy4vbGluayc7XG5cbi8qKlxuICogRW5hYmxpbmcgY2xpZW50IHNpZGUgY2FjaGVcbiAqL1xuY29uc3QgY2FjaGUgPSBuZXcgSW5NZW1vcnlDYWNoZSgpO1xuXG4vKipcbiAqIENyZWF0aW5nIHRoZSBBcG9sbG9DbGllbnQgbWFuYWdpbmcgY2FjaGUgYW5kIHNjaGVtYXNcbiAqL1xuZXhwb3J0IGRlZmF1bHQgbmV3IEFwb2xsb0NsaWVudCh7XG4gIGxpbms6IG5ldyBTY2hlbWFMaW5rKHtzY2hlbWE6IGxpbmt9KSxcbiAgY2FjaGUsXG59KTtcbiIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24ob3JpZ2luYWxNb2R1bGUpIHtcblx0aWYgKCFvcmlnaW5hbE1vZHVsZS53ZWJwYWNrUG9seWZpbGwpIHtcblx0XHR2YXIgbW9kdWxlID0gT2JqZWN0LmNyZWF0ZShvcmlnaW5hbE1vZHVsZSk7XG5cdFx0Ly8gbW9kdWxlLnBhcmVudCA9IHVuZGVmaW5lZCBieSBkZWZhdWx0XG5cdFx0aWYgKCFtb2R1bGUuY2hpbGRyZW4pIG1vZHVsZS5jaGlsZHJlbiA9IFtdO1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShtb2R1bGUsIFwibG9hZGVkXCIsIHtcblx0XHRcdGVudW1lcmFibGU6IHRydWUsXG5cdFx0XHRnZXQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRyZXR1cm4gbW9kdWxlLmw7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG1vZHVsZSwgXCJpZFwiLCB7XG5cdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuXHRcdFx0Z2V0OiBmdW5jdGlvbigpIHtcblx0XHRcdFx0cmV0dXJuIG1vZHVsZS5pO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShtb2R1bGUsIFwiZXhwb3J0c1wiLCB7XG5cdFx0XHRlbnVtZXJhYmxlOiB0cnVlXG5cdFx0fSk7XG5cdFx0bW9kdWxlLndlYnBhY2tQb2x5ZmlsbCA9IDE7XG5cdH1cblx0cmV0dXJuIG1vZHVsZTtcbn07XG4iLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuT2JzZXJ2YWJsZSA9IHZvaWQgMDtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG4vLyA9PT0gU3ltYm9sIFN1cHBvcnQgPT09XG52YXIgaGFzU3ltYm9scyA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIHR5cGVvZiBTeW1ib2wgPT09ICdmdW5jdGlvbic7XG59O1xuXG52YXIgaGFzU3ltYm9sID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgcmV0dXJuIGhhc1N5bWJvbHMoKSAmJiBCb29sZWFuKFN5bWJvbFtuYW1lXSk7XG59O1xuXG52YXIgZ2V0U3ltYm9sID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgcmV0dXJuIGhhc1N5bWJvbChuYW1lKSA/IFN5bWJvbFtuYW1lXSA6ICdAQCcgKyBuYW1lO1xufTtcblxuaWYgKGhhc1N5bWJvbHMoKSAmJiAhaGFzU3ltYm9sKCdvYnNlcnZhYmxlJykpIHtcbiAgU3ltYm9sLm9ic2VydmFibGUgPSBTeW1ib2woJ29ic2VydmFibGUnKTtcbn1cblxudmFyIFN5bWJvbEl0ZXJhdG9yID0gZ2V0U3ltYm9sKCdpdGVyYXRvcicpO1xudmFyIFN5bWJvbE9ic2VydmFibGUgPSBnZXRTeW1ib2woJ29ic2VydmFibGUnKTtcbnZhciBTeW1ib2xTcGVjaWVzID0gZ2V0U3ltYm9sKCdzcGVjaWVzJyk7IC8vID09PSBBYnN0cmFjdCBPcGVyYXRpb25zID09PVxuXG5mdW5jdGlvbiBnZXRNZXRob2Qob2JqLCBrZXkpIHtcbiAgdmFyIHZhbHVlID0gb2JqW2tleV07XG4gIGlmICh2YWx1ZSA9PSBudWxsKSByZXR1cm4gdW5kZWZpbmVkO1xuICBpZiAodHlwZW9mIHZhbHVlICE9PSAnZnVuY3Rpb24nKSB0aHJvdyBuZXcgVHlwZUVycm9yKHZhbHVlICsgJyBpcyBub3QgYSBmdW5jdGlvbicpO1xuICByZXR1cm4gdmFsdWU7XG59XG5cbmZ1bmN0aW9uIGdldFNwZWNpZXMob2JqKSB7XG4gIHZhciBjdG9yID0gb2JqLmNvbnN0cnVjdG9yO1xuXG4gIGlmIChjdG9yICE9PSB1bmRlZmluZWQpIHtcbiAgICBjdG9yID0gY3RvcltTeW1ib2xTcGVjaWVzXTtcblxuICAgIGlmIChjdG9yID09PSBudWxsKSB7XG4gICAgICBjdG9yID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBjdG9yICE9PSB1bmRlZmluZWQgPyBjdG9yIDogT2JzZXJ2YWJsZTtcbn1cblxuZnVuY3Rpb24gaXNPYnNlcnZhYmxlKHgpIHtcbiAgcmV0dXJuIHggaW5zdGFuY2VvZiBPYnNlcnZhYmxlOyAvLyBTUEVDOiBCcmFuZCBjaGVja1xufVxuXG5mdW5jdGlvbiBob3N0UmVwb3J0RXJyb3IoZSkge1xuICBpZiAoaG9zdFJlcG9ydEVycm9yLmxvZykge1xuICAgIGhvc3RSZXBvcnRFcnJvci5sb2coZSk7XG4gIH0gZWxzZSB7XG4gICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICB0aHJvdyBlO1xuICAgIH0pO1xuICB9XG59XG5cbmZ1bmN0aW9uIGVucXVldWUoZm4pIHtcbiAgUHJvbWlzZS5yZXNvbHZlKCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgdHJ5IHtcbiAgICAgIGZuKCk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgaG9zdFJlcG9ydEVycm9yKGUpO1xuICAgIH1cbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGNsZWFudXBTdWJzY3JpcHRpb24oc3Vic2NyaXB0aW9uKSB7XG4gIHZhciBjbGVhbnVwID0gc3Vic2NyaXB0aW9uLl9jbGVhbnVwO1xuICBpZiAoY2xlYW51cCA9PT0gdW5kZWZpbmVkKSByZXR1cm47XG4gIHN1YnNjcmlwdGlvbi5fY2xlYW51cCA9IHVuZGVmaW5lZDtcblxuICBpZiAoIWNsZWFudXApIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB0cnkge1xuICAgIGlmICh0eXBlb2YgY2xlYW51cCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgY2xlYW51cCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgdW5zdWJzY3JpYmUgPSBnZXRNZXRob2QoY2xlYW51cCwgJ3Vuc3Vic2NyaWJlJyk7XG5cbiAgICAgIGlmICh1bnN1YnNjcmliZSkge1xuICAgICAgICB1bnN1YnNjcmliZS5jYWxsKGNsZWFudXApO1xuICAgICAgfVxuICAgIH1cbiAgfSBjYXRjaCAoZSkge1xuICAgIGhvc3RSZXBvcnRFcnJvcihlKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBjbG9zZVN1YnNjcmlwdGlvbihzdWJzY3JpcHRpb24pIHtcbiAgc3Vic2NyaXB0aW9uLl9vYnNlcnZlciA9IHVuZGVmaW5lZDtcbiAgc3Vic2NyaXB0aW9uLl9xdWV1ZSA9IHVuZGVmaW5lZDtcbiAgc3Vic2NyaXB0aW9uLl9zdGF0ZSA9ICdjbG9zZWQnO1xufVxuXG5mdW5jdGlvbiBmbHVzaFN1YnNjcmlwdGlvbihzdWJzY3JpcHRpb24pIHtcbiAgdmFyIHF1ZXVlID0gc3Vic2NyaXB0aW9uLl9xdWV1ZTtcblxuICBpZiAoIXF1ZXVlKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgc3Vic2NyaXB0aW9uLl9xdWV1ZSA9IHVuZGVmaW5lZDtcbiAgc3Vic2NyaXB0aW9uLl9zdGF0ZSA9ICdyZWFkeSc7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBxdWV1ZS5sZW5ndGg7ICsraSkge1xuICAgIG5vdGlmeVN1YnNjcmlwdGlvbihzdWJzY3JpcHRpb24sIHF1ZXVlW2ldLnR5cGUsIHF1ZXVlW2ldLnZhbHVlKTtcbiAgICBpZiAoc3Vic2NyaXB0aW9uLl9zdGF0ZSA9PT0gJ2Nsb3NlZCcpIGJyZWFrO1xuICB9XG59XG5cbmZ1bmN0aW9uIG5vdGlmeVN1YnNjcmlwdGlvbihzdWJzY3JpcHRpb24sIHR5cGUsIHZhbHVlKSB7XG4gIHN1YnNjcmlwdGlvbi5fc3RhdGUgPSAncnVubmluZyc7XG4gIHZhciBvYnNlcnZlciA9IHN1YnNjcmlwdGlvbi5fb2JzZXJ2ZXI7XG5cbiAgdHJ5IHtcbiAgICB2YXIgbSA9IGdldE1ldGhvZChvYnNlcnZlciwgdHlwZSk7XG5cbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgIGNhc2UgJ25leHQnOlxuICAgICAgICBpZiAobSkgbS5jYWxsKG9ic2VydmVyLCB2YWx1ZSk7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlICdlcnJvcic6XG4gICAgICAgIGNsb3NlU3Vic2NyaXB0aW9uKHN1YnNjcmlwdGlvbik7XG4gICAgICAgIGlmIChtKSBtLmNhbGwob2JzZXJ2ZXIsIHZhbHVlKTtlbHNlIHRocm93IHZhbHVlO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAnY29tcGxldGUnOlxuICAgICAgICBjbG9zZVN1YnNjcmlwdGlvbihzdWJzY3JpcHRpb24pO1xuICAgICAgICBpZiAobSkgbS5jYWxsKG9ic2VydmVyKTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9IGNhdGNoIChlKSB7XG4gICAgaG9zdFJlcG9ydEVycm9yKGUpO1xuICB9XG5cbiAgaWYgKHN1YnNjcmlwdGlvbi5fc3RhdGUgPT09ICdjbG9zZWQnKSBjbGVhbnVwU3Vic2NyaXB0aW9uKHN1YnNjcmlwdGlvbik7ZWxzZSBpZiAoc3Vic2NyaXB0aW9uLl9zdGF0ZSA9PT0gJ3J1bm5pbmcnKSBzdWJzY3JpcHRpb24uX3N0YXRlID0gJ3JlYWR5Jztcbn1cblxuZnVuY3Rpb24gb25Ob3RpZnkoc3Vic2NyaXB0aW9uLCB0eXBlLCB2YWx1ZSkge1xuICBpZiAoc3Vic2NyaXB0aW9uLl9zdGF0ZSA9PT0gJ2Nsb3NlZCcpIHJldHVybjtcblxuICBpZiAoc3Vic2NyaXB0aW9uLl9zdGF0ZSA9PT0gJ2J1ZmZlcmluZycpIHtcbiAgICBzdWJzY3JpcHRpb24uX3F1ZXVlLnB1c2goe1xuICAgICAgdHlwZTogdHlwZSxcbiAgICAgIHZhbHVlOiB2YWx1ZVxuICAgIH0pO1xuXG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKHN1YnNjcmlwdGlvbi5fc3RhdGUgIT09ICdyZWFkeScpIHtcbiAgICBzdWJzY3JpcHRpb24uX3N0YXRlID0gJ2J1ZmZlcmluZyc7XG4gICAgc3Vic2NyaXB0aW9uLl9xdWV1ZSA9IFt7XG4gICAgICB0eXBlOiB0eXBlLFxuICAgICAgdmFsdWU6IHZhbHVlXG4gICAgfV07XG4gICAgZW5xdWV1ZShmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gZmx1c2hTdWJzY3JpcHRpb24oc3Vic2NyaXB0aW9uKTtcbiAgICB9KTtcbiAgICByZXR1cm47XG4gIH1cblxuICBub3RpZnlTdWJzY3JpcHRpb24oc3Vic2NyaXB0aW9uLCB0eXBlLCB2YWx1ZSk7XG59XG5cbnZhciBTdWJzY3JpcHRpb24gPVxuLyojX19QVVJFX18qL1xuZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBTdWJzY3JpcHRpb24ob2JzZXJ2ZXIsIHN1YnNjcmliZXIpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgU3Vic2NyaXB0aW9uKTtcblxuICAgIC8vIEFTU0VSVDogb2JzZXJ2ZXIgaXMgYW4gb2JqZWN0XG4gICAgLy8gQVNTRVJUOiBzdWJzY3JpYmVyIGlzIGNhbGxhYmxlXG4gICAgdGhpcy5fY2xlYW51cCA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLl9vYnNlcnZlciA9IG9ic2VydmVyO1xuICAgIHRoaXMuX3F1ZXVlID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuX3N0YXRlID0gJ2luaXRpYWxpemluZyc7XG4gICAgdmFyIHN1YnNjcmlwdGlvbk9ic2VydmVyID0gbmV3IFN1YnNjcmlwdGlvbk9ic2VydmVyKHRoaXMpO1xuXG4gICAgdHJ5IHtcbiAgICAgIHRoaXMuX2NsZWFudXAgPSBzdWJzY3JpYmVyLmNhbGwodW5kZWZpbmVkLCBzdWJzY3JpcHRpb25PYnNlcnZlcik7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgc3Vic2NyaXB0aW9uT2JzZXJ2ZXIuZXJyb3IoZSk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuX3N0YXRlID09PSAnaW5pdGlhbGl6aW5nJykgdGhpcy5fc3RhdGUgPSAncmVhZHknO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKFN1YnNjcmlwdGlvbiwgW3tcbiAgICBrZXk6IFwidW5zdWJzY3JpYmVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gdW5zdWJzY3JpYmUoKSB7XG4gICAgICBpZiAodGhpcy5fc3RhdGUgIT09ICdjbG9zZWQnKSB7XG4gICAgICAgIGNsb3NlU3Vic2NyaXB0aW9uKHRoaXMpO1xuICAgICAgICBjbGVhbnVwU3Vic2NyaXB0aW9uKHRoaXMpO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJjbG9zZWRcIixcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9zdGF0ZSA9PT0gJ2Nsb3NlZCc7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFN1YnNjcmlwdGlvbjtcbn0oKTtcblxudmFyIFN1YnNjcmlwdGlvbk9ic2VydmVyID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gU3Vic2NyaXB0aW9uT2JzZXJ2ZXIoc3Vic2NyaXB0aW9uKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFN1YnNjcmlwdGlvbk9ic2VydmVyKTtcblxuICAgIHRoaXMuX3N1YnNjcmlwdGlvbiA9IHN1YnNjcmlwdGlvbjtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhTdWJzY3JpcHRpb25PYnNlcnZlciwgW3tcbiAgICBrZXk6IFwibmV4dFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBuZXh0KHZhbHVlKSB7XG4gICAgICBvbk5vdGlmeSh0aGlzLl9zdWJzY3JpcHRpb24sICduZXh0JywgdmFsdWUpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJlcnJvclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBlcnJvcih2YWx1ZSkge1xuICAgICAgb25Ob3RpZnkodGhpcy5fc3Vic2NyaXB0aW9uLCAnZXJyb3InLCB2YWx1ZSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImNvbXBsZXRlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBsZXRlKCkge1xuICAgICAgb25Ob3RpZnkodGhpcy5fc3Vic2NyaXB0aW9uLCAnY29tcGxldGUnKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiY2xvc2VkXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fc3Vic2NyaXB0aW9uLl9zdGF0ZSA9PT0gJ2Nsb3NlZCc7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFN1YnNjcmlwdGlvbk9ic2VydmVyO1xufSgpO1xuXG52YXIgT2JzZXJ2YWJsZSA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIE9ic2VydmFibGUoc3Vic2NyaWJlcikge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBPYnNlcnZhYmxlKTtcblxuICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBPYnNlcnZhYmxlKSkgdGhyb3cgbmV3IFR5cGVFcnJvcignT2JzZXJ2YWJsZSBjYW5ub3QgYmUgY2FsbGVkIGFzIGEgZnVuY3Rpb24nKTtcbiAgICBpZiAodHlwZW9mIHN1YnNjcmliZXIgIT09ICdmdW5jdGlvbicpIHRocm93IG5ldyBUeXBlRXJyb3IoJ09ic2VydmFibGUgaW5pdGlhbGl6ZXIgbXVzdCBiZSBhIGZ1bmN0aW9uJyk7XG4gICAgdGhpcy5fc3Vic2NyaWJlciA9IHN1YnNjcmliZXI7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoT2JzZXJ2YWJsZSwgW3tcbiAgICBrZXk6IFwic3Vic2NyaWJlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHN1YnNjcmliZShvYnNlcnZlcikge1xuICAgICAgaWYgKHR5cGVvZiBvYnNlcnZlciAhPT0gJ29iamVjdCcgfHwgb2JzZXJ2ZXIgPT09IG51bGwpIHtcbiAgICAgICAgb2JzZXJ2ZXIgPSB7XG4gICAgICAgICAgbmV4dDogb2JzZXJ2ZXIsXG4gICAgICAgICAgZXJyb3I6IGFyZ3VtZW50c1sxXSxcbiAgICAgICAgICBjb21wbGV0ZTogYXJndW1lbnRzWzJdXG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBuZXcgU3Vic2NyaXB0aW9uKG9ic2VydmVyLCB0aGlzLl9zdWJzY3JpYmVyKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZm9yRWFjaFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBmb3JFYWNoKGZuKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBpZiAodHlwZW9mIGZuICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgcmVqZWN0KG5ldyBUeXBlRXJyb3IoZm4gKyAnIGlzIG5vdCBhIGZ1bmN0aW9uJykpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGRvbmUoKSB7XG4gICAgICAgICAgc3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHN1YnNjcmlwdGlvbiA9IF90aGlzLnN1YnNjcmliZSh7XG4gICAgICAgICAgbmV4dDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBmbih2YWx1ZSwgZG9uZSk7XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgIHJlamVjdChlKTtcbiAgICAgICAgICAgICAgc3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICBlcnJvcjogcmVqZWN0LFxuICAgICAgICAgIGNvbXBsZXRlOiByZXNvbHZlXG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIm1hcFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBtYXAoZm4pIHtcbiAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICBpZiAodHlwZW9mIGZuICE9PSAnZnVuY3Rpb24nKSB0aHJvdyBuZXcgVHlwZUVycm9yKGZuICsgJyBpcyBub3QgYSBmdW5jdGlvbicpO1xuICAgICAgdmFyIEMgPSBnZXRTcGVjaWVzKHRoaXMpO1xuICAgICAgcmV0dXJuIG5ldyBDKGZ1bmN0aW9uIChvYnNlcnZlcikge1xuICAgICAgICByZXR1cm4gX3RoaXMyLnN1YnNjcmliZSh7XG4gICAgICAgICAgbmV4dDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICB2YWx1ZSA9IGZuKHZhbHVlKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIG9ic2VydmVyLmVycm9yKGUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBvYnNlcnZlci5uZXh0KHZhbHVlKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgb2JzZXJ2ZXIuZXJyb3IoZSk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBjb21wbGV0ZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgb2JzZXJ2ZXIuY29tcGxldGUoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImZpbHRlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBmaWx0ZXIoZm4pIHtcbiAgICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgICBpZiAodHlwZW9mIGZuICE9PSAnZnVuY3Rpb24nKSB0aHJvdyBuZXcgVHlwZUVycm9yKGZuICsgJyBpcyBub3QgYSBmdW5jdGlvbicpO1xuICAgICAgdmFyIEMgPSBnZXRTcGVjaWVzKHRoaXMpO1xuICAgICAgcmV0dXJuIG5ldyBDKGZ1bmN0aW9uIChvYnNlcnZlcikge1xuICAgICAgICByZXR1cm4gX3RoaXMzLnN1YnNjcmliZSh7XG4gICAgICAgICAgbmV4dDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBpZiAoIWZuKHZhbHVlKSkgcmV0dXJuO1xuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICByZXR1cm4gb2JzZXJ2ZXIuZXJyb3IoZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIG9ic2VydmVyLm5leHQodmFsdWUpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICBvYnNlcnZlci5lcnJvcihlKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIGNvbXBsZXRlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBvYnNlcnZlci5jb21wbGV0ZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwicmVkdWNlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlZHVjZShmbikge1xuICAgICAgdmFyIF90aGlzNCA9IHRoaXM7XG5cbiAgICAgIGlmICh0eXBlb2YgZm4gIT09ICdmdW5jdGlvbicpIHRocm93IG5ldyBUeXBlRXJyb3IoZm4gKyAnIGlzIG5vdCBhIGZ1bmN0aW9uJyk7XG4gICAgICB2YXIgQyA9IGdldFNwZWNpZXModGhpcyk7XG4gICAgICB2YXIgaGFzU2VlZCA9IGFyZ3VtZW50cy5sZW5ndGggPiAxO1xuICAgICAgdmFyIGhhc1ZhbHVlID0gZmFsc2U7XG4gICAgICB2YXIgc2VlZCA9IGFyZ3VtZW50c1sxXTtcbiAgICAgIHZhciBhY2MgPSBzZWVkO1xuICAgICAgcmV0dXJuIG5ldyBDKGZ1bmN0aW9uIChvYnNlcnZlcikge1xuICAgICAgICByZXR1cm4gX3RoaXM0LnN1YnNjcmliZSh7XG4gICAgICAgICAgbmV4dDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB2YXIgZmlyc3QgPSAhaGFzVmFsdWU7XG4gICAgICAgICAgICBoYXNWYWx1ZSA9IHRydWU7XG5cbiAgICAgICAgICAgIGlmICghZmlyc3QgfHwgaGFzU2VlZCkge1xuICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGFjYyA9IGZuKGFjYywgdmFsdWUpO1xuICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG9ic2VydmVyLmVycm9yKGUpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBhY2MgPSB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgb2JzZXJ2ZXIuZXJyb3IoZSk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBjb21wbGV0ZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKCFoYXNWYWx1ZSAmJiAhaGFzU2VlZCkgcmV0dXJuIG9ic2VydmVyLmVycm9yKG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCByZWR1Y2UgYW4gZW1wdHkgc2VxdWVuY2UnKSk7XG4gICAgICAgICAgICBvYnNlcnZlci5uZXh0KGFjYyk7XG4gICAgICAgICAgICBvYnNlcnZlci5jb21wbGV0ZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiY29uY2F0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbmNhdCgpIHtcbiAgICAgIHZhciBfdGhpczUgPSB0aGlzO1xuXG4gICAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgc291cmNlcyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgICAgc291cmNlc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICAgIH1cblxuICAgICAgdmFyIEMgPSBnZXRTcGVjaWVzKHRoaXMpO1xuICAgICAgcmV0dXJuIG5ldyBDKGZ1bmN0aW9uIChvYnNlcnZlcikge1xuICAgICAgICB2YXIgc3Vic2NyaXB0aW9uO1xuICAgICAgICB2YXIgaW5kZXggPSAwO1xuXG4gICAgICAgIGZ1bmN0aW9uIHN0YXJ0TmV4dChuZXh0KSB7XG4gICAgICAgICAgc3Vic2NyaXB0aW9uID0gbmV4dC5zdWJzY3JpYmUoe1xuICAgICAgICAgICAgbmV4dDogZnVuY3Rpb24gKHYpIHtcbiAgICAgICAgICAgICAgb2JzZXJ2ZXIubmV4dCh2KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgb2JzZXJ2ZXIuZXJyb3IoZSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY29tcGxldGU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgaWYgKGluZGV4ID09PSBzb3VyY2VzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHN1YnNjcmlwdGlvbiA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICBvYnNlcnZlci5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHN0YXJ0TmV4dChDLmZyb20oc291cmNlc1tpbmRleCsrXSkpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBzdGFydE5leHQoX3RoaXM1KTtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBpZiAoc3Vic2NyaXB0aW9uKSB7XG4gICAgICAgICAgICBzdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgIHN1YnNjcmlwdGlvbiA9IHVuZGVmaW5lZDtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZmxhdE1hcFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBmbGF0TWFwKGZuKSB7XG4gICAgICB2YXIgX3RoaXM2ID0gdGhpcztcblxuICAgICAgaWYgKHR5cGVvZiBmbiAhPT0gJ2Z1bmN0aW9uJykgdGhyb3cgbmV3IFR5cGVFcnJvcihmbiArICcgaXMgbm90IGEgZnVuY3Rpb24nKTtcbiAgICAgIHZhciBDID0gZ2V0U3BlY2llcyh0aGlzKTtcbiAgICAgIHJldHVybiBuZXcgQyhmdW5jdGlvbiAob2JzZXJ2ZXIpIHtcbiAgICAgICAgdmFyIHN1YnNjcmlwdGlvbnMgPSBbXTtcblxuICAgICAgICB2YXIgb3V0ZXIgPSBfdGhpczYuc3Vic2NyaWJlKHtcbiAgICAgICAgICBuZXh0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGlmIChmbikge1xuICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHZhbHVlID0gZm4odmFsdWUpO1xuICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG9ic2VydmVyLmVycm9yKGUpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBpbm5lciA9IEMuZnJvbSh2YWx1ZSkuc3Vic2NyaWJlKHtcbiAgICAgICAgICAgICAgbmV4dDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgb2JzZXJ2ZXIubmV4dCh2YWx1ZSk7XG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgIG9ic2VydmVyLmVycm9yKGUpO1xuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBjb21wbGV0ZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciBpID0gc3Vic2NyaXB0aW9ucy5pbmRleE9mKGlubmVyKTtcbiAgICAgICAgICAgICAgICBpZiAoaSA+PSAwKSBzdWJzY3JpcHRpb25zLnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgICAgICBjb21wbGV0ZUlmRG9uZSgpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHN1YnNjcmlwdGlvbnMucHVzaChpbm5lcik7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBlcnJvcjogZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIG9ic2VydmVyLmVycm9yKGUpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgY29tcGxldGU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGNvbXBsZXRlSWZEb25lKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBmdW5jdGlvbiBjb21wbGV0ZUlmRG9uZSgpIHtcbiAgICAgICAgICBpZiAob3V0ZXIuY2xvc2VkICYmIHN1YnNjcmlwdGlvbnMubGVuZ3RoID09PSAwKSBvYnNlcnZlci5jb21wbGV0ZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBzdWJzY3JpcHRpb25zLmZvckVhY2goZnVuY3Rpb24gKHMpIHtcbiAgICAgICAgICAgIHJldHVybiBzLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgb3V0ZXIudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgfTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogU3ltYm9sT2JzZXJ2YWJsZSxcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICB9XSwgW3tcbiAgICBrZXk6IFwiZnJvbVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBmcm9tKHgpIHtcbiAgICAgIHZhciBDID0gdHlwZW9mIHRoaXMgPT09ICdmdW5jdGlvbicgPyB0aGlzIDogT2JzZXJ2YWJsZTtcbiAgICAgIGlmICh4ID09IG51bGwpIHRocm93IG5ldyBUeXBlRXJyb3IoeCArICcgaXMgbm90IGFuIG9iamVjdCcpO1xuICAgICAgdmFyIG1ldGhvZCA9IGdldE1ldGhvZCh4LCBTeW1ib2xPYnNlcnZhYmxlKTtcblxuICAgICAgaWYgKG1ldGhvZCkge1xuICAgICAgICB2YXIgb2JzZXJ2YWJsZSA9IG1ldGhvZC5jYWxsKHgpO1xuICAgICAgICBpZiAoT2JqZWN0KG9ic2VydmFibGUpICE9PSBvYnNlcnZhYmxlKSB0aHJvdyBuZXcgVHlwZUVycm9yKG9ic2VydmFibGUgKyAnIGlzIG5vdCBhbiBvYmplY3QnKTtcbiAgICAgICAgaWYgKGlzT2JzZXJ2YWJsZShvYnNlcnZhYmxlKSAmJiBvYnNlcnZhYmxlLmNvbnN0cnVjdG9yID09PSBDKSByZXR1cm4gb2JzZXJ2YWJsZTtcbiAgICAgICAgcmV0dXJuIG5ldyBDKGZ1bmN0aW9uIChvYnNlcnZlcikge1xuICAgICAgICAgIHJldHVybiBvYnNlcnZhYmxlLnN1YnNjcmliZShvYnNlcnZlcik7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBpZiAoaGFzU3ltYm9sKCdpdGVyYXRvcicpKSB7XG4gICAgICAgIG1ldGhvZCA9IGdldE1ldGhvZCh4LCBTeW1ib2xJdGVyYXRvcik7XG5cbiAgICAgICAgaWYgKG1ldGhvZCkge1xuICAgICAgICAgIHJldHVybiBuZXcgQyhmdW5jdGlvbiAob2JzZXJ2ZXIpIHtcbiAgICAgICAgICAgIGVucXVldWUoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICBpZiAob2JzZXJ2ZXIuY2xvc2VkKSByZXR1cm47XG4gICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZTtcbiAgICAgICAgICAgICAgdmFyIF9kaWRJdGVyYXRvckVycm9yID0gZmFsc2U7XG4gICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JFcnJvciA9IHVuZGVmaW5lZDtcblxuICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIF9pdGVyYXRvciA9IG1ldGhvZC5jYWxsKHgpW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXA7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IChfc3RlcCA9IF9pdGVyYXRvci5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgdmFyIF9pdGVtID0gX3N0ZXAudmFsdWU7XG4gICAgICAgICAgICAgICAgICBvYnNlcnZlci5uZXh0KF9pdGVtKTtcbiAgICAgICAgICAgICAgICAgIGlmIChvYnNlcnZlci5jbG9zZWQpIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIF9kaWRJdGVyYXRvckVycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBfaXRlcmF0b3JFcnJvciA9IGVycjtcbiAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uICYmIF9pdGVyYXRvci5yZXR1cm4gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3IucmV0dXJuKCk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcikge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBvYnNlcnZlci5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKEFycmF5LmlzQXJyYXkoeCkpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBDKGZ1bmN0aW9uIChvYnNlcnZlcikge1xuICAgICAgICAgIGVucXVldWUoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKG9ic2VydmVyLmNsb3NlZCkgcmV0dXJuO1xuXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHgubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgb2JzZXJ2ZXIubmV4dCh4W2ldKTtcbiAgICAgICAgICAgICAgaWYgKG9ic2VydmVyLmNsb3NlZCkgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBvYnNlcnZlci5jb21wbGV0ZSgpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcih4ICsgJyBpcyBub3Qgb2JzZXJ2YWJsZScpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJvZlwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvZigpIHtcbiAgICAgIGZvciAodmFyIF9sZW4yID0gYXJndW1lbnRzLmxlbmd0aCwgaXRlbXMgPSBuZXcgQXJyYXkoX2xlbjIpLCBfa2V5MiA9IDA7IF9rZXkyIDwgX2xlbjI7IF9rZXkyKyspIHtcbiAgICAgICAgaXRlbXNbX2tleTJdID0gYXJndW1lbnRzW19rZXkyXTtcbiAgICAgIH1cblxuICAgICAgdmFyIEMgPSB0eXBlb2YgdGhpcyA9PT0gJ2Z1bmN0aW9uJyA/IHRoaXMgOiBPYnNlcnZhYmxlO1xuICAgICAgcmV0dXJuIG5ldyBDKGZ1bmN0aW9uIChvYnNlcnZlcikge1xuICAgICAgICBlbnF1ZXVlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBpZiAob2JzZXJ2ZXIuY2xvc2VkKSByZXR1cm47XG5cbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGl0ZW1zLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICBvYnNlcnZlci5uZXh0KGl0ZW1zW2ldKTtcbiAgICAgICAgICAgIGlmIChvYnNlcnZlci5jbG9zZWQpIHJldHVybjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBvYnNlcnZlci5jb21wbGV0ZSgpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogU3ltYm9sU3BlY2llcyxcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBPYnNlcnZhYmxlO1xufSgpO1xuXG5leHBvcnRzLk9ic2VydmFibGUgPSBPYnNlcnZhYmxlO1xuXG5pZiAoaGFzU3ltYm9scygpKSB7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShPYnNlcnZhYmxlLCBTeW1ib2woJ2V4dGVuc2lvbnMnKSwge1xuICAgIHZhbHVlOiB7XG4gICAgICBzeW1ib2w6IFN5bWJvbE9ic2VydmFibGUsXG4gICAgICBob3N0UmVwb3J0RXJyb3I6IGhvc3RSZXBvcnRFcnJvclxuICAgIH0sXG4gICAgY29uZmlndXJhYmxlOiB0cnVlXG4gIH0pO1xufSIsIi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDE2LCBMZWUgQnlyb25cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKlxuICogQGZsb3dcbiAqIEBpZ25vcmVcbiAqL1xuXG4vKipcbiAqIFtJdGVyYXRvcl0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvSXRlcmF0aW9uX3Byb3RvY29scyNpdGVyYXRvcilcbiAqIGlzIGEgKnByb3RvY29sKiB3aGljaCBkZXNjcmliZXMgYSBzdGFuZGFyZCB3YXkgdG8gcHJvZHVjZSBhIHNlcXVlbmNlIG9mXG4gKiB2YWx1ZXMsIHR5cGljYWxseSB0aGUgdmFsdWVzIG9mIHRoZSBJdGVyYWJsZSByZXByZXNlbnRlZCBieSB0aGlzIEl0ZXJhdG9yLlxuICpcbiAqIFdoaWxlIGRlc2NyaWJlZCBieSB0aGUgW0VTMjAxNSB2ZXJzaW9uIG9mIEphdmFTY3JpcHRdKGh0dHA6Ly93d3cuZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi82LjAvI3NlYy1pdGVyYXRvci1pbnRlcmZhY2UpXG4gKiBpdCBjYW4gYmUgdXRpbGl6ZWQgYnkgYW55IHZlcnNpb24gb2YgSmF2YVNjcmlwdC5cbiAqXG4gKiBAZXh0ZXJuYWwgSXRlcmF0b3JcbiAqIEBzZWUge0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0l0ZXJhdGlvbl9wcm90b2NvbHMjaXRlcmF0b3J8TUROIEl0ZXJhdGlvbiBwcm90b2NvbHN9XG4gKi9cblxuLyoqXG4gKiBbSXRlcmFibGVdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0l0ZXJhdGlvbl9wcm90b2NvbHMjaXRlcmFibGUpXG4gKiBpcyBhICpwcm90b2NvbCogd2hpY2ggd2hlbiBpbXBsZW1lbnRlZCBhbGxvd3MgYSBKYXZhU2NyaXB0IG9iamVjdCB0byBkZWZpbmVcbiAqIHRoZWlyIGl0ZXJhdGlvbiBiZWhhdmlvciwgc3VjaCBhcyB3aGF0IHZhbHVlcyBhcmUgbG9vcGVkIG92ZXIgaW4gYVxuICogW2Bmb3IuLi5vZmBdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL1N0YXRlbWVudHMvZm9yLi4ub2YpXG4gKiBsb29wIG9yIGBpdGVyYWxsYCdzIGBmb3JFYWNoYCBmdW5jdGlvbi4gTWFueSBbYnVpbHQtaW4gdHlwZXNdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0l0ZXJhdGlvbl9wcm90b2NvbHMjQnVpbHRpbl9pdGVyYWJsZXMpXG4gKiBpbXBsZW1lbnQgdGhlIEl0ZXJhYmxlIHByb3RvY29sLCBpbmNsdWRpbmcgYEFycmF5YCBhbmQgYE1hcGAuXG4gKlxuICogV2hpbGUgZGVzY3JpYmVkIGJ5IHRoZSBbRVMyMDE1IHZlcnNpb24gb2YgSmF2YVNjcmlwdF0oaHR0cDovL3d3dy5lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzYuMC8jc2VjLWl0ZXJhYmxlLWludGVyZmFjZSlcbiAqIGl0IGNhbiBiZSB1dGlsaXplZCBieSBhbnkgdmVyc2lvbiBvZiBKYXZhU2NyaXB0LlxuICpcbiAqIEBleHRlcm5hbCBJdGVyYWJsZVxuICogQHNlZSB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvSXRlcmF0aW9uX3Byb3RvY29scyNpdGVyYWJsZXxNRE4gSXRlcmF0aW9uIHByb3RvY29sc31cbiAqL1xuXG4vLyBJbiBFUzIwMTUgZW52aXJvbm1lbnRzLCBTeW1ib2wgZXhpc3RzXG52YXIgU1lNQk9MIC8qOiBhbnkgKi8gPSB0eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nID8gU3ltYm9sIDogdm9pZCAwXG5cbi8vIEluIEVTMjAxNSAob3IgYSBwb2x5ZmlsbGVkKSBlbnZpcm9ubWVudCwgdGhpcyB3aWxsIGJlIFN5bWJvbC5pdGVyYXRvclxudmFyIFNZTUJPTF9JVEVSQVRPUiA9IFNZTUJPTCAmJiBTWU1CT0wuaXRlcmF0b3JcblxuLyoqXG4gKiBBIHByb3BlcnR5IG5hbWUgdG8gYmUgdXNlZCBhcyB0aGUgbmFtZSBvZiBhbiBJdGVyYWJsZSdzIG1ldGhvZCByZXNwb25zaWJsZVxuICogZm9yIHByb2R1Y2luZyBhbiBJdGVyYXRvciwgcmVmZXJyZWQgdG8gYXMgYEBAaXRlcmF0b3JgLiBUeXBpY2FsbHkgcmVwcmVzZW50c1xuICogdGhlIHZhbHVlIGBTeW1ib2wuaXRlcmF0b3JgIGJ1dCBmYWxscyBiYWNrIHRvIHRoZSBzdHJpbmcgYFwiQEBpdGVyYXRvclwiYCB3aGVuXG4gKiBgU3ltYm9sLml0ZXJhdG9yYCBpcyBub3QgZGVmaW5lZC5cbiAqXG4gKiBVc2UgYCQkaXRlcmF0b3JgIGZvciBkZWZpbmluZyBuZXcgSXRlcmFibGVzIGluc3RlYWQgb2YgYFN5bWJvbC5pdGVyYXRvcmAsXG4gKiBidXQgZG8gbm90IHVzZSBpdCBmb3IgYWNjZXNzaW5nIGV4aXN0aW5nIEl0ZXJhYmxlcywgaW5zdGVhZCB1c2VcbiAqIHtAbGluayBnZXRJdGVyYXRvcn0gb3Ige0BsaW5rIGlzSXRlcmFibGV9LlxuICpcbiAqIEBleGFtcGxlXG4gKlxuICogdmFyICQkaXRlcmF0b3IgPSByZXF1aXJlKCdpdGVyYWxsJykuJCRpdGVyYXRvclxuICpcbiAqIGZ1bmN0aW9uIENvdW50ZXIgKHRvKSB7XG4gKiAgIHRoaXMudG8gPSB0b1xuICogfVxuICpcbiAqIENvdW50ZXIucHJvdG90eXBlWyQkaXRlcmF0b3JdID0gZnVuY3Rpb24gKCkge1xuICogICByZXR1cm4ge1xuICogICAgIHRvOiB0aGlzLnRvLFxuICogICAgIG51bTogMCxcbiAqICAgICBuZXh0ICgpIHtcbiAqICAgICAgIGlmICh0aGlzLm51bSA+PSB0aGlzLnRvKSB7XG4gKiAgICAgICAgIHJldHVybiB7IHZhbHVlOiB1bmRlZmluZWQsIGRvbmU6IHRydWUgfVxuICogICAgICAgfVxuICogICAgICAgcmV0dXJuIHsgdmFsdWU6IHRoaXMubnVtKyssIGRvbmU6IGZhbHNlIH1cbiAqICAgICB9XG4gKiAgIH1cbiAqIH1cbiAqXG4gKiB2YXIgY291bnRlciA9IG5ldyBDb3VudGVyKDMpXG4gKiBmb3IgKHZhciBudW1iZXIgb2YgY291bnRlcikge1xuICogICBjb25zb2xlLmxvZyhudW1iZXIpIC8vIDAgLi4uIDEgLi4uIDJcbiAqIH1cbiAqXG4gKiBAdHlwZSB7U3ltYm9sfHN0cmluZ31cbiAqL1xuLyo6OiBkZWNsYXJlIGV4cG9ydCB2YXIgJCRpdGVyYXRvcjogJ0BAaXRlcmF0b3InOyAqL1xuZXhwb3J0IHZhciAkJGl0ZXJhdG9yID0gU1lNQk9MX0lURVJBVE9SIHx8ICdAQGl0ZXJhdG9yJ1xuXG4vKipcbiAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgcHJvdmlkZWQgb2JqZWN0IGltcGxlbWVudHMgdGhlIEl0ZXJhdG9yIHByb3RvY29sIHZpYVxuICogZWl0aGVyIGltcGxlbWVudGluZyBhIGBTeW1ib2wuaXRlcmF0b3JgIG9yIGBcIkBAaXRlcmF0b3JcImAgbWV0aG9kLlxuICpcbiAqIEBleGFtcGxlXG4gKlxuICogdmFyIGlzSXRlcmFibGUgPSByZXF1aXJlKCdpdGVyYWxsJykuaXNJdGVyYWJsZVxuICogaXNJdGVyYWJsZShbIDEsIDIsIDMgXSkgLy8gdHJ1ZVxuICogaXNJdGVyYWJsZSgnQUJDJykgLy8gdHJ1ZVxuICogaXNJdGVyYWJsZSh7IGxlbmd0aDogMSwgMDogJ0FscGhhJyB9KSAvLyBmYWxzZVxuICogaXNJdGVyYWJsZSh7IGtleTogJ3ZhbHVlJyB9KSAvLyBmYWxzZVxuICogaXNJdGVyYWJsZShuZXcgTWFwKCkpIC8vIHRydWVcbiAqXG4gKiBAcGFyYW0gb2JqXG4gKiAgIEEgdmFsdWUgd2hpY2ggbWlnaHQgaW1wbGVtZW50IHRoZSBJdGVyYWJsZSBwcm90b2NvbC5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IHRydWUgaWYgSXRlcmFibGUuXG4gKi9cbi8qOjogZGVjbGFyZSBleHBvcnQgZnVuY3Rpb24gaXNJdGVyYWJsZShvYmo6IGFueSk6IGJvb2xlYW47ICovXG5leHBvcnQgZnVuY3Rpb24gaXNJdGVyYWJsZShvYmopIHtcbiAgcmV0dXJuICEhZ2V0SXRlcmF0b3JNZXRob2Qob2JqKVxufVxuXG4vKipcbiAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgcHJvdmlkZWQgb2JqZWN0IGltcGxlbWVudHMgdGhlIEFycmF5LWxpa2UgcHJvdG9jb2wgdmlhXG4gKiBkZWZpbmluZyBhIHBvc2l0aXZlLWludGVnZXIgYGxlbmd0aGAgcHJvcGVydHkuXG4gKlxuICogQGV4YW1wbGVcbiAqXG4gKiB2YXIgaXNBcnJheUxpa2UgPSByZXF1aXJlKCdpdGVyYWxsJykuaXNBcnJheUxpa2VcbiAqIGlzQXJyYXlMaWtlKFsgMSwgMiwgMyBdKSAvLyB0cnVlXG4gKiBpc0FycmF5TGlrZSgnQUJDJykgLy8gdHJ1ZVxuICogaXNBcnJheUxpa2UoeyBsZW5ndGg6IDEsIDA6ICdBbHBoYScgfSkgLy8gdHJ1ZVxuICogaXNBcnJheUxpa2UoeyBrZXk6ICd2YWx1ZScgfSkgLy8gZmFsc2VcbiAqIGlzQXJyYXlMaWtlKG5ldyBNYXAoKSkgLy8gZmFsc2VcbiAqXG4gKiBAcGFyYW0gb2JqXG4gKiAgIEEgdmFsdWUgd2hpY2ggbWlnaHQgaW1wbGVtZW50IHRoZSBBcnJheS1saWtlIHByb3RvY29sLlxuICogQHJldHVybiB7Ym9vbGVhbn0gdHJ1ZSBpZiBBcnJheS1saWtlLlxuICovXG4vKjo6IGRlY2xhcmUgZXhwb3J0IGZ1bmN0aW9uIGlzQXJyYXlMaWtlKG9iajogYW55KTogYm9vbGVhbjsgKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0FycmF5TGlrZShvYmopIHtcbiAgdmFyIGxlbmd0aCA9IG9iaiAhPSBudWxsICYmIG9iai5sZW5ndGhcbiAgcmV0dXJuIHR5cGVvZiBsZW5ndGggPT09ICdudW1iZXInICYmIGxlbmd0aCA+PSAwICYmIGxlbmd0aCAlIDEgPT09IDBcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRydWUgaWYgdGhlIHByb3ZpZGVkIG9iamVjdCBpcyBhbiBPYmplY3QgKGkuZS4gbm90IGEgc3RyaW5nIGxpdGVyYWwpXG4gKiBhbmQgaXMgZWl0aGVyIEl0ZXJhYmxlIG9yIEFycmF5LWxpa2UuXG4gKlxuICogVGhpcyBtYXkgYmUgdXNlZCBpbiBwbGFjZSBvZiBbQXJyYXkuaXNBcnJheSgpXVtpc0FycmF5XSB0byBkZXRlcm1pbmUgaWYgYW5cbiAqIG9iamVjdCBzaG91bGQgYmUgaXRlcmF0ZWQtb3Zlci4gSXQgYWx3YXlzIGV4Y2x1ZGVzIHN0cmluZyBsaXRlcmFscyBhbmRcbiAqIGluY2x1ZGVzIEFycmF5cyAocmVnYXJkbGVzcyBvZiBpZiBpdCBpcyBJdGVyYWJsZSkuIEl0IGFsc28gaW5jbHVkZXMgb3RoZXJcbiAqIEFycmF5LWxpa2Ugb2JqZWN0cyBzdWNoIGFzIE5vZGVMaXN0LCBUeXBlZEFycmF5LCBhbmQgQnVmZmVyLlxuICpcbiAqIEBleGFtcGxlXG4gKlxuICogdmFyIGlzQ29sbGVjdGlvbiA9IHJlcXVpcmUoJ2l0ZXJhbGwnKS5pc0NvbGxlY3Rpb25cbiAqIGlzQ29sbGVjdGlvbihbIDEsIDIsIDMgXSkgLy8gdHJ1ZVxuICogaXNDb2xsZWN0aW9uKCdBQkMnKSAvLyBmYWxzZVxuICogaXNDb2xsZWN0aW9uKHsgbGVuZ3RoOiAxLCAwOiAnQWxwaGEnIH0pIC8vIHRydWVcbiAqIGlzQ29sbGVjdGlvbih7IGtleTogJ3ZhbHVlJyB9KSAvLyBmYWxzZVxuICogaXNDb2xsZWN0aW9uKG5ldyBNYXAoKSkgLy8gdHJ1ZVxuICpcbiAqIEBleGFtcGxlXG4gKlxuICogdmFyIGZvckVhY2ggPSByZXF1aXJlKCdpdGVyYWxsJykuZm9yRWFjaFxuICogaWYgKGlzQ29sbGVjdGlvbihvYmopKSB7XG4gKiAgIGZvckVhY2gob2JqLCBmdW5jdGlvbiAodmFsdWUpIHtcbiAqICAgICBjb25zb2xlLmxvZyh2YWx1ZSlcbiAqICAgfSlcbiAqIH1cbiAqXG4gKiBAcGFyYW0gb2JqXG4gKiAgIEFuIE9iamVjdCB2YWx1ZSB3aGljaCBtaWdodCBpbXBsZW1lbnQgdGhlIEl0ZXJhYmxlIG9yIEFycmF5LWxpa2UgcHJvdG9jb2xzLlxuICogQHJldHVybiB7Ym9vbGVhbn0gdHJ1ZSBpZiBJdGVyYWJsZSBvciBBcnJheS1saWtlIE9iamVjdC5cbiAqL1xuLyo6OiBkZWNsYXJlIGV4cG9ydCBmdW5jdGlvbiBpc0NvbGxlY3Rpb24ob2JqOiBhbnkpOiBib29sZWFuOyAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzQ29sbGVjdGlvbihvYmopIHtcbiAgcmV0dXJuIE9iamVjdChvYmopID09PSBvYmogJiYgKGlzQXJyYXlMaWtlKG9iaikgfHwgaXNJdGVyYWJsZShvYmopKVxufVxuXG4vKipcbiAqIElmIHRoZSBwcm92aWRlZCBvYmplY3QgaW1wbGVtZW50cyB0aGUgSXRlcmF0b3IgcHJvdG9jb2wsIGl0cyBJdGVyYXRvciBvYmplY3RcbiAqIGlzIHJldHVybmVkLiBPdGhlcndpc2UgcmV0dXJucyB1bmRlZmluZWQuXG4gKlxuICogQGV4YW1wbGVcbiAqXG4gKiB2YXIgZ2V0SXRlcmF0b3IgPSByZXF1aXJlKCdpdGVyYWxsJykuZ2V0SXRlcmF0b3JcbiAqIHZhciBpdGVyYXRvciA9IGdldEl0ZXJhdG9yKFsgMSwgMiwgMyBdKVxuICogaXRlcmF0b3IubmV4dCgpIC8vIHsgdmFsdWU6IDEsIGRvbmU6IGZhbHNlIH1cbiAqIGl0ZXJhdG9yLm5leHQoKSAvLyB7IHZhbHVlOiAyLCBkb25lOiBmYWxzZSB9XG4gKiBpdGVyYXRvci5uZXh0KCkgLy8geyB2YWx1ZTogMywgZG9uZTogZmFsc2UgfVxuICogaXRlcmF0b3IubmV4dCgpIC8vIHsgdmFsdWU6IHVuZGVmaW5lZCwgZG9uZTogdHJ1ZSB9XG4gKlxuICogQHRlbXBsYXRlIFQgdGhlIHR5cGUgb2YgZWFjaCBpdGVyYXRlZCB2YWx1ZVxuICogQHBhcmFtIHtJdGVyYWJsZTxUPn0gaXRlcmFibGVcbiAqICAgQW4gSXRlcmFibGUgb2JqZWN0IHdoaWNoIGlzIHRoZSBzb3VyY2Ugb2YgYW4gSXRlcmF0b3IuXG4gKiBAcmV0dXJuIHtJdGVyYXRvcjxUPn0gbmV3IEl0ZXJhdG9yIGluc3RhbmNlLlxuICovXG4vKjo6IGRlY2xhcmUgZXhwb3J0IHZhciBnZXRJdGVyYXRvcjpcbiAgJiAoPCtUVmFsdWU+KGl0ZXJhYmxlOiBJdGVyYWJsZTxUVmFsdWU+KSA9PiBJdGVyYXRvcjxUVmFsdWU+KVxuICAmICgoaXRlcmFibGU6IG1peGVkKSA9PiB2b2lkIHwgSXRlcmF0b3I8bWl4ZWQ+KTsgKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRJdGVyYXRvcihpdGVyYWJsZSkge1xuICB2YXIgbWV0aG9kID0gZ2V0SXRlcmF0b3JNZXRob2QoaXRlcmFibGUpXG4gIGlmIChtZXRob2QpIHtcbiAgICByZXR1cm4gbWV0aG9kLmNhbGwoaXRlcmFibGUpXG4gIH1cbn1cblxuLyoqXG4gKiBJZiB0aGUgcHJvdmlkZWQgb2JqZWN0IGltcGxlbWVudHMgdGhlIEl0ZXJhdG9yIHByb3RvY29sLCB0aGUgbWV0aG9kXG4gKiByZXNwb25zaWJsZSBmb3IgcHJvZHVjaW5nIGl0cyBJdGVyYXRvciBvYmplY3QgaXMgcmV0dXJuZWQuXG4gKlxuICogVGhpcyBpcyB1c2VkIGluIHJhcmUgY2FzZXMgZm9yIHBlcmZvcm1hbmNlIHR1bmluZy4gVGhpcyBtZXRob2QgbXVzdCBiZSBjYWxsZWRcbiAqIHdpdGggb2JqIGFzIHRoZSBjb250ZXh0dWFsIHRoaXMtYXJndW1lbnQuXG4gKlxuICogQGV4YW1wbGVcbiAqXG4gKiB2YXIgZ2V0SXRlcmF0b3JNZXRob2QgPSByZXF1aXJlKCdpdGVyYWxsJykuZ2V0SXRlcmF0b3JNZXRob2RcbiAqIHZhciBteUFycmF5ID0gWyAxLCAyLCAzIF1cbiAqIHZhciBtZXRob2QgPSBnZXRJdGVyYXRvck1ldGhvZChteUFycmF5KVxuICogaWYgKG1ldGhvZCkge1xuICogICB2YXIgaXRlcmF0b3IgPSBtZXRob2QuY2FsbChteUFycmF5KVxuICogfVxuICpcbiAqIEB0ZW1wbGF0ZSBUIHRoZSB0eXBlIG9mIGVhY2ggaXRlcmF0ZWQgdmFsdWVcbiAqIEBwYXJhbSB7SXRlcmFibGU8VD59IGl0ZXJhYmxlXG4gKiAgIEFuIEl0ZXJhYmxlIG9iamVjdCB3aGljaCBkZWZpbmVzIGFuIGBAQGl0ZXJhdG9yYCBtZXRob2QuXG4gKiBAcmV0dXJuIHtmdW5jdGlvbigpOiBJdGVyYXRvcjxUPn0gYEBAaXRlcmF0b3JgIG1ldGhvZC5cbiAqL1xuLyo6OiBkZWNsYXJlIGV4cG9ydCB2YXIgZ2V0SXRlcmF0b3JNZXRob2Q6XG4gICYgKDwrVFZhbHVlPihpdGVyYWJsZTogSXRlcmFibGU8VFZhbHVlPikgPT4gKCgpID0+IEl0ZXJhdG9yPFRWYWx1ZT4pKVxuICAmICgoaXRlcmFibGU6IG1peGVkKSA9PiAodm9pZCB8ICgoKSA9PiBJdGVyYXRvcjxtaXhlZD4pKSk7ICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0SXRlcmF0b3JNZXRob2QoaXRlcmFibGUpIHtcbiAgaWYgKGl0ZXJhYmxlICE9IG51bGwpIHtcbiAgICB2YXIgbWV0aG9kID1cbiAgICAgIChTWU1CT0xfSVRFUkFUT1IgJiYgaXRlcmFibGVbU1lNQk9MX0lURVJBVE9SXSkgfHwgaXRlcmFibGVbJ0BAaXRlcmF0b3InXVxuICAgIGlmICh0eXBlb2YgbWV0aG9kID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICByZXR1cm4gbWV0aG9kXG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogU2ltaWxhciB0byB7QGxpbmsgZ2V0SXRlcmF0b3J9LCB0aGlzIG1ldGhvZCByZXR1cm5zIGEgbmV3IEl0ZXJhdG9yIGdpdmVuIGFuXG4gKiBJdGVyYWJsZS4gSG93ZXZlciBpdCB3aWxsIGFsc28gY3JlYXRlIGFuIEl0ZXJhdG9yIGZvciBhIG5vbi1JdGVyYWJsZVxuICogQXJyYXktbGlrZSBjb2xsZWN0aW9uLCBzdWNoIGFzIEFycmF5IGluIGEgbm9uLUVTMjAxNSBlbnZpcm9ubWVudC5cbiAqXG4gKiBgY3JlYXRlSXRlcmF0b3JgIGlzIGNvbXBsaW1lbnRhcnkgdG8gYGZvckVhY2hgLCBidXQgYWxsb3dzIGEgXCJwdWxsXCItYmFzZWRcbiAqIGl0ZXJhdGlvbiBhcyBvcHBvc2VkIHRvIGBmb3JFYWNoYCdzIFwicHVzaFwiLWJhc2VkIGl0ZXJhdGlvbi5cbiAqXG4gKiBgY3JlYXRlSXRlcmF0b3JgIHByb2R1Y2VzIGFuIEl0ZXJhdG9yIGZvciBBcnJheS1saWtlcyB3aXRoIHRoZSBzYW1lIGJlaGF2aW9yXG4gKiBhcyBBcnJheUl0ZXJhdG9yUHJvdG90eXBlIGRlc2NyaWJlZCBpbiB0aGUgRUNNQVNjcmlwdCBzcGVjaWZpY2F0aW9uLCBhbmRcbiAqIGRvZXMgKm5vdCogc2tpcCBvdmVyIFwiaG9sZXNcIi5cbiAqXG4gKiBAZXhhbXBsZVxuICpcbiAqIHZhciBjcmVhdGVJdGVyYXRvciA9IHJlcXVpcmUoJ2l0ZXJhbGwnKS5jcmVhdGVJdGVyYXRvclxuICpcbiAqIHZhciBteUFycmF5bGlrZSA9IHsgbGVuZ3RoOiAzLCAwOiAnQWxwaGEnLCAxOiAnQnJhdm8nLCAyOiAnQ2hhcmxpZScgfVxuICogdmFyIGl0ZXJhdG9yID0gY3JlYXRlSXRlcmF0b3IobXlBcnJheWxpa2UpXG4gKiBpdGVyYXRvci5uZXh0KCkgLy8geyB2YWx1ZTogJ0FscGhhJywgZG9uZTogZmFsc2UgfVxuICogaXRlcmF0b3IubmV4dCgpIC8vIHsgdmFsdWU6ICdCcmF2bycsIGRvbmU6IGZhbHNlIH1cbiAqIGl0ZXJhdG9yLm5leHQoKSAvLyB7IHZhbHVlOiAnQ2hhcmxpZScsIGRvbmU6IGZhbHNlIH1cbiAqIGl0ZXJhdG9yLm5leHQoKSAvLyB7IHZhbHVlOiB1bmRlZmluZWQsIGRvbmU6IHRydWUgfVxuICpcbiAqIEB0ZW1wbGF0ZSBUIHRoZSB0eXBlIG9mIGVhY2ggaXRlcmF0ZWQgdmFsdWVcbiAqIEBwYXJhbSB7SXRlcmFibGU8VD58eyBsZW5ndGg6IG51bWJlciB9fSBjb2xsZWN0aW9uXG4gKiAgIEFuIEl0ZXJhYmxlIG9yIEFycmF5LWxpa2Ugb2JqZWN0IHRvIHByb2R1Y2UgYW4gSXRlcmF0b3IuXG4gKiBAcmV0dXJuIHtJdGVyYXRvcjxUPn0gbmV3IEl0ZXJhdG9yIGluc3RhbmNlLlxuICovXG4vKjo6IGRlY2xhcmUgZXhwb3J0IHZhciBjcmVhdGVJdGVyYXRvcjpcbiAgJiAoPCtUVmFsdWU+KGNvbGxlY3Rpb246IEl0ZXJhYmxlPFRWYWx1ZT4pID0+IEl0ZXJhdG9yPFRWYWx1ZT4pXG4gICYgKChjb2xsZWN0aW9uOiB7bGVuZ3RoOiBudW1iZXJ9KSA9PiBJdGVyYXRvcjxtaXhlZD4pXG4gICYgKChjb2xsZWN0aW9uOiBtaXhlZCkgPT4gKHZvaWQgfCBJdGVyYXRvcjxtaXhlZD4pKTsgKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVJdGVyYXRvcihjb2xsZWN0aW9uKSB7XG4gIGlmIChjb2xsZWN0aW9uICE9IG51bGwpIHtcbiAgICB2YXIgaXRlcmF0b3IgPSBnZXRJdGVyYXRvcihjb2xsZWN0aW9uKVxuICAgIGlmIChpdGVyYXRvcikge1xuICAgICAgcmV0dXJuIGl0ZXJhdG9yXG4gICAgfVxuICAgIGlmIChpc0FycmF5TGlrZShjb2xsZWN0aW9uKSkge1xuICAgICAgcmV0dXJuIG5ldyBBcnJheUxpa2VJdGVyYXRvcihjb2xsZWN0aW9uKVxuICAgIH1cbiAgfVxufVxuXG4vLyBXaGVuIHRoZSBvYmplY3QgcHJvdmlkZWQgdG8gYGNyZWF0ZUl0ZXJhdG9yYCBpcyBub3QgSXRlcmFibGUgYnV0IGlzXG4vLyBBcnJheS1saWtlLCB0aGlzIHNpbXBsZSBJdGVyYXRvciBpcyBjcmVhdGVkLlxuZnVuY3Rpb24gQXJyYXlMaWtlSXRlcmF0b3Iob2JqKSB7XG4gIHRoaXMuX28gPSBvYmpcbiAgdGhpcy5faSA9IDBcbn1cblxuLy8gTm90ZTogYWxsIEl0ZXJhdG9ycyBhcmUgdGhlbXNlbHZlcyBJdGVyYWJsZS5cbkFycmF5TGlrZUl0ZXJhdG9yLnByb3RvdHlwZVskJGl0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpc1xufVxuXG4vLyBBIHNpbXBsZSBzdGF0ZS1tYWNoaW5lIGRldGVybWluZXMgdGhlIEl0ZXJhdG9yUmVzdWx0IHJldHVybmVkLCB5aWVsZGluZ1xuLy8gZWFjaCB2YWx1ZSBpbiB0aGUgQXJyYXktbGlrZSBvYmplY3QgaW4gb3JkZXIgb2YgdGhlaXIgaW5kaWNpZXMuXG5BcnJheUxpa2VJdGVyYXRvci5wcm90b3R5cGUubmV4dCA9IGZ1bmN0aW9uKCkge1xuICBpZiAodGhpcy5fbyA9PT0gdm9pZCAwIHx8IHRoaXMuX2kgPj0gdGhpcy5fby5sZW5ndGgpIHtcbiAgICB0aGlzLl9vID0gdm9pZCAwXG4gICAgcmV0dXJuIHsgdmFsdWU6IHZvaWQgMCwgZG9uZTogdHJ1ZSB9XG4gIH1cbiAgcmV0dXJuIHsgdmFsdWU6IHRoaXMuX29bdGhpcy5faSsrXSwgZG9uZTogZmFsc2UgfVxufVxuXG4vKipcbiAqIEdpdmVuIGFuIG9iamVjdCB3aGljaCBlaXRoZXIgaW1wbGVtZW50cyB0aGUgSXRlcmFibGUgcHJvdG9jb2wgb3IgaXNcbiAqIEFycmF5LWxpa2UsIGl0ZXJhdGUgb3ZlciBpdCwgY2FsbGluZyB0aGUgYGNhbGxiYWNrYCBhdCBlYWNoIGl0ZXJhdGlvbi5cbiAqXG4gKiBVc2UgYGZvckVhY2hgIHdoZXJlIHlvdSB3b3VsZCBleHBlY3QgdG8gdXNlIGEgYGZvciAuLi4gb2ZgIGxvb3AgaW4gRVM2LlxuICogSG93ZXZlciBgZm9yRWFjaGAgYWRoZXJlcyB0byB0aGUgYmVoYXZpb3Igb2YgW0FycmF5I2ZvckVhY2hdW10gZGVzY3JpYmVkIGluXG4gKiB0aGUgRUNNQVNjcmlwdCBzcGVjaWZpY2F0aW9uLCBza2lwcGluZyBvdmVyIFwiaG9sZXNcIiBpbiBBcnJheS1saWtlcy4gSXQgd2lsbFxuICogYWxzbyBkZWxlZ2F0ZSB0byBhIGBmb3JFYWNoYCBtZXRob2Qgb24gYGNvbGxlY3Rpb25gIGlmIG9uZSBpcyBkZWZpbmVkLFxuICogZW5zdXJpbmcgbmF0aXZlIHBlcmZvcm1hbmNlIGZvciBgQXJyYXlzYC5cbiAqXG4gKiBTaW1pbGFyIHRvIFtBcnJheSNmb3JFYWNoXVtdLCB0aGUgYGNhbGxiYWNrYCBmdW5jdGlvbiBhY2NlcHRzIHRocmVlXG4gKiBhcmd1bWVudHMsIGFuZCBpcyBwcm92aWRlZCB3aXRoIGB0aGlzQXJnYCBhcyB0aGUgY2FsbGluZyBjb250ZXh0LlxuICpcbiAqIE5vdGU6IHByb3ZpZGluZyBhbiBpbmZpbml0ZSBJdGVyYXRvciB0byBmb3JFYWNoIHdpbGwgcHJvZHVjZSBhbiBlcnJvci5cbiAqXG4gKiBbQXJyYXkjZm9yRWFjaF06IGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL0FycmF5L2ZvckVhY2hcbiAqXG4gKiBAZXhhbXBsZVxuICpcbiAqIHZhciBmb3JFYWNoID0gcmVxdWlyZSgnaXRlcmFsbCcpLmZvckVhY2hcbiAqXG4gKiBmb3JFYWNoKG15SXRlcmFibGUsIGZ1bmN0aW9uICh2YWx1ZSwgaW5kZXgsIGl0ZXJhYmxlKSB7XG4gKiAgIGNvbnNvbGUubG9nKHZhbHVlLCBpbmRleCwgaXRlcmFibGUgPT09IG15SXRlcmFibGUpXG4gKiB9KVxuICpcbiAqIEBleGFtcGxlXG4gKlxuICogLy8gRVM2OlxuICogZm9yIChsZXQgdmFsdWUgb2YgbXlJdGVyYWJsZSkge1xuICogICBjb25zb2xlLmxvZyh2YWx1ZSlcbiAqIH1cbiAqXG4gKiAvLyBBbnkgSmF2YVNjcmlwdCBlbnZpcm9ubWVudDpcbiAqIGZvckVhY2gobXlJdGVyYWJsZSwgZnVuY3Rpb24gKHZhbHVlKSB7XG4gKiAgIGNvbnNvbGUubG9nKHZhbHVlKVxuICogfSlcbiAqXG4gKiBAdGVtcGxhdGUgVCB0aGUgdHlwZSBvZiBlYWNoIGl0ZXJhdGVkIHZhbHVlXG4gKiBAcGFyYW0ge0l0ZXJhYmxlPFQ+fHsgbGVuZ3RoOiBudW1iZXIgfX0gY29sbGVjdGlvblxuICogICBUaGUgSXRlcmFibGUgb3IgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICogQHBhcmFtIHtmdW5jdGlvbihULCBudW1iZXIsIG9iamVjdCl9IGNhbGxiYWNrXG4gKiAgIEZ1bmN0aW9uIHRvIGV4ZWN1dGUgZm9yIGVhY2ggaXRlcmF0aW9uLCB0YWtpbmcgdXAgdG8gdGhyZWUgYXJndW1lbnRzXG4gKiBAcGFyYW0gW3RoaXNBcmddXG4gKiAgIE9wdGlvbmFsLiBWYWx1ZSB0byB1c2UgYXMgYHRoaXNgIHdoZW4gZXhlY3V0aW5nIGBjYWxsYmFja2AuXG4gKi9cbi8qOjogZGVjbGFyZSBleHBvcnQgdmFyIGZvckVhY2g6XG4gICYgKDwrVFZhbHVlLCBUQ29sbGVjdGlvbjogSXRlcmFibGU8VFZhbHVlPj4oXG4gICAgICBjb2xsZWN0aW9uOiBUQ29sbGVjdGlvbixcbiAgICAgIGNhbGxiYWNrRm46ICh2YWx1ZTogVFZhbHVlLCBpbmRleDogbnVtYmVyLCBjb2xsZWN0aW9uOiBUQ29sbGVjdGlvbikgPT4gYW55LFxuICAgICAgdGhpc0FyZz86IGFueVxuICAgICkgPT4gdm9pZClcbiAgJiAoPFRDb2xsZWN0aW9uOiB7bGVuZ3RoOiBudW1iZXJ9PihcbiAgICAgIGNvbGxlY3Rpb246IFRDb2xsZWN0aW9uLFxuICAgICAgY2FsbGJhY2tGbjogKHZhbHVlOiBtaXhlZCwgaW5kZXg6IG51bWJlciwgY29sbGVjdGlvbjogVENvbGxlY3Rpb24pID0+IGFueSxcbiAgICAgIHRoaXNBcmc/OiBhbnlcbiAgICApID0+IHZvaWQpOyAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZvckVhY2goY29sbGVjdGlvbiwgY2FsbGJhY2ssIHRoaXNBcmcpIHtcbiAgaWYgKGNvbGxlY3Rpb24gIT0gbnVsbCkge1xuICAgIGlmICh0eXBlb2YgY29sbGVjdGlvbi5mb3JFYWNoID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICByZXR1cm4gY29sbGVjdGlvbi5mb3JFYWNoKGNhbGxiYWNrLCB0aGlzQXJnKVxuICAgIH1cbiAgICB2YXIgaSA9IDBcbiAgICB2YXIgaXRlcmF0b3IgPSBnZXRJdGVyYXRvcihjb2xsZWN0aW9uKVxuICAgIGlmIChpdGVyYXRvcikge1xuICAgICAgdmFyIHN0ZXBcbiAgICAgIHdoaWxlICghKHN0ZXAgPSBpdGVyYXRvci5uZXh0KCkpLmRvbmUpIHtcbiAgICAgICAgY2FsbGJhY2suY2FsbCh0aGlzQXJnLCBzdGVwLnZhbHVlLCBpKyssIGNvbGxlY3Rpb24pXG4gICAgICAgIC8vIEluZmluaXRlIEl0ZXJhdG9ycyBjb3VsZCBjYXVzZSBmb3JFYWNoIHRvIHJ1biBmb3JldmVyLlxuICAgICAgICAvLyBBZnRlciBhIHZlcnkgbGFyZ2UgbnVtYmVyIG9mIGl0ZXJhdGlvbnMsIHByb2R1Y2UgYW4gZXJyb3IuXG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgICBpZiAoaSA+IDk5OTk5OTkpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdOZWFyLWluZmluaXRlIGl0ZXJhdGlvbi4nKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChpc0FycmF5TGlrZShjb2xsZWN0aW9uKSkge1xuICAgICAgZm9yICg7IGkgPCBjb2xsZWN0aW9uLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChjb2xsZWN0aW9uLmhhc093blByb3BlcnR5KGkpKSB7XG4gICAgICAgICAgY2FsbGJhY2suY2FsbCh0aGlzQXJnLCBjb2xsZWN0aW9uW2ldLCBpLCBjb2xsZWN0aW9uKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL1xuLy8gICAgICAgICAgICAgICAgIEFTWU5DIElURVJBVE9SUyAgICAgICAgICAgICAgICAgLy9cbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4vKipcbiAqIFtBc3luY0l0ZXJhYmxlXShodHRwczovL3RjMzkuZ2l0aHViLmlvL3Byb3Bvc2FsLWFzeW5jLWl0ZXJhdGlvbi8jc2VjLWFzeW5jaXRlcmFibGUtaW50ZXJmYWNlKVxuICogaXMgYSAqcHJvdG9jb2wqIHdoaWNoIHdoZW4gaW1wbGVtZW50ZWQgYWxsb3dzIGEgSmF2YVNjcmlwdCBvYmplY3QgdG8gZGVmaW5lXG4gKiBhbiBhc3luY2hyb25vdXMgaXRlcmF0aW9uIGJlaGF2aW9yLCBzdWNoIGFzIHdoYXQgdmFsdWVzIGFyZSBsb29wZWQgb3ZlciBpblxuICogYSBbYGZvci1hd2FpdC1vZmBdKGh0dHBzOi8vdGMzOS5naXRodWIuaW8vcHJvcG9zYWwtYXN5bmMtaXRlcmF0aW9uLyNzZWMtZm9yLWluLWFuZC1mb3Itb2Ytc3RhdGVtZW50cylcbiAqIGxvb3Agb3IgYGl0ZXJhbGxgJ3Mge0BsaW5rIGZvckF3YWl0RWFjaH0gZnVuY3Rpb24uXG4gKlxuICogV2hpbGUgZGVzY3JpYmVkIGFzIGEgcHJvcG9zZWQgYWRkaXRpb24gdG8gdGhlIFtFUzIwMTcgdmVyc2lvbiBvZiBKYXZhU2NyaXB0XShodHRwczovL3RjMzkuZ2l0aHViLmlvL3Byb3Bvc2FsLWFzeW5jLWl0ZXJhdGlvbi8pXG4gKiBpdCBjYW4gYmUgdXRpbGl6ZWQgYnkgYW55IHZlcnNpb24gb2YgSmF2YVNjcmlwdC5cbiAqXG4gKiBAZXh0ZXJuYWwgQXN5bmNJdGVyYWJsZVxuICogQHNlZSB7QGxpbmsgaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9wcm9wb3NhbC1hc3luYy1pdGVyYXRpb24vI3NlYy1hc3luY2l0ZXJhYmxlLWludGVyZmFjZXxBc3luYyBJdGVyYXRpb24gUHJvcG9zYWx9XG4gKiBAdGVtcGxhdGUgVCBUaGUgdHlwZSBvZiBlYWNoIGl0ZXJhdGVkIHZhbHVlXG4gKiBAcHJvcGVydHkge2Z1bmN0aW9uICgpOiBBc3luY0l0ZXJhdG9yPFQ+fSBTeW1ib2wuYXN5bmNJdGVyYXRvclxuICogICBBIG1ldGhvZCB3aGljaCBwcm9kdWNlcyBhbiBBc3luY0l0ZXJhdG9yIGZvciB0aGlzIEFzeW5jSXRlcmFibGUuXG4gKi9cblxuLyoqXG4gKiBbQXN5bmNJdGVyYXRvcl0oaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9wcm9wb3NhbC1hc3luYy1pdGVyYXRpb24vI3NlYy1hc3luY2l0ZXJhdG9yLWludGVyZmFjZSlcbiAqIGlzIGEgKnByb3RvY29sKiB3aGljaCBkZXNjcmliZXMgYSBzdGFuZGFyZCB3YXkgdG8gcHJvZHVjZSBhbmQgY29uc3VtZSBhblxuICogYXN5bmNocm9ub3VzIHNlcXVlbmNlIG9mIHZhbHVlcywgdHlwaWNhbGx5IHRoZSB2YWx1ZXMgb2YgdGhlXG4gKiB7QGxpbmsgQXN5bmNJdGVyYWJsZX0gcmVwcmVzZW50ZWQgYnkgdGhpcyB7QGxpbmsgQXN5bmNJdGVyYXRvcn0uXG4gKlxuICogQXN5bmNJdGVyYXRvciBpcyBzaW1pbGFyIHRvIE9ic2VydmFibGUgb3IgU3RyZWFtLiBMaWtlIGFuIHtAbGluayBJdGVyYXRvcn0gaXRcbiAqIGFsc28gYXMgYSBgbmV4dCgpYCBtZXRob2QsIGhvd2V2ZXIgaW5zdGVhZCBvZiBhbiBJdGVyYXRvclJlc3VsdCxcbiAqIGNhbGxpbmcgdGhpcyBtZXRob2QgcmV0dXJucyBhIHtAbGluayBQcm9taXNlfSBmb3IgYSBJdGVyYXRvclJlc3VsdC5cbiAqXG4gKiBXaGlsZSBkZXNjcmliZWQgYXMgYSBwcm9wb3NlZCBhZGRpdGlvbiB0byB0aGUgW0VTMjAxNyB2ZXJzaW9uIG9mIEphdmFTY3JpcHRdKGh0dHBzOi8vdGMzOS5naXRodWIuaW8vcHJvcG9zYWwtYXN5bmMtaXRlcmF0aW9uLylcbiAqIGl0IGNhbiBiZSB1dGlsaXplZCBieSBhbnkgdmVyc2lvbiBvZiBKYXZhU2NyaXB0LlxuICpcbiAqIEBleHRlcm5hbCBBc3luY0l0ZXJhdG9yXG4gKiBAc2VlIHtAbGluayBodHRwczovL3RjMzkuZ2l0aHViLmlvL3Byb3Bvc2FsLWFzeW5jLWl0ZXJhdGlvbi8jc2VjLWFzeW5jaXRlcmF0b3ItaW50ZXJmYWNlfEFzeW5jIEl0ZXJhdGlvbiBQcm9wb3NhbH1cbiAqL1xuXG4vLyBJbiBFUzIwMTcgKG9yIGEgcG9seWZpbGxlZCkgZW52aXJvbm1lbnQsIHRoaXMgd2lsbCBiZSBTeW1ib2wuYXN5bmNJdGVyYXRvclxudmFyIFNZTUJPTF9BU1lOQ19JVEVSQVRPUiA9IFNZTUJPTCAmJiBTWU1CT0wuYXN5bmNJdGVyYXRvclxuXG4vKipcbiAqIEEgcHJvcGVydHkgbmFtZSB0byBiZSB1c2VkIGFzIHRoZSBuYW1lIG9mIGFuIEFzeW5jSXRlcmFibGUncyBtZXRob2RcbiAqIHJlc3BvbnNpYmxlIGZvciBwcm9kdWNpbmcgYW4gSXRlcmF0b3IsIHJlZmVycmVkIHRvIGFzIGBAQGFzeW5jSXRlcmF0b3JgLlxuICogVHlwaWNhbGx5IHJlcHJlc2VudHMgdGhlIHZhbHVlIGBTeW1ib2wuYXN5bmNJdGVyYXRvcmAgYnV0IGZhbGxzIGJhY2sgdG8gdGhlXG4gKiBzdHJpbmcgYFwiQEBhc3luY0l0ZXJhdG9yXCJgIHdoZW4gYFN5bWJvbC5hc3luY0l0ZXJhdG9yYCBpcyBub3QgZGVmaW5lZC5cbiAqXG4gKiBVc2UgYCQkYXN5bmNJdGVyYXRvcmAgZm9yIGRlZmluaW5nIG5ldyBBc3luY0l0ZXJhYmxlcyBpbnN0ZWFkIG9mXG4gKiBgU3ltYm9sLmFzeW5jSXRlcmF0b3JgLCBidXQgZG8gbm90IHVzZSBpdCBmb3IgYWNjZXNzaW5nIGV4aXN0aW5nIEl0ZXJhYmxlcyxcbiAqIGluc3RlYWQgdXNlIHtAbGluayBnZXRBc3luY0l0ZXJhdG9yfSBvciB7QGxpbmsgaXNBc3luY0l0ZXJhYmxlfS5cbiAqXG4gKiBAZXhhbXBsZVxuICpcbiAqIHZhciAkJGFzeW5jSXRlcmF0b3IgPSByZXF1aXJlKCdpdGVyYWxsJykuJCRhc3luY0l0ZXJhdG9yXG4gKlxuICogZnVuY3Rpb24gQ2hpcnBlciAodG8pIHtcbiAqICAgdGhpcy50byA9IHRvXG4gKiB9XG4gKlxuICogQ2hpcnBlci5wcm90b3R5cGVbJCRhc3luY0l0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHtcbiAqICAgcmV0dXJuIHtcbiAqICAgICB0bzogdGhpcy50byxcbiAqICAgICBudW06IDAsXG4gKiAgICAgbmV4dCAoKSB7XG4gKiAgICAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gKiAgICAgICAgIGlmICh0aGlzLm51bSA+PSB0aGlzLnRvKSB7XG4gKiAgICAgICAgICAgcmVzb2x2ZSh7IHZhbHVlOiB1bmRlZmluZWQsIGRvbmU6IHRydWUgfSlcbiAqICAgICAgICAgfSBlbHNlIHtcbiAqICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAqICAgICAgICAgICAgIHJlc29sdmUoeyB2YWx1ZTogdGhpcy5udW0rKywgZG9uZTogZmFsc2UgfSlcbiAqICAgICAgICAgICB9LCAxMDAwKVxuICogICAgICAgICB9XG4gKiAgICAgICB9KVxuICogICAgIH1cbiAqICAgfVxuICogfVxuICpcbiAqIHZhciBjaGlycGVyID0gbmV3IENoaXJwZXIoMylcbiAqIGZvciBhd2FpdCAodmFyIG51bWJlciBvZiBjaGlycGVyKSB7XG4gKiAgIGNvbnNvbGUubG9nKG51bWJlcikgLy8gMCAuLi53YWl0Li4uIDEgLi4ud2FpdC4uLiAyXG4gKiB9XG4gKlxuICogQHR5cGUge1N5bWJvbHxzdHJpbmd9XG4gKi9cbi8qOjogZGVjbGFyZSBleHBvcnQgdmFyICQkYXN5bmNJdGVyYXRvcjogJ0BAYXN5bmNJdGVyYXRvcic7ICovXG5leHBvcnQgdmFyICQkYXN5bmNJdGVyYXRvciA9IFNZTUJPTF9BU1lOQ19JVEVSQVRPUiB8fCAnQEBhc3luY0l0ZXJhdG9yJ1xuXG4vKipcbiAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgcHJvdmlkZWQgb2JqZWN0IGltcGxlbWVudHMgdGhlIEFzeW5jSXRlcmF0b3IgcHJvdG9jb2wgdmlhXG4gKiBlaXRoZXIgaW1wbGVtZW50aW5nIGEgYFN5bWJvbC5hc3luY0l0ZXJhdG9yYCBvciBgXCJAQGFzeW5jSXRlcmF0b3JcImAgbWV0aG9kLlxuICpcbiAqIEBleGFtcGxlXG4gKlxuICogdmFyIGlzQXN5bmNJdGVyYWJsZSA9IHJlcXVpcmUoJ2l0ZXJhbGwnKS5pc0FzeW5jSXRlcmFibGVcbiAqIGlzQXN5bmNJdGVyYWJsZShteVN0cmVhbSkgLy8gdHJ1ZVxuICogaXNBc3luY0l0ZXJhYmxlKCdBQkMnKSAvLyBmYWxzZVxuICpcbiAqIEBwYXJhbSBvYmpcbiAqICAgQSB2YWx1ZSB3aGljaCBtaWdodCBpbXBsZW1lbnQgdGhlIEFzeW5jSXRlcmFibGUgcHJvdG9jb2wuXG4gKiBAcmV0dXJuIHtib29sZWFufSB0cnVlIGlmIEFzeW5jSXRlcmFibGUuXG4gKi9cbi8qOjogZGVjbGFyZSBleHBvcnQgZnVuY3Rpb24gaXNBc3luY0l0ZXJhYmxlKG9iajogYW55KTogYm9vbGVhbjsgKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0FzeW5jSXRlcmFibGUob2JqKSB7XG4gIHJldHVybiAhIWdldEFzeW5jSXRlcmF0b3JNZXRob2Qob2JqKVxufVxuXG4vKipcbiAqIElmIHRoZSBwcm92aWRlZCBvYmplY3QgaW1wbGVtZW50cyB0aGUgQXN5bmNJdGVyYXRvciBwcm90b2NvbCwgaXRzXG4gKiBBc3luY0l0ZXJhdG9yIG9iamVjdCBpcyByZXR1cm5lZC4gT3RoZXJ3aXNlIHJldHVybnMgdW5kZWZpbmVkLlxuICpcbiAqIEBleGFtcGxlXG4gKlxuICogdmFyIGdldEFzeW5jSXRlcmF0b3IgPSByZXF1aXJlKCdpdGVyYWxsJykuZ2V0QXN5bmNJdGVyYXRvclxuICogdmFyIGFzeW5jSXRlcmF0b3IgPSBnZXRBc3luY0l0ZXJhdG9yKG15U3RyZWFtKVxuICogYXN5bmNJdGVyYXRvci5uZXh0KCkudGhlbihjb25zb2xlLmxvZykgLy8geyB2YWx1ZTogMSwgZG9uZTogZmFsc2UgfVxuICogYXN5bmNJdGVyYXRvci5uZXh0KCkudGhlbihjb25zb2xlLmxvZykgLy8geyB2YWx1ZTogMiwgZG9uZTogZmFsc2UgfVxuICogYXN5bmNJdGVyYXRvci5uZXh0KCkudGhlbihjb25zb2xlLmxvZykgLy8geyB2YWx1ZTogMywgZG9uZTogZmFsc2UgfVxuICogYXN5bmNJdGVyYXRvci5uZXh0KCkudGhlbihjb25zb2xlLmxvZykgLy8geyB2YWx1ZTogdW5kZWZpbmVkLCBkb25lOiB0cnVlIH1cbiAqXG4gKiBAdGVtcGxhdGUgVCB0aGUgdHlwZSBvZiBlYWNoIGl0ZXJhdGVkIHZhbHVlXG4gKiBAcGFyYW0ge0FzeW5jSXRlcmFibGU8VD59IGFzeW5jSXRlcmFibGVcbiAqICAgQW4gQXN5bmNJdGVyYWJsZSBvYmplY3Qgd2hpY2ggaXMgdGhlIHNvdXJjZSBvZiBhbiBBc3luY0l0ZXJhdG9yLlxuICogQHJldHVybiB7QXN5bmNJdGVyYXRvcjxUPn0gbmV3IEFzeW5jSXRlcmF0b3IgaW5zdGFuY2UuXG4gKi9cbi8qOjogZGVjbGFyZSBleHBvcnQgdmFyIGdldEFzeW5jSXRlcmF0b3I6XG4gICYgKDwrVFZhbHVlPihhc3luY0l0ZXJhYmxlOiBBc3luY0l0ZXJhYmxlPFRWYWx1ZT4pID0+IEFzeW5jSXRlcmF0b3I8VFZhbHVlPilcbiAgJiAoKGFzeW5jSXRlcmFibGU6IG1peGVkKSA9PiAodm9pZCB8IEFzeW5jSXRlcmF0b3I8bWl4ZWQ+KSk7ICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0QXN5bmNJdGVyYXRvcihhc3luY0l0ZXJhYmxlKSB7XG4gIHZhciBtZXRob2QgPSBnZXRBc3luY0l0ZXJhdG9yTWV0aG9kKGFzeW5jSXRlcmFibGUpXG4gIGlmIChtZXRob2QpIHtcbiAgICByZXR1cm4gbWV0aG9kLmNhbGwoYXN5bmNJdGVyYWJsZSlcbiAgfVxufVxuXG4vKipcbiAqIElmIHRoZSBwcm92aWRlZCBvYmplY3QgaW1wbGVtZW50cyB0aGUgQXN5bmNJdGVyYXRvciBwcm90b2NvbCwgdGhlIG1ldGhvZFxuICogcmVzcG9uc2libGUgZm9yIHByb2R1Y2luZyBpdHMgQXN5bmNJdGVyYXRvciBvYmplY3QgaXMgcmV0dXJuZWQuXG4gKlxuICogVGhpcyBpcyB1c2VkIGluIHJhcmUgY2FzZXMgZm9yIHBlcmZvcm1hbmNlIHR1bmluZy4gVGhpcyBtZXRob2QgbXVzdCBiZSBjYWxsZWRcbiAqIHdpdGggb2JqIGFzIHRoZSBjb250ZXh0dWFsIHRoaXMtYXJndW1lbnQuXG4gKlxuICogQGV4YW1wbGVcbiAqXG4gKiB2YXIgZ2V0QXN5bmNJdGVyYXRvck1ldGhvZCA9IHJlcXVpcmUoJ2l0ZXJhbGwnKS5nZXRBc3luY0l0ZXJhdG9yTWV0aG9kXG4gKiB2YXIgbWV0aG9kID0gZ2V0QXN5bmNJdGVyYXRvck1ldGhvZChteVN0cmVhbSlcbiAqIGlmIChtZXRob2QpIHtcbiAqICAgdmFyIGFzeW5jSXRlcmF0b3IgPSBtZXRob2QuY2FsbChteVN0cmVhbSlcbiAqIH1cbiAqXG4gKiBAdGVtcGxhdGUgVCB0aGUgdHlwZSBvZiBlYWNoIGl0ZXJhdGVkIHZhbHVlXG4gKiBAcGFyYW0ge0FzeW5jSXRlcmFibGU8VD59IGFzeW5jSXRlcmFibGVcbiAqICAgQW4gQXN5bmNJdGVyYWJsZSBvYmplY3Qgd2hpY2ggZGVmaW5lcyBhbiBgQEBhc3luY0l0ZXJhdG9yYCBtZXRob2QuXG4gKiBAcmV0dXJuIHtmdW5jdGlvbigpOiBBc3luY0l0ZXJhdG9yPFQ+fSBgQEBhc3luY0l0ZXJhdG9yYCBtZXRob2QuXG4gKi9cbi8qOjogZGVjbGFyZSBleHBvcnQgdmFyIGdldEFzeW5jSXRlcmF0b3JNZXRob2Q6XG4gICYgKDwrVFZhbHVlPihhc3luY0l0ZXJhYmxlOiBBc3luY0l0ZXJhYmxlPFRWYWx1ZT4pID0+ICgoKSA9PiBBc3luY0l0ZXJhdG9yPFRWYWx1ZT4pKVxuICAmICgoYXN5bmNJdGVyYWJsZTogbWl4ZWQpID0+ICh2b2lkIHwgKCgpID0+IEFzeW5jSXRlcmF0b3I8bWl4ZWQ+KSkpOyAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEFzeW5jSXRlcmF0b3JNZXRob2QoYXN5bmNJdGVyYWJsZSkge1xuICBpZiAoYXN5bmNJdGVyYWJsZSAhPSBudWxsKSB7XG4gICAgdmFyIG1ldGhvZCA9XG4gICAgICAoU1lNQk9MX0FTWU5DX0lURVJBVE9SICYmIGFzeW5jSXRlcmFibGVbU1lNQk9MX0FTWU5DX0lURVJBVE9SXSkgfHxcbiAgICAgIGFzeW5jSXRlcmFibGVbJ0BAYXN5bmNJdGVyYXRvciddXG4gICAgaWYgKHR5cGVvZiBtZXRob2QgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHJldHVybiBtZXRob2RcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBTaW1pbGFyIHRvIHtAbGluayBnZXRBc3luY0l0ZXJhdG9yfSwgdGhpcyBtZXRob2QgcmV0dXJucyBhIG5ldyBBc3luY0l0ZXJhdG9yXG4gKiBnaXZlbiBhbiBBc3luY0l0ZXJhYmxlLiBIb3dldmVyIGl0IHdpbGwgYWxzbyBjcmVhdGUgYW4gQXN5bmNJdGVyYXRvciBmb3IgYVxuICogbm9uLWFzeW5jIEl0ZXJhYmxlIGFzIHdlbGwgYXMgbm9uLUl0ZXJhYmxlIEFycmF5LWxpa2UgY29sbGVjdGlvbiwgc3VjaCBhc1xuICogQXJyYXkgaW4gYSBwcmUtRVMyMDE1IGVudmlyb25tZW50LlxuICpcbiAqIGBjcmVhdGVBc3luY0l0ZXJhdG9yYCBpcyBjb21wbGltZW50YXJ5IHRvIGBmb3JBd2FpdEVhY2hgLCBidXQgYWxsb3dzIGFcbiAqIGJ1ZmZlcmluZyBcInB1bGxcIi1iYXNlZCBpdGVyYXRpb24gYXMgb3Bwb3NlZCB0byBgZm9yQXdhaXRFYWNoYCdzXG4gKiBcInB1c2hcIi1iYXNlZCBpdGVyYXRpb24uXG4gKlxuICogYGNyZWF0ZUFzeW5jSXRlcmF0b3JgIHByb2R1Y2VzIGFuIEFzeW5jSXRlcmF0b3IgZm9yIG5vbi1hc3luYyBJdGVyYWJsZXMgYXNcbiAqIGRlc2NyaWJlZCBpbiB0aGUgRUNNQVNjcmlwdCBwcm9wb3NhbCBbQXN5bmMtZnJvbS1TeW5jIEl0ZXJhdG9yIE9iamVjdHNdKGh0dHBzOi8vdGMzOS5naXRodWIuaW8vcHJvcG9zYWwtYXN5bmMtaXRlcmF0aW9uLyNzZWMtYXN5bmMtZnJvbS1zeW5jLWl0ZXJhdG9yLW9iamVjdHMpLlxuICpcbiAqID4gTm90ZTogQ3JlYXRpbmcgYEFzeW5jSXRlcmF0b3JgcyByZXF1aXJlcyB0aGUgZXhpc3RlbmNlIG9mIGBQcm9taXNlYC5cbiAqID4gV2hpbGUgYFByb21pc2VgIGhhcyBiZWVuIGF2YWlsYWJsZSBpbiBtb2Rlcm4gYnJvd3NlcnMgZm9yIGEgbnVtYmVyIG9mXG4gKiA+IHllYXJzLCBsZWdhY3kgYnJvd3NlcnMgKGxpa2UgSUUgMTEpIG1heSByZXF1aXJlIGEgcG9seWZpbGwuXG4gKlxuICogQGV4YW1wbGVcbiAqXG4gKiB2YXIgY3JlYXRlQXN5bmNJdGVyYXRvciA9IHJlcXVpcmUoJ2l0ZXJhbGwnKS5jcmVhdGVBc3luY0l0ZXJhdG9yXG4gKlxuICogdmFyIG15QXJyYXlsaWtlID0geyBsZW5ndGg6IDMsIDA6ICdBbHBoYScsIDE6ICdCcmF2bycsIDI6ICdDaGFybGllJyB9XG4gKiB2YXIgaXRlcmF0b3IgPSBjcmVhdGVBc3luY0l0ZXJhdG9yKG15QXJyYXlsaWtlKVxuICogaXRlcmF0b3IubmV4dCgpLnRoZW4oY29uc29sZS5sb2cpIC8vIHsgdmFsdWU6ICdBbHBoYScsIGRvbmU6IGZhbHNlIH1cbiAqIGl0ZXJhdG9yLm5leHQoKS50aGVuKGNvbnNvbGUubG9nKSAvLyB7IHZhbHVlOiAnQnJhdm8nLCBkb25lOiBmYWxzZSB9XG4gKiBpdGVyYXRvci5uZXh0KCkudGhlbihjb25zb2xlLmxvZykgLy8geyB2YWx1ZTogJ0NoYXJsaWUnLCBkb25lOiBmYWxzZSB9XG4gKiBpdGVyYXRvci5uZXh0KCkudGhlbihjb25zb2xlLmxvZykgLy8geyB2YWx1ZTogdW5kZWZpbmVkLCBkb25lOiB0cnVlIH1cbiAqXG4gKiBAdGVtcGxhdGUgVCB0aGUgdHlwZSBvZiBlYWNoIGl0ZXJhdGVkIHZhbHVlXG4gKiBAcGFyYW0ge0FzeW5jSXRlcmFibGU8VD58SXRlcmFibGU8VD58eyBsZW5ndGg6IG51bWJlciB9fSBzb3VyY2VcbiAqICAgQW4gQXN5bmNJdGVyYWJsZSwgSXRlcmFibGUsIG9yIEFycmF5LWxpa2Ugb2JqZWN0IHRvIHByb2R1Y2UgYW4gSXRlcmF0b3IuXG4gKiBAcmV0dXJuIHtBc3luY0l0ZXJhdG9yPFQ+fSBuZXcgQXN5bmNJdGVyYXRvciBpbnN0YW5jZS5cbiAqL1xuLyo6OiBkZWNsYXJlIGV4cG9ydCB2YXIgY3JlYXRlQXN5bmNJdGVyYXRvcjpcbiAgJiAoPCtUVmFsdWU+KFxuICAgICAgY29sbGVjdGlvbjogSXRlcmFibGU8UHJvbWlzZTxUVmFsdWU+IHwgVFZhbHVlPiB8IEFzeW5jSXRlcmFibGU8VFZhbHVlPlxuICAgICkgPT4gQXN5bmNJdGVyYXRvcjxUVmFsdWU+KVxuICAmICgoY29sbGVjdGlvbjoge2xlbmd0aDogbnVtYmVyfSkgPT4gQXN5bmNJdGVyYXRvcjxtaXhlZD4pXG4gICYgKChjb2xsZWN0aW9uOiBtaXhlZCkgPT4gKHZvaWQgfCBBc3luY0l0ZXJhdG9yPG1peGVkPikpOyAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUFzeW5jSXRlcmF0b3Ioc291cmNlKSB7XG4gIGlmIChzb3VyY2UgIT0gbnVsbCkge1xuICAgIHZhciBhc3luY0l0ZXJhdG9yID0gZ2V0QXN5bmNJdGVyYXRvcihzb3VyY2UpXG4gICAgaWYgKGFzeW5jSXRlcmF0b3IpIHtcbiAgICAgIHJldHVybiBhc3luY0l0ZXJhdG9yXG4gICAgfVxuICAgIHZhciBpdGVyYXRvciA9IGNyZWF0ZUl0ZXJhdG9yKHNvdXJjZSlcbiAgICBpZiAoaXRlcmF0b3IpIHtcbiAgICAgIHJldHVybiBuZXcgQXN5bmNGcm9tU3luY0l0ZXJhdG9yKGl0ZXJhdG9yKVxuICAgIH1cbiAgfVxufVxuXG4vLyBXaGVuIHRoZSBvYmplY3QgcHJvdmlkZWQgdG8gYGNyZWF0ZUFzeW5jSXRlcmF0b3JgIGlzIG5vdCBBc3luY0l0ZXJhYmxlIGJ1dCBpc1xuLy8gc3luYyBJdGVyYWJsZSwgdGhpcyBzaW1wbGUgd3JhcHBlciBpcyBjcmVhdGVkLlxuZnVuY3Rpb24gQXN5bmNGcm9tU3luY0l0ZXJhdG9yKGl0ZXJhdG9yKSB7XG4gIHRoaXMuX2kgPSBpdGVyYXRvclxufVxuXG4vLyBOb3RlOiBhbGwgQXN5bmNJdGVyYXRvcnMgYXJlIHRoZW1zZWx2ZXMgQXN5bmNJdGVyYWJsZS5cbkFzeW5jRnJvbVN5bmNJdGVyYXRvci5wcm90b3R5cGVbJCRhc3luY0l0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpc1xufVxuXG4vLyBBIHNpbXBsZSBzdGF0ZS1tYWNoaW5lIGRldGVybWluZXMgdGhlIEl0ZXJhdG9yUmVzdWx0IHJldHVybmVkLCB5aWVsZGluZ1xuLy8gZWFjaCB2YWx1ZSBpbiB0aGUgQXJyYXktbGlrZSBvYmplY3QgaW4gb3JkZXIgb2YgdGhlaXIgaW5kaWNpZXMuXG5Bc3luY0Zyb21TeW5jSXRlcmF0b3IucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbih2YWx1ZSkge1xuICByZXR1cm4gdW53cmFwQXN5bmNGcm9tU3luYyh0aGlzLl9pLCAnbmV4dCcsIHZhbHVlKVxufVxuXG5Bc3luY0Zyb21TeW5jSXRlcmF0b3IucHJvdG90eXBlLnJldHVybiA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gIHJldHVybiB0aGlzLl9pLnJldHVyblxuICAgID8gdW53cmFwQXN5bmNGcm9tU3luYyh0aGlzLl9pLCAncmV0dXJuJywgdmFsdWUpXG4gICAgOiBQcm9taXNlLnJlc29sdmUoeyB2YWx1ZTogdmFsdWUsIGRvbmU6IHRydWUgfSlcbn1cblxuQXN5bmNGcm9tU3luY0l0ZXJhdG9yLnByb3RvdHlwZS50aHJvdyA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gIHJldHVybiB0aGlzLl9pLnRocm93XG4gICAgPyB1bndyYXBBc3luY0Zyb21TeW5jKHRoaXMuX2ksICd0aHJvdycsIHZhbHVlKVxuICAgIDogUHJvbWlzZS5yZWplY3QodmFsdWUpXG59XG5cbmZ1bmN0aW9uIHVud3JhcEFzeW5jRnJvbVN5bmMoaXRlcmF0b3IsIGZuLCB2YWx1ZSkge1xuICB2YXIgc3RlcFxuICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSkge1xuICAgIHN0ZXAgPSBpdGVyYXRvcltmbl0odmFsdWUpXG4gICAgcmVzb2x2ZShzdGVwLnZhbHVlKVxuICB9KS50aGVuKGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgcmV0dXJuIHsgdmFsdWU6IHZhbHVlLCBkb25lOiBzdGVwLmRvbmUgfVxuICB9KVxufVxuXG4vKipcbiAqIEdpdmVuIGFuIG9iamVjdCB3aGljaCBlaXRoZXIgaW1wbGVtZW50cyB0aGUgQXN5bmNJdGVyYWJsZSBwcm90b2NvbCBvciBpc1xuICogQXJyYXktbGlrZSwgaXRlcmF0ZSBvdmVyIGl0LCBjYWxsaW5nIHRoZSBgY2FsbGJhY2tgIGF0IGVhY2ggaXRlcmF0aW9uLlxuICpcbiAqIFVzZSBgZm9yQXdhaXRFYWNoYCB3aGVyZSB5b3Ugd291bGQgZXhwZWN0IHRvIHVzZSBhIFtmb3ItYXdhaXQtb2ZdKGh0dHBzOi8vdGMzOS5naXRodWIuaW8vcHJvcG9zYWwtYXN5bmMtaXRlcmF0aW9uLyNzZWMtZm9yLWluLWFuZC1mb3Itb2Ytc3RhdGVtZW50cykgbG9vcC5cbiAqXG4gKiBTaW1pbGFyIHRvIFtBcnJheSNmb3JFYWNoXVtdLCB0aGUgYGNhbGxiYWNrYCBmdW5jdGlvbiBhY2NlcHRzIHRocmVlXG4gKiBhcmd1bWVudHMsIGFuZCBpcyBwcm92aWRlZCB3aXRoIGB0aGlzQXJnYCBhcyB0aGUgY2FsbGluZyBjb250ZXh0LlxuICpcbiAqID4gTm90ZTogVXNpbmcgYGZvckF3YWl0RWFjaGAgcmVxdWlyZXMgdGhlIGV4aXN0ZW5jZSBvZiBgUHJvbWlzZWAuXG4gKiA+IFdoaWxlIGBQcm9taXNlYCBoYXMgYmVlbiBhdmFpbGFibGUgaW4gbW9kZXJuIGJyb3dzZXJzIGZvciBhIG51bWJlciBvZlxuICogPiB5ZWFycywgbGVnYWN5IGJyb3dzZXJzIChsaWtlIElFIDExKSBtYXkgcmVxdWlyZSBhIHBvbHlmaWxsLlxuICpcbiAqIEBleGFtcGxlXG4gKlxuICogdmFyIGZvckF3YWl0RWFjaCA9IHJlcXVpcmUoJ2l0ZXJhbGwnKS5mb3JBd2FpdEVhY2hcbiAqXG4gKiBmb3JBd2FpdEVhY2gobXlJdGVyYWJsZSwgZnVuY3Rpb24gKHZhbHVlLCBpbmRleCwgaXRlcmFibGUpIHtcbiAqICAgY29uc29sZS5sb2codmFsdWUsIGluZGV4LCBpdGVyYWJsZSA9PT0gbXlJdGVyYWJsZSlcbiAqIH0pXG4gKlxuICogQGV4YW1wbGVcbiAqXG4gKiAvLyBFUzIwMTc6XG4gKiBmb3IgYXdhaXQgKGxldCB2YWx1ZSBvZiBteUFzeW5jSXRlcmFibGUpIHtcbiAqICAgY29uc29sZS5sb2coYXdhaXQgZG9Tb21ldGhpbmdBc3luYyh2YWx1ZSkpXG4gKiB9XG4gKiBjb25zb2xlLmxvZygnZG9uZScpXG4gKlxuICogLy8gQW55IEphdmFTY3JpcHQgZW52aXJvbm1lbnQ6XG4gKiBmb3JBd2FpdEVhY2gobXlBc3luY0l0ZXJhYmxlLCBmdW5jdGlvbiAodmFsdWUpIHtcbiAqICAgcmV0dXJuIGRvU29tZXRoaW5nQXN5bmModmFsdWUpLnRoZW4oY29uc29sZS5sb2cpXG4gKiB9KS50aGVuKGZ1bmN0aW9uICgpIHtcbiAqICAgY29uc29sZS5sb2coJ2RvbmUnKVxuICogfSlcbiAqXG4gKiBAdGVtcGxhdGUgVCB0aGUgdHlwZSBvZiBlYWNoIGl0ZXJhdGVkIHZhbHVlXG4gKiBAcGFyYW0ge0FzeW5jSXRlcmFibGU8VD58SXRlcmFibGU8UHJvbWlzZTxUPiB8IFQ+fHsgbGVuZ3RoOiBudW1iZXIgfX0gc291cmNlXG4gKiAgIFRoZSBBc3luY0l0ZXJhYmxlIG9yIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAqIEBwYXJhbSB7ZnVuY3Rpb24oVCwgbnVtYmVyLCBvYmplY3QpfSBjYWxsYmFja1xuICogICBGdW5jdGlvbiB0byBleGVjdXRlIGZvciBlYWNoIGl0ZXJhdGlvbiwgdGFraW5nIHVwIHRvIHRocmVlIGFyZ3VtZW50c1xuICogQHBhcmFtIFt0aGlzQXJnXVxuICogICBPcHRpb25hbC4gVmFsdWUgdG8gdXNlIGFzIGB0aGlzYCB3aGVuIGV4ZWN1dGluZyBgY2FsbGJhY2tgLlxuICovXG4vKjo6IGRlY2xhcmUgZXhwb3J0IHZhciBmb3JBd2FpdEVhY2g6XG4gICYgKDwrVFZhbHVlLCBUQ29sbGVjdGlvbjogSXRlcmFibGU8UHJvbWlzZTxUVmFsdWU+IHwgVFZhbHVlPiB8IEFzeW5jSXRlcmFibGU8VFZhbHVlPj4oXG4gICAgICBjb2xsZWN0aW9uOiBUQ29sbGVjdGlvbixcbiAgICAgIGNhbGxiYWNrRm46ICh2YWx1ZTogVFZhbHVlLCBpbmRleDogbnVtYmVyLCBjb2xsZWN0aW9uOiBUQ29sbGVjdGlvbikgPT4gYW55LFxuICAgICAgdGhpc0FyZz86IGFueVxuICAgICkgPT4gUHJvbWlzZTx2b2lkPilcbiAgJiAoPFRDb2xsZWN0aW9uOiB7IGxlbmd0aDogbnVtYmVyIH0+KFxuICAgICAgY29sbGVjdGlvbjogVENvbGxlY3Rpb24sXG4gICAgICBjYWxsYmFja0ZuOiAodmFsdWU6IG1peGVkLCBpbmRleDogbnVtYmVyLCBjb2xsZWN0aW9uOiBUQ29sbGVjdGlvbikgPT4gYW55LFxuICAgICAgdGhpc0FyZz86IGFueVxuICAgICkgPT4gUHJvbWlzZTx2b2lkPik7ICovXG5leHBvcnQgZnVuY3Rpb24gZm9yQXdhaXRFYWNoKHNvdXJjZSwgY2FsbGJhY2ssIHRoaXNBcmcpIHtcbiAgdmFyIGFzeW5jSXRlcmF0b3IgPSBjcmVhdGVBc3luY0l0ZXJhdG9yKHNvdXJjZSlcbiAgaWYgKGFzeW5jSXRlcmF0b3IpIHtcbiAgICB2YXIgaSA9IDBcbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICBmdW5jdGlvbiBuZXh0KCkge1xuICAgICAgICBhc3luY0l0ZXJhdG9yXG4gICAgICAgICAgLm5leHQoKVxuICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKHN0ZXApIHtcbiAgICAgICAgICAgIGlmICghc3RlcC5kb25lKSB7XG4gICAgICAgICAgICAgIFByb21pc2UucmVzb2x2ZShjYWxsYmFjay5jYWxsKHRoaXNBcmcsIHN0ZXAudmFsdWUsIGkrKywgc291cmNlKSlcbiAgICAgICAgICAgICAgICAudGhlbihuZXh0KVxuICAgICAgICAgICAgICAgIC5jYXRjaChyZWplY3QpXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICByZXNvbHZlKClcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIEV4cGxpY2l0bHkgcmV0dXJuIG51bGwsIHNpbGVuY2luZyBibHVlYmlyZC1zdHlsZSB3YXJuaW5ncy5cbiAgICAgICAgICAgIHJldHVybiBudWxsXG4gICAgICAgICAgfSlcbiAgICAgICAgICAuY2F0Y2gocmVqZWN0KVxuICAgICAgICAvLyBFeHBsaWNpdGx5IHJldHVybiBudWxsLCBzaWxlbmNpbmcgYmx1ZWJpcmQtc3R5bGUgd2FybmluZ3MuXG4gICAgICAgIHJldHVybiBudWxsXG4gICAgICB9XG4gICAgICBuZXh0KClcbiAgICB9KVxuICB9XG59XG4iLCIvKipcbiAqIDIwMDctMjAyMCBQcmVzdGFTaG9wIGFuZCBDb250cmlidXRvcnNcbiAqXG4gKiBOT1RJQ0UgT0YgTElDRU5TRVxuICpcbiAqIFRoaXMgc291cmNlIGZpbGUgaXMgc3ViamVjdCB0byB0aGUgQWNhZGVtaWMgRnJlZSBMaWNlbnNlIDMuMCAoQUZMLTMuMClcbiAqIHRoYXQgaXMgYnVuZGxlZCB3aXRoIHRoaXMgcGFja2FnZSBpbiB0aGUgZmlsZSBMSUNFTlNFLnR4dC5cbiAqIEl0IGlzIGFsc28gYXZhaWxhYmxlIHRocm91Z2ggdGhlIHdvcmxkLXdpZGUtd2ViIGF0IHRoaXMgVVJMOlxuICogaHR0cHM6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9BRkwtMy4wXG4gKiBJZiB5b3UgZGlkIG5vdCByZWNlaXZlIGEgY29weSBvZiB0aGUgbGljZW5zZSBhbmQgYXJlIHVuYWJsZSB0b1xuICogb2J0YWluIGl0IHRocm91Z2ggdGhlIHdvcmxkLXdpZGUtd2ViLCBwbGVhc2Ugc2VuZCBhbiBlbWFpbFxuICogdG8gbGljZW5zZUBwcmVzdGFzaG9wLmNvbSBzbyB3ZSBjYW4gc2VuZCB5b3UgYSBjb3B5IGltbWVkaWF0ZWx5LlxuICpcbiAqIEBhdXRob3IgICAgUHJlc3RhU2hvcCBTQSA8Y29udGFjdEBwcmVzdGFzaG9wLmNvbT5cbiAqIEBjb3B5cmlnaHQgMjAwNy0yMDIwIFByZXN0YVNob3AgU0EgYW5kIENvbnRyaWJ1dG9yc1xuICogQGxpY2Vuc2UgICBodHRwczovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL0FGTC0zLjAgQWNhZGVtaWMgRnJlZSBMaWNlbnNlIDMuMCAoQUZMLTMuMClcbiAqIEludGVybmF0aW9uYWwgUmVnaXN0ZXJlZCBUcmFkZW1hcmsgJiBQcm9wZXJ0eSBvZiBQcmVzdGFTaG9wIFNBXG4gKi9cblxuaW1wb3J0IHttYWtlRXhlY3V0YWJsZVNjaGVtYX0gZnJvbSAnZ3JhcGhxbC10b29scyc7XG5pbXBvcnQgcmVzb2x2ZXJzIGZyb20gJy4vcmVzb2x2ZXJzJztcbmltcG9ydCB0eXBlRGVmcyBmcm9tICcuL3R5cGVzJztcblxuLyoqXG4gKiBHZW5lcmF0ZSBTY2hlbWFMaW5rIHRoYXQgQXBvbGxvQ2xpZW50IG5lZWRzIHRvIHVuZGVyc3RhbmQgc2NoZW1hc1xuICogYW5kIGxpbmsgcmVzb2x2ZXJzIHRvIHNjaGVtYXNcbiAqL1xuZXhwb3J0IGRlZmF1bHQgbWFrZUV4ZWN1dGFibGVTY2hlbWEoe1xuICB0eXBlRGVmcyxcbiAgcmVzb2x2ZXJzLFxufSk7XG4iLCJ2YXIgcm5nID0gcmVxdWlyZSgnLi9saWIvcm5nJyk7XG52YXIgYnl0ZXNUb1V1aWQgPSByZXF1aXJlKCcuL2xpYi9ieXRlc1RvVXVpZCcpO1xuXG4vLyAqKmB2MSgpYCAtIEdlbmVyYXRlIHRpbWUtYmFzZWQgVVVJRCoqXG4vL1xuLy8gSW5zcGlyZWQgYnkgaHR0cHM6Ly9naXRodWIuY29tL0xpb3NLL1VVSUQuanNcbi8vIGFuZCBodHRwOi8vZG9jcy5weXRob24ub3JnL2xpYnJhcnkvdXVpZC5odG1sXG5cbnZhciBfbm9kZUlkO1xudmFyIF9jbG9ja3NlcTtcblxuLy8gUHJldmlvdXMgdXVpZCBjcmVhdGlvbiB0aW1lXG52YXIgX2xhc3RNU2VjcyA9IDA7XG52YXIgX2xhc3ROU2VjcyA9IDA7XG5cbi8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vdXVpZGpzL3V1aWQgZm9yIEFQSSBkZXRhaWxzXG5mdW5jdGlvbiB2MShvcHRpb25zLCBidWYsIG9mZnNldCkge1xuICB2YXIgaSA9IGJ1ZiAmJiBvZmZzZXQgfHwgMDtcbiAgdmFyIGIgPSBidWYgfHwgW107XG5cbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gIHZhciBub2RlID0gb3B0aW9ucy5ub2RlIHx8IF9ub2RlSWQ7XG4gIHZhciBjbG9ja3NlcSA9IG9wdGlvbnMuY2xvY2tzZXEgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuY2xvY2tzZXEgOiBfY2xvY2tzZXE7XG5cbiAgLy8gbm9kZSBhbmQgY2xvY2tzZXEgbmVlZCB0byBiZSBpbml0aWFsaXplZCB0byByYW5kb20gdmFsdWVzIGlmIHRoZXkncmUgbm90XG4gIC8vIHNwZWNpZmllZC4gIFdlIGRvIHRoaXMgbGF6aWx5IHRvIG1pbmltaXplIGlzc3VlcyByZWxhdGVkIHRvIGluc3VmZmljaWVudFxuICAvLyBzeXN0ZW0gZW50cm9weS4gIFNlZSAjMTg5XG4gIGlmIChub2RlID09IG51bGwgfHwgY2xvY2tzZXEgPT0gbnVsbCkge1xuICAgIHZhciBzZWVkQnl0ZXMgPSBybmcoKTtcbiAgICBpZiAobm9kZSA9PSBudWxsKSB7XG4gICAgICAvLyBQZXIgNC41LCBjcmVhdGUgYW5kIDQ4LWJpdCBub2RlIGlkLCAoNDcgcmFuZG9tIGJpdHMgKyBtdWx0aWNhc3QgYml0ID0gMSlcbiAgICAgIG5vZGUgPSBfbm9kZUlkID0gW1xuICAgICAgICBzZWVkQnl0ZXNbMF0gfCAweDAxLFxuICAgICAgICBzZWVkQnl0ZXNbMV0sIHNlZWRCeXRlc1syXSwgc2VlZEJ5dGVzWzNdLCBzZWVkQnl0ZXNbNF0sIHNlZWRCeXRlc1s1XVxuICAgICAgXTtcbiAgICB9XG4gICAgaWYgKGNsb2Nrc2VxID09IG51bGwpIHtcbiAgICAgIC8vIFBlciA0LjIuMiwgcmFuZG9taXplICgxNCBiaXQpIGNsb2Nrc2VxXG4gICAgICBjbG9ja3NlcSA9IF9jbG9ja3NlcSA9IChzZWVkQnl0ZXNbNl0gPDwgOCB8IHNlZWRCeXRlc1s3XSkgJiAweDNmZmY7XG4gICAgfVxuICB9XG5cbiAgLy8gVVVJRCB0aW1lc3RhbXBzIGFyZSAxMDAgbmFuby1zZWNvbmQgdW5pdHMgc2luY2UgdGhlIEdyZWdvcmlhbiBlcG9jaCxcbiAgLy8gKDE1ODItMTAtMTUgMDA6MDApLiAgSlNOdW1iZXJzIGFyZW4ndCBwcmVjaXNlIGVub3VnaCBmb3IgdGhpcywgc29cbiAgLy8gdGltZSBpcyBoYW5kbGVkIGludGVybmFsbHkgYXMgJ21zZWNzJyAoaW50ZWdlciBtaWxsaXNlY29uZHMpIGFuZCAnbnNlY3MnXG4gIC8vICgxMDAtbmFub3NlY29uZHMgb2Zmc2V0IGZyb20gbXNlY3MpIHNpbmNlIHVuaXggZXBvY2gsIDE5NzAtMDEtMDEgMDA6MDAuXG4gIHZhciBtc2VjcyA9IG9wdGlvbnMubXNlY3MgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMubXNlY3MgOiBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcblxuICAvLyBQZXIgNC4yLjEuMiwgdXNlIGNvdW50IG9mIHV1aWQncyBnZW5lcmF0ZWQgZHVyaW5nIHRoZSBjdXJyZW50IGNsb2NrXG4gIC8vIGN5Y2xlIHRvIHNpbXVsYXRlIGhpZ2hlciByZXNvbHV0aW9uIGNsb2NrXG4gIHZhciBuc2VjcyA9IG9wdGlvbnMubnNlY3MgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMubnNlY3MgOiBfbGFzdE5TZWNzICsgMTtcblxuICAvLyBUaW1lIHNpbmNlIGxhc3QgdXVpZCBjcmVhdGlvbiAoaW4gbXNlY3MpXG4gIHZhciBkdCA9IChtc2VjcyAtIF9sYXN0TVNlY3MpICsgKG5zZWNzIC0gX2xhc3ROU2VjcykvMTAwMDA7XG5cbiAgLy8gUGVyIDQuMi4xLjIsIEJ1bXAgY2xvY2tzZXEgb24gY2xvY2sgcmVncmVzc2lvblxuICBpZiAoZHQgPCAwICYmIG9wdGlvbnMuY2xvY2tzZXEgPT09IHVuZGVmaW5lZCkge1xuICAgIGNsb2Nrc2VxID0gY2xvY2tzZXEgKyAxICYgMHgzZmZmO1xuICB9XG5cbiAgLy8gUmVzZXQgbnNlY3MgaWYgY2xvY2sgcmVncmVzc2VzIChuZXcgY2xvY2tzZXEpIG9yIHdlJ3ZlIG1vdmVkIG9udG8gYSBuZXdcbiAgLy8gdGltZSBpbnRlcnZhbFxuICBpZiAoKGR0IDwgMCB8fCBtc2VjcyA+IF9sYXN0TVNlY3MpICYmIG9wdGlvbnMubnNlY3MgPT09IHVuZGVmaW5lZCkge1xuICAgIG5zZWNzID0gMDtcbiAgfVxuXG4gIC8vIFBlciA0LjIuMS4yIFRocm93IGVycm9yIGlmIHRvbyBtYW55IHV1aWRzIGFyZSByZXF1ZXN0ZWRcbiAgaWYgKG5zZWNzID49IDEwMDAwKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCd1dWlkLnYxKCk6IENhblxcJ3QgY3JlYXRlIG1vcmUgdGhhbiAxME0gdXVpZHMvc2VjJyk7XG4gIH1cblxuICBfbGFzdE1TZWNzID0gbXNlY3M7XG4gIF9sYXN0TlNlY3MgPSBuc2VjcztcbiAgX2Nsb2Nrc2VxID0gY2xvY2tzZXE7XG5cbiAgLy8gUGVyIDQuMS40IC0gQ29udmVydCBmcm9tIHVuaXggZXBvY2ggdG8gR3JlZ29yaWFuIGVwb2NoXG4gIG1zZWNzICs9IDEyMjE5MjkyODAwMDAwO1xuXG4gIC8vIGB0aW1lX2xvd2BcbiAgdmFyIHRsID0gKChtc2VjcyAmIDB4ZmZmZmZmZikgKiAxMDAwMCArIG5zZWNzKSAlIDB4MTAwMDAwMDAwO1xuICBiW2krK10gPSB0bCA+Pj4gMjQgJiAweGZmO1xuICBiW2krK10gPSB0bCA+Pj4gMTYgJiAweGZmO1xuICBiW2krK10gPSB0bCA+Pj4gOCAmIDB4ZmY7XG4gIGJbaSsrXSA9IHRsICYgMHhmZjtcblxuICAvLyBgdGltZV9taWRgXG4gIHZhciB0bWggPSAobXNlY3MgLyAweDEwMDAwMDAwMCAqIDEwMDAwKSAmIDB4ZmZmZmZmZjtcbiAgYltpKytdID0gdG1oID4+PiA4ICYgMHhmZjtcbiAgYltpKytdID0gdG1oICYgMHhmZjtcblxuICAvLyBgdGltZV9oaWdoX2FuZF92ZXJzaW9uYFxuICBiW2krK10gPSB0bWggPj4+IDI0ICYgMHhmIHwgMHgxMDsgLy8gaW5jbHVkZSB2ZXJzaW9uXG4gIGJbaSsrXSA9IHRtaCA+Pj4gMTYgJiAweGZmO1xuXG4gIC8vIGBjbG9ja19zZXFfaGlfYW5kX3Jlc2VydmVkYCAoUGVyIDQuMi4yIC0gaW5jbHVkZSB2YXJpYW50KVxuICBiW2krK10gPSBjbG9ja3NlcSA+Pj4gOCB8IDB4ODA7XG5cbiAgLy8gYGNsb2NrX3NlcV9sb3dgXG4gIGJbaSsrXSA9IGNsb2Nrc2VxICYgMHhmZjtcblxuICAvLyBgbm9kZWBcbiAgZm9yICh2YXIgbiA9IDA7IG4gPCA2OyArK24pIHtcbiAgICBiW2kgKyBuXSA9IG5vZGVbbl07XG4gIH1cblxuICByZXR1cm4gYnVmID8gYnVmIDogYnl0ZXNUb1V1aWQoYik7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gdjE7XG4iLCJ2YXIgcm5nID0gcmVxdWlyZSgnLi9saWIvcm5nJyk7XG52YXIgYnl0ZXNUb1V1aWQgPSByZXF1aXJlKCcuL2xpYi9ieXRlc1RvVXVpZCcpO1xuXG5mdW5jdGlvbiB2NChvcHRpb25zLCBidWYsIG9mZnNldCkge1xuICB2YXIgaSA9IGJ1ZiAmJiBvZmZzZXQgfHwgMDtcblxuICBpZiAodHlwZW9mKG9wdGlvbnMpID09ICdzdHJpbmcnKSB7XG4gICAgYnVmID0gb3B0aW9ucyA9PT0gJ2JpbmFyeScgPyBuZXcgQXJyYXkoMTYpIDogbnVsbDtcbiAgICBvcHRpb25zID0gbnVsbDtcbiAgfVxuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuICB2YXIgcm5kcyA9IG9wdGlvbnMucmFuZG9tIHx8IChvcHRpb25zLnJuZyB8fCBybmcpKCk7XG5cbiAgLy8gUGVyIDQuNCwgc2V0IGJpdHMgZm9yIHZlcnNpb24gYW5kIGBjbG9ja19zZXFfaGlfYW5kX3Jlc2VydmVkYFxuICBybmRzWzZdID0gKHJuZHNbNl0gJiAweDBmKSB8IDB4NDA7XG4gIHJuZHNbOF0gPSAocm5kc1s4XSAmIDB4M2YpIHwgMHg4MDtcblxuICAvLyBDb3B5IGJ5dGVzIHRvIGJ1ZmZlciwgaWYgcHJvdmlkZWRcbiAgaWYgKGJ1Zikge1xuICAgIGZvciAodmFyIGlpID0gMDsgaWkgPCAxNjsgKytpaSkge1xuICAgICAgYnVmW2kgKyBpaV0gPSBybmRzW2lpXTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gYnVmIHx8IGJ5dGVzVG9VdWlkKHJuZHMpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHY0O1xuIiwiLyoqXG4gKiAyMDA3LTIwMjAgUHJlc3RhU2hvcCBhbmQgQ29udHJpYnV0b3JzXG4gKlxuICogTk9USUNFIE9GIExJQ0VOU0VcbiAqXG4gKiBUaGlzIHNvdXJjZSBmaWxlIGlzIHN1YmplY3QgdG8gdGhlIEFjYWRlbWljIEZyZWUgTGljZW5zZSAzLjAgKEFGTC0zLjApXG4gKiB0aGF0IGlzIGJ1bmRsZWQgd2l0aCB0aGlzIHBhY2thZ2UgaW4gdGhlIGZpbGUgTElDRU5TRS50eHQuXG4gKiBJdCBpcyBhbHNvIGF2YWlsYWJsZSB0aHJvdWdoIHRoZSB3b3JsZC13aWRlLXdlYiBhdCB0aGlzIFVSTDpcbiAqIGh0dHBzOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvQUZMLTMuMFxuICogSWYgeW91IGRpZCBub3QgcmVjZWl2ZSBhIGNvcHkgb2YgdGhlIGxpY2Vuc2UgYW5kIGFyZSB1bmFibGUgdG9cbiAqIG9idGFpbiBpdCB0aHJvdWdoIHRoZSB3b3JsZC13aWRlLXdlYiwgcGxlYXNlIHNlbmQgYW4gZW1haWxcbiAqIHRvIGxpY2Vuc2VAcHJlc3Rhc2hvcC5jb20gc28gd2UgY2FuIHNlbmQgeW91IGEgY29weSBpbW1lZGlhdGVseS5cbiAqXG4gKiBAYXV0aG9yICAgIFByZXN0YVNob3AgU0EgPGNvbnRhY3RAcHJlc3Rhc2hvcC5jb20+XG4gKiBAY29weXJpZ2h0IDIwMDctMjAyMCBQcmVzdGFTaG9wIFNBIGFuZCBDb250cmlidXRvcnNcbiAqIEBsaWNlbnNlICAgaHR0cHM6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9BRkwtMy4wIEFjYWRlbWljIEZyZWUgTGljZW5zZSAzLjAgKEFGTC0zLjApXG4gKiBJbnRlcm5hdGlvbmFsIFJlZ2lzdGVyZWQgVHJhZGVtYXJrICYgUHJvcGVydHkgb2YgUHJlc3RhU2hvcCBTQVxuICovXG5cbmltcG9ydCBFdmVudEJ1cyBmcm9tICdAY29tcG9uZW50cy9FdmVudEJ1cyc7XG5pbXBvcnQgaGVhZGVycyBmcm9tICdAY29uc3RhbnRzL2hlYWRlcnMnO1xuaW1wb3J0IEdyYXBoUUxKU09OLCB7R3JhcGhRTEpTT05PYmplY3R9IGZyb20gJ2dyYXBocWwtdHlwZS1qc29uJztcblxuLyoqXG4gKiBSZXNvbHZlcnMgbGlua2VkIHRvIHNjaGVtYXMgZGVmaW5pdGlvbnNcbiAqL1xuZXhwb3J0IGRlZmF1bHQge1xuICBKU09OOiBHcmFwaFFMSlNPTixcbiAgSlNPTk9iamVjdDogR3JhcGhRTEpTT05PYmplY3QsXG4gIFF1ZXJ5OiB7XG4gICAgLyoqXG4gICAgICogR2V0IHByb2R1Y3QgZnJvbSBhIGxpc3RcbiAgICAgKi9cbiAgICBwcm9kdWN0czogYXN5bmMgKHJvb3QsIHt1cmx9KSA9PiB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke3VybH0mZnJvbS14aHJgLCB7XG4gICAgICAgIGhlYWRlcnM6IGhlYWRlcnMucHJvZHVjdHMsXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgZGF0YXMgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cbiAgICAgIEV2ZW50QnVzLiRlbWl0KCdwYWdpbmF0ZScsIHtcbiAgICAgICAgZGV0YWlsOiB7XG4gICAgICAgICAgdG90YWw6IGRhdGFzLnBhZ2luYXRpb24udG90YWxfaXRlbXMsXG4gICAgICAgICAgbWluU2hvd246IGRhdGFzLnBhZ2luYXRpb24uaXRlbXNfc2hvd25fZnJvbSxcbiAgICAgICAgICBtYXhTaG93bjogZGF0YXMucGFnaW5hdGlvbi5pdGVtc19zaG93bl90byxcbiAgICAgICAgICBwYWdlTnVtYmVyOiBkYXRhcy5wYWdpbmF0aW9uLnBhZ2VzX2NvdW50LFxuICAgICAgICAgIHBhZ2VzOiBkYXRhcy5wYWdpbmF0aW9uLnBhZ2VzLFxuICAgICAgICAgIGRpc3BsYXk6IGRhdGFzLnBhZ2luYXRpb24uc2hvdWxkX2JlX2Rpc3BsYXllZCxcbiAgICAgICAgICBjdXJyZW50UGFnZTogZGF0YXMucGFnaW5hdGlvbi5jdXJyZW50X3BhZ2UsXG4gICAgICAgIH0sXG4gICAgICB9KTtcblxuICAgICAgd2luZG93Lmhpc3RvcnkucHVzaFN0YXRlKGRhdGFzLCBkb2N1bWVudC50aXRsZSwgZGF0YXMuY3VycmVudF91cmwpO1xuICAgICAgd2luZG93LnNjcm9sbFRvKDAsIDApO1xuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBkYXRhczoge1xuICAgICAgICAgIHByb2R1Y3RzOiBkYXRhcy5wcm9kdWN0cyxcbiAgICAgICAgICBwYWdpbmF0aW9uOiBkYXRhcy5wYWdpbmF0aW9uLFxuICAgICAgICAgIGN1cnJlbnRfdXJsOiBkYXRhcy5jdXJyZW50X3VybCxcbiAgICAgICAgICBzb3J0X29yZGVyczogZGF0YXMuc29ydF9vcmRlcnMsXG4gICAgICAgICAgc29ydF9zZWxlY3RlZDogZGF0YXMuc29ydF9zZWxlY3RlZCxcbiAgICAgICAgfSxcbiAgICAgIH07XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBHZXQgZXZlcnkgbGlzdHMgZnJvbSBVc2VyXG4gICAgICovXG4gICAgbGlzdHM6IGFzeW5jIChyb290LCB7dXJsfSkgPT4ge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh1cmwpO1xuXG4gICAgICBjb25zdCBkYXRhcyA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuICAgICAgcmV0dXJuIGRhdGFzLndpc2hsaXN0cztcbiAgICB9LFxuICB9LFxuICBNdXRhdGlvbjoge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIGxpc3QgYmFzZWQgb24gYSBuYW1lIGFuZCBhbiB1c2VySWRcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lIFRoZSBuYW1lIG9mIHRoZSBsaXN0XG4gICAgICogQHBhcmFtIHtJbnR9IHVzZXJJZCBUaGUgSUQgb2YgdGhlIHVzZXIgeW91IHdhbnQgdG8gY3JlYXRlIGEgbGlzdCBvblxuICAgICAqL1xuICAgIGNyZWF0ZUxpc3Q6IGFzeW5jIChyb290LCB7bmFtZSwgdXJsfSkgPT4ge1xuICAgICAgY29uc3QgbmFtZUVuY29kZWQgPSBlbmNvZGVVUklDb21wb25lbnQobmFtZSk7XG5cbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7dXJsfSZwYXJhbXNbbmFtZV09JHtuYW1lRW5jb2RlZH1gLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IGRhdGFzID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuXG4gICAgICByZXR1cm4gZGF0YXM7XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBSZW5hbWUgYSBsaXN0XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30ge25hbWUgTmV3IG5hbWUgb2YgdGhlIGxpc3RcbiAgICAgKiBAcGFyYW0ge0ludH0gdXNlcklkIElkIG9mIHRoZSB1c2VyXG4gICAgICogQHBhcmFtIHtJbnR9IGxpc3RJZH0gSUQgb2YgdGhlIGxpc3QgdG8gYmUgcmVuYW1lZFxuICAgICAqL1xuICAgIHJlbmFtZUxpc3Q6IGFzeW5jIChyb290LCB7bmFtZSwgbGlzdElkLCB1cmx9KSA9PiB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke3VybH0mcGFyYW1zW25hbWVdPSR7bmFtZX0mcGFyYW1zW2lkV2lzaExpc3RdPSR7bGlzdElkfWAsIHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgZGF0YXMgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cbiAgICAgIHJldHVybiBkYXRhcztcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIEFkZCBhIHByb2R1Y3QgdG8gYSBsaXN0XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0ludH0gbGlzdElkIFRoZSBsaXN0IGlkXG4gICAgICogQHBhcmFtIHtJbnR9IHVzZXJJZCBUaGUgdXNlciBpZFxuICAgICAqIEBwYXJhbSB7SW50fSBwcm9kdWN0SWQgVGhlIHByb2R1Y3QgaWQgdG8gYmUgYWRkZWQgdG8gdGhlIGxpc3QgaWRcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtKU09OfSBBIHN1Y2Nlc3Mgb3IgZmFpbGVkIHJlc3BvbnNlXG4gICAgICovXG4gICAgYWRkVG9MaXN0OiBhc3luYyAocm9vdCwge1xuICAgICAgbGlzdElkLCB1cmwsIHByb2R1Y3RJZCwgcXVhbnRpdHksIHByb2R1Y3RBdHRyaWJ1dGVJZCxcbiAgICB9KSA9PiB7XG4gICAgICAvKiBlc2xpbnQtZGlzYWJsZSAqL1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcbiAgICAgICAgYCR7dXJsfSZwYXJhbXNbaWRfcHJvZHVjdF09JHtwcm9kdWN0SWR9JnBhcmFtc1tpZFdpc2hMaXN0XT0ke2xpc3RJZH0mcGFyYW1zW3F1YW50aXR5XT0ke3F1YW50aXR5fSZwYXJhbXNbaWRfcHJvZHVjdF9hdHRyaWJ1dGVdPSR7cHJvZHVjdEF0dHJpYnV0ZUlkfWAsXG4gICAgICAgIHtcbiAgICAgICAgICBtZXRob2Q6ICdQT1NUJ1xuICAgICAgICB9XG4gICAgICApO1xuICAgICAgLyogZXNsaW50LWVuYWJsZSAqL1xuXG4gICAgICBjb25zdCBkYXRhcyA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuICAgICAgaWYgKGRhdGFzLnN1Y2Nlc3MpIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gICAgICAgIHByb2R1Y3RzQWxyZWFkeVRhZ2dlZC5wdXNoKHtcbiAgICAgICAgICBpZF9wcm9kdWN0OiBwcm9kdWN0SWQudG9TdHJpbmcoKSxcbiAgICAgICAgICBpZF93aXNobGlzdDogbGlzdElkLnRvU3RyaW5nKCksXG4gICAgICAgICAgcXVhbnRpdHk6IHF1YW50aXR5LnRvU3RyaW5nKCksXG4gICAgICAgICAgaWRfcHJvZHVjdF9hdHRyaWJ1dGU6IHByb2R1Y3RBdHRyaWJ1dGVJZC50b1N0cmluZygpLFxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGRhdGFzO1xuICAgIH0sXG4gICAgLyoqXG4gICAgICogUmVtb3ZlIGEgcHJvZHVjdCBmcm9tIGEgbGlzdFxuICAgICAqXG4gICAgICogQHBhcmFtIHtJbnR9IGxpc3RJZCBUaGUgbGlzdCBpZFxuICAgICAqIEBwYXJhbSB7SW50fSB1c2VySWQgVGhlIHVzZXIgaWRcbiAgICAgKiBAcGFyYW0ge0ludH0gcHJvZHVjdElkIFRoZSBwcm9kdWN0IGlkIHRvIGJlIHJlbW92ZWQgZnJvbSB0aGUgbGlzdCBpZFxuICAgICAqXG4gICAgICogQHJldHVybnMge0pTT059IEEgc3VjY2VzcyBvciBmYWlsZWQgcmVzcG9uc2VcbiAgICAgKi9cbiAgICByZW1vdmVGcm9tTGlzdDogYXN5bmMgKHJvb3QsIHtcbiAgICAgIGxpc3RJZCwgcHJvZHVjdElkLCB1cmwsIHByb2R1Y3RBdHRyaWJ1dGVJZCxcbiAgICB9KSA9PiB7XG4gICAgICAvKiBlc2xpbnQtZGlzYWJsZSAqL1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcbiAgICAgICAgYCR7dXJsfSZwYXJhbXNbaWRfcHJvZHVjdF09JHtwcm9kdWN0SWR9JnBhcmFtc1tpZFdpc2hMaXN0XT0ke2xpc3RJZH0mcGFyYW1zW2lkX3Byb2R1Y3RfYXR0cmlidXRlXT0ke3Byb2R1Y3RBdHRyaWJ1dGVJZH1gLFxuICAgICAgICB7XG4gICAgICAgICAgbWV0aG9kOiAnUE9TVCdcbiAgICAgICAgfVxuICAgICAgKTtcbiAgICAgIC8qIGVzbGludC1lbmFibGUgKi9cblxuICAgICAgY29uc3QgZGF0YXMgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cbiAgICAgIGlmIChkYXRhcy5zdWNjZXNzKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuICAgICAgICBwcm9kdWN0c0FscmVhZHlUYWdnZWQgPSBwcm9kdWN0c0FscmVhZHlUYWdnZWQuZmlsdGVyKFxuICAgICAgICAgIChlKSA9PiBlLmlkX3Byb2R1Y3QgIT09IHByb2R1Y3RJZC50b1N0cmluZygpXG4gICAgICAgICAgICB8fCAoZS5pZF9wcm9kdWN0X2F0dHJpYnV0ZSAhPT0gcHJvZHVjdEF0dHJpYnV0ZUlkLnRvU3RyaW5nKCkgJiYgZS5pZF9wcm9kdWN0ID09PSBwcm9kdWN0SWQudG9TdHJpbmcoKSlcbiAgICAgICAgICAgIHx8IGUuaWRfd2lzaGxpc3QgIT09IGxpc3RJZC50b1N0cmluZygpLFxuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZGF0YXM7XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBSZW1vdmUgYSBsaXN0XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0ludH0ge2xpc3RJZH0gVGhlIGxpc3QgaWRcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtKU09OfSBhIEpTT04gc3VjY2VzcyBvciBmYWlsZWQgcmVzcG9uc2VcbiAgICAgKi9cbiAgICBkZWxldGVMaXN0OiBhc3luYyAocm9vdCwge2xpc3RJZCwgdXJsfSkgPT4ge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgJHt1cmx9JnBhcmFtc1tpZFdpc2hMaXN0XT0ke2xpc3RJZH1gLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IGRhdGFzID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuXG4gICAgICByZXR1cm4gZGF0YXM7XG4gICAgfSxcbiAgfSxcbn07XG4iLCJtb2R1bGUuZXhwb3J0cyA9IHsgXCJkZWZhdWx0XCI6IHJlcXVpcmUoXCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2RlZmluZS1wcm9wZXJ0aWVzXCIpLCBfX2VzTW9kdWxlOiB0cnVlIH07IiwibW9kdWxlLmV4cG9ydHMgPSB7IFwiZGVmYXVsdFwiOiByZXF1aXJlKFwiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9mcmVlemVcIiksIF9fZXNNb2R1bGU6IHRydWUgfTsiLCJpbXBvcnQgbW9kIGZyb20gXCItIS4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9iYWJlbC1sb2FkZXIvbGliL2luZGV4LmpzPz9yZWYtLTEtMCEuLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL0J1dHRvbi52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmXCI7IGV4cG9ydCBkZWZhdWx0IG1vZDsgZXhwb3J0ICogZnJvbSBcIi0hLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2JhYmVsLWxvYWRlci9saWIvaW5kZXguanM/P3JlZi0tMS0wIS4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vQnV0dG9uLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyZcIiIsIjwhLS0qKlxuICogMjAwNy0yMDIwIFByZXN0YVNob3AgYW5kIENvbnRyaWJ1dG9yc1xuICpcbiAqIE5PVElDRSBPRiBMSUNFTlNFXG4gKlxuICogVGhpcyBzb3VyY2UgZmlsZSBpcyBzdWJqZWN0IHRvIHRoZSBBY2FkZW1pYyBGcmVlIExpY2Vuc2UgMy4wIChBRkwtMy4wKVxuICogdGhhdCBpcyBidW5kbGVkIHdpdGggdGhpcyBwYWNrYWdlIGluIHRoZSBmaWxlIExJQ0VOU0UudHh0LlxuICogSXQgaXMgYWxzbyBhdmFpbGFibGUgdGhyb3VnaCB0aGUgd29ybGQtd2lkZS13ZWIgYXQgdGhpcyBVUkw6XG4gKiBodHRwczovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL0FGTC0zLjBcbiAqIElmIHlvdSBkaWQgbm90IHJlY2VpdmUgYSBjb3B5IG9mIHRoZSBsaWNlbnNlIGFuZCBhcmUgdW5hYmxlIHRvXG4gKiBvYnRhaW4gaXQgdGhyb3VnaCB0aGUgd29ybGQtd2lkZS13ZWIsIHBsZWFzZSBzZW5kIGFuIGVtYWlsXG4gKiB0byBsaWNlbnNlQHByZXN0YXNob3AuY29tIHNvIHdlIGNhbiBzZW5kIHlvdSBhIGNvcHkgaW1tZWRpYXRlbHkuXG4gKlxuICogQGF1dGhvciAgICBQcmVzdGFTaG9wIFNBIDxjb250YWN0QHByZXN0YXNob3AuY29tPlxuICogQGNvcHlyaWdodCAyMDA3LTIwMjAgUHJlc3RhU2hvcCBTQSBhbmQgQ29udHJpYnV0b3JzXG4gKiBAbGljZW5zZSAgIGh0dHBzOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvQUZMLTMuMCBBY2FkZW1pYyBGcmVlIExpY2Vuc2UgMy4wIChBRkwtMy4wKVxuICogSW50ZXJuYXRpb25hbCBSZWdpc3RlcmVkIFRyYWRlbWFyayAmIFByb3BlcnR5IG9mIFByZXN0YVNob3AgU0FcbiAqLS0+XG48dGVtcGxhdGU+XG4gIDxkaXY+XG4gICAgPGJ1dHRvbiBcbiAgICAgIGNsYXNzPVwid2lzaGxpc3QtYnV0dG9uLWFkZFwiXG4gICAgICB2LWlmPVwidGhpcy50ZXN0XCJcbiAgICAgIDpjbGFzcz1cInsgJ3dpc2hsaXN0LWJ1dHRvbi1wcm9kdWN0JzogaXNQcm9kdWN0IH1cIlxuICAgICAgQGNsaWNrPVwiYWRkVG9XaXNobGlzdFwiXG4gICAgPlxuICAgIDxpXG4gICAgICBjbGFzcz1cIm1hdGVyaWFsLWljb25zXCJcbiAgICAgIHYtaWY9XCJpc0NoZWNrZWRcIlxuICAgID5mYXZvcml0ZSA8L2k+XG4gICAgPGlcbiAgICAgIGNsYXNzPVwibWF0ZXJpYWwtaWNvbnNcIlxuICAgICAgdi1lbHNlXG4gICAgPmZhdm9yaXRlX2JvcmRlcjwvaT5cbiAgICA8L2J1dHRvbj5cbiAgPC9kaXY+ICAgICBcbjwvdGVtcGxhdGU+XG5cbjxzY3JpcHQ+XG4gIGltcG9ydCByZW1vdmVGcm9tTGlzdCBmcm9tICdAZ3JhcGhxbEZpbGVzL211dGF0aW9ucy9yZW1vdmVGcm9tTGlzdCc7XG4gIGltcG9ydCBwcmVzdGFzaG9wIGZyb20gJ3ByZXN0YXNob3AnO1xuICBpbXBvcnQgRXZlbnRCdXMgZnJvbSAnQGNvbXBvbmVudHMvRXZlbnRCdXMnO1xuXG4gIGV4cG9ydCBkZWZhdWx0IHtcbiAgICBuYW1lOiAnQnV0dG9uJyxcbiAgICBwcm9wczoge1xuICAgICAgdXJsOiB7XG4gICAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgIGRlZmF1bHQ6ICcjJyxcbiAgICAgIH0sXG4gICAgICBwcm9kdWN0SWQ6IHtcbiAgICAgICAgdHlwZTogTnVtYmVyLFxuICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgZGVmYXVsdDogbnVsbCxcbiAgICAgIH0sXG4gICAgICBwcm9kdWN0QXR0cmlidXRlSWQ6IHtcbiAgICAgICAgdHlwZTogTnVtYmVyLFxuICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgZGVmYXVsdDogbnVsbCxcbiAgICAgIH0sXG4gICAgICBjaGVja2VkOiB7XG4gICAgICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgICAgIHJlcXVpcmVkOiBmYWxzZSxcbiAgICAgICAgZGVmYXVsdDogZmFsc2UsXG4gICAgICB9LFxuICAgICAgaXNQcm9kdWN0OiB7XG4gICAgICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgICAgIHJlcXVpcmVkOiBmYWxzZSxcbiAgICAgICAgZGVmYXVsdDogZmFsc2UsXG4gICAgICB9LFxuICAgIH0sXG4gICAgZGF0YSgpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGlzQ2hlY2tlZDogdGhpcy5jaGVja2VkID09PSAndHJ1ZScsXG4gICAgICAgIGlkTGlzdDogdGhpcy5saXN0SWQsXG4gICAgICAgIHRlc3Q6IHByZXN0YXNob3AuY3VzdG9tZXIuaXNfbG9nZ2VkXG4gICAgICB9O1xuICAgIH0sXG4gICAgbWV0aG9kczoge1xuICAgICAgLyoqXG4gICAgICAgKiBUb2dnbGUgdGhlIGhlYXJ0IG9uIHRoaXMgY29tcG9uZW50LCBiYXNpY2FsbHkgaWYgdGhlIGhlYXJ0IGlzIGZpbGxlZCxcbiAgICAgICAqIHRoZW4gdGhpcyBwcm9kdWN0IGlzIGluc2lkZSBhIHdpc2hsaXN0LCBlbHNlIGl0J3Mgbm90IGluIGEgd2lzaGxpc3RcbiAgICAgICAqL1xuICAgICAgdG9nZ2xlQ2hlY2soKSB7XG4gICAgICAgIHRoaXMuaXNDaGVja2VkID0gIXRoaXMuaXNDaGVja2VkO1xuICAgICAgfSxcbiAgICAgIC8qKlxuICAgICAgICogSWYgdGhlIHByb2R1Y3QgaXNuJ3QgaW4gYSB3aXNobGlzdCwgdGhlbiBvcGVuIHRoZSBcIkFkZFRvV2lzaGxpc3RcIiBjb21wb25lbnQgbW9kYWwsXG4gICAgICAgKiBpZiBoZSdzIGluIGEgd2lzaGxpc3QsIHRoZW4gbGF1bmNoIGEgcmVtb3ZlRnJvbUxpc3QgbXV0YXRpb24gdG8gcmVtb3RlIHRoZSBwcm9kdWN0IGZyb20gYSB3aXNobGlzdFxuICAgICAgICovXG4gICAgICBhc3luYyBhZGRUb1dpc2hsaXN0KGV2ZW50KSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGNvbnN0IHF1YW50aXR5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgICAgICAnLnByb2R1Y3QtcXVhbnRpdHkgaW5wdXQjcXVhbnRpdHlfd2FudGVkJyxcbiAgICAgICAgKTtcblxuICAgICAgICBpZiAoIXByZXN0YXNob3AuY3VzdG9tZXIuaXNfbG9nZ2VkKSB7XG4gICAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ3Nob3dMb2dpbicpO1xuXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aGlzLmlzQ2hlY2tlZCkge1xuICAgICAgICAgIEV2ZW50QnVzLiRlbWl0KCdzaG93QWRkVG9XaXNoTGlzdCcsIHtcbiAgICAgICAgICAgIGRldGFpbDoge1xuICAgICAgICAgICAgICBwcm9kdWN0SWQ6IHRoaXMucHJvZHVjdElkLFxuICAgICAgICAgICAgICBwcm9kdWN0QXR0cmlidXRlSWQ6IHBhcnNlSW50KHRoaXMucHJvZHVjdEF0dHJpYnV0ZUlkLCAxMCksXG4gICAgICAgICAgICAgIGZvcmNlT3BlbjogdHJ1ZSxcbiAgICAgICAgICAgICAgcXVhbnRpdHk6IHF1YW50aXR5ID8gcGFyc2VJbnQocXVhbnRpdHkudmFsdWUsIDEwKSA6IDAsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnN0IHtkYXRhfSA9IGF3YWl0IHRoaXMuJGFwb2xsby5tdXRhdGUoe1xuICAgICAgICAgICAgbXV0YXRpb246IHJlbW92ZUZyb21MaXN0LFxuICAgICAgICAgICAgdmFyaWFibGVzOiB7XG4gICAgICAgICAgICAgIHByb2R1Y3RJZDogdGhpcy5wcm9kdWN0SWQsXG4gICAgICAgICAgICAgIHVybDogdGhpcy51cmwsXG4gICAgICAgICAgICAgIHByb2R1Y3RBdHRyaWJ1dGVJZDogdGhpcy5wcm9kdWN0QXR0cmlidXRlSWQsXG4gICAgICAgICAgICAgIGxpc3RJZDogdGhpcy5pZExpc3QgPyB0aGlzLmlkTGlzdCA6IHRoaXMubGlzdElkLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIGNvbnN0IHtyZW1vdmVGcm9tTGlzdDogcmVzcG9uc2V9ID0gZGF0YTtcblxuICAgICAgICAgIEV2ZW50QnVzLiRlbWl0KCdzaG93VG9hc3QnLCB7XG4gICAgICAgICAgICBkZXRhaWw6IHtcbiAgICAgICAgICAgICAgdHlwZTogcmVzcG9uc2Uuc3VjY2VzcyA/ICdzdWNjZXNzJyA6ICdlcnJvcicsXG4gICAgICAgICAgICAgIG1lc3NhZ2U6IHJlc3BvbnNlLm1lc3NhZ2UsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgaWYgKCFyZXNwb25zZS5lcnJvcikge1xuICAgICAgICAgICAgdGhpcy50b2dnbGVDaGVjaygpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSxcbiAgICB9LFxuICAgIG1vdW50ZWQoKSB7XG4gICAgICAvKipcbiAgICAgICAqIFJlZ2lzdGVyIHRvIGV2ZW50IGFkZGVkVG9XaXNobGlzdCB0byB0b2dnbGUgdGhlIGhlYXJ0IGlmIHRoZSBwcm9kdWN0IGhhcyBiZWVuIGFkZGVkIGNvcnJlY3RseVxuICAgICAgICovXG4gICAgICBFdmVudEJ1cy4kb24oJ2FkZGVkVG9XaXNobGlzdCcsIChldmVudCkgPT4ge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgZXZlbnQuZGV0YWlsLnByb2R1Y3RJZCA9PT0gdGhpcy5wcm9kdWN0SWRcbiAgICAgICAgICAmJiBwYXJzZUludChldmVudC5kZXRhaWwucHJvZHVjdEF0dHJpYnV0ZUlkLCAxMCkgPT09IHRoaXMucHJvZHVjdEF0dHJpYnV0ZUlkXG4gICAgICAgICkge1xuICAgICAgICAgIHRoaXMuaXNDaGVja2VkID0gdHJ1ZTtcbiAgICAgICAgICB0aGlzLmlkTGlzdCA9IGV2ZW50LmRldGFpbC5saXN0SWQ7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbiAgICAgIGNvbnN0IGl0ZW1zID0gcHJvZHVjdHNBbHJlYWR5VGFnZ2VkLmZpbHRlcihcbiAgICAgICAgKGUpID0+IHBhcnNlSW50KGUuaWRfcHJvZHVjdCwgMTApID09PSB0aGlzLnByb2R1Y3RJZFxuICAgICAgICAgICYmIHBhcnNlSW50KGUuaWRfcHJvZHVjdF9hdHRyaWJ1dGUsIDEwKSA9PT0gdGhpcy5wcm9kdWN0QXR0cmlidXRlSWQsXG4gICAgICApO1xuXG4gICAgICBpZiAoaXRlbXMubGVuZ3RoID4gMCkge1xuICAgICAgICB0aGlzLmlzQ2hlY2tlZCA9IHRydWU7XG4gICAgICAgIHRoaXMuaWRMaXN0ID0gcGFyc2VJbnQoaXRlbXNbMF0uaWRfd2lzaGxpc3QsIDEwKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuaXNQcm9kdWN0KSB7XG4gICAgICAgIHByZXN0YXNob3Aub24oJ3VwZGF0ZVByb2R1Y3QnLCAoe2V2ZW50VHlwZX0pID0+IHtcbiAgICAgICAgICBpZiAoZXZlbnRUeXBlID09PSAndXBkYXRlZFByb2R1Y3RRdWFudGl0eScpIHtcbiAgICAgICAgICAgIHRoaXMuaXNDaGVja2VkID0gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBwcmVzdGFzaG9wLm9uKCd1cGRhdGVkUHJvZHVjdCcsIChhcmdzKSA9PiB7XG4gICAgICAgICAgY29uc3QgcXVhbnRpdHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgICAgICAgJy5wcm9kdWN0LXF1YW50aXR5IGlucHV0I3F1YW50aXR5X3dhbnRlZCcsXG4gICAgICAgICAgKTtcblxuICAgICAgICAgIHRoaXMucHJvZHVjdEF0dHJpYnV0ZUlkID0gcGFyc2VJbnQoYXJncy5pZF9wcm9kdWN0X2F0dHJpYnV0ZSwgMTApO1xuXG4gICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gICAgICAgICAgY29uc3QgaXRlbXNGaWx0ZXJlZCA9IHByb2R1Y3RzQWxyZWFkeVRhZ2dlZC5maWx0ZXIoXG4gICAgICAgICAgICAoZSkgPT4gcGFyc2VJbnQoZS5pZF9wcm9kdWN0LCAxMCkgPT09IHRoaXMucHJvZHVjdElkXG4gICAgICAgICAgICAgICYmIGUucXVhbnRpdHkudG9TdHJpbmcoKSA9PT0gcXVhbnRpdHkudmFsdWVcbiAgICAgICAgICAgICAgJiYgcGFyc2VJbnQoZS5pZF9wcm9kdWN0X2F0dHJpYnV0ZSwgMTApID09PSB0aGlzLnByb2R1Y3RBdHRyaWJ1dGVJZCxcbiAgICAgICAgICApO1xuXG4gICAgICAgICAgaWYgKGl0ZW1zRmlsdGVyZWQubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdGhpcy5pc0NoZWNrZWQgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5pZExpc3QgPSBwYXJzZUludChpdGVtc0ZpbHRlcmVkWzBdLmlkX3dpc2hsaXN0LCAxMCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuaXNDaGVja2VkID0gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9LFxuICB9O1xuPC9zY3JpcHQ+XG5cbjxzdHlsZSBsYW5nPVwic2Nzc1wiIHR5cGU9XCJ0ZXh0L3Njc3NcIj5cbiAgLndpc2hsaXN0IHtcbiAgICAmLWJ1dHRvbiB7XG4gICAgICAmLXByb2R1Y3Qge1xuICAgICAgICBtYXJnaW4tbGVmdDogMS4yNXJlbTtcbiAgICAgIH1cblxuICAgICAgJi1hZGQge1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICAgICAgaGVpZ2h0OiAyLjVyZW07XG4gICAgICAgIHdpZHRoOiAyLjVyZW07XG4gICAgICAgIG1pbi13aWR0aDogMi41cmVtO1xuICAgICAgICBwYWRkaW5nLXRvcDogMC4xODc1cmVtO1xuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmZmZmO1xuICAgICAgICBib3gtc2hhZG93OiAwLjEyNXJlbSAtMC4xMjVyZW0gMC4yNXJlbSAwIHJnYmEoMCwgMCwgMCwgMC4yKTtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogNTAlO1xuICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgICAgIHRyYW5zaXRpb246IDAuMnMgZWFzZS1vdXQ7XG4gICAgICAgIGJvcmRlcjogbm9uZTtcblxuICAgICAgICAmOmhvdmVyIHtcbiAgICAgICAgICBvcGFjaXR5OiAwLjc7XG4gICAgICAgIH1cblxuICAgICAgICAmOmZvY3VzIHtcbiAgICAgICAgICBvdXRsaW5lOiAwO1xuICAgICAgICB9XG5cbiAgICAgICAgJjphY3RpdmUge1xuICAgICAgICAgIHRyYW5zZm9ybTogc2NhbGUoMS4yKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGkge1xuICAgICAgICAgIGNvbG9yOiAjN2E3YTdhO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG48L3N0eWxlPlxuIiwiLyogZ2xvYmFsIHdpbmRvdyAqL1xuaW1wb3J0IHBvbnlmaWxsIGZyb20gJy4vcG9ueWZpbGwuanMnO1xuXG52YXIgcm9vdDtcblxuaWYgKHR5cGVvZiBzZWxmICE9PSAndW5kZWZpbmVkJykge1xuICByb290ID0gc2VsZjtcbn0gZWxzZSBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgcm9vdCA9IHdpbmRvdztcbn0gZWxzZSBpZiAodHlwZW9mIGdsb2JhbCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgcm9vdCA9IGdsb2JhbDtcbn0gZWxzZSBpZiAodHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgcm9vdCA9IG1vZHVsZTtcbn0gZWxzZSB7XG4gIHJvb3QgPSBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xufVxuXG52YXIgcmVzdWx0ID0gcG9ueWZpbGwocm9vdCk7XG5leHBvcnQgZGVmYXVsdCByZXN1bHQ7XG4iLCIndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGRhdGEsIG9wdHMpIHtcbiAgICBpZiAoIW9wdHMpIG9wdHMgPSB7fTtcbiAgICBpZiAodHlwZW9mIG9wdHMgPT09ICdmdW5jdGlvbicpIG9wdHMgPSB7IGNtcDogb3B0cyB9O1xuICAgIHZhciBjeWNsZXMgPSAodHlwZW9mIG9wdHMuY3ljbGVzID09PSAnYm9vbGVhbicpID8gb3B0cy5jeWNsZXMgOiBmYWxzZTtcblxuICAgIHZhciBjbXAgPSBvcHRzLmNtcCAmJiAoZnVuY3Rpb24gKGYpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgICAgICAgICAgICB2YXIgYW9iaiA9IHsga2V5OiBhLCB2YWx1ZTogbm9kZVthXSB9O1xuICAgICAgICAgICAgICAgIHZhciBib2JqID0geyBrZXk6IGIsIHZhbHVlOiBub2RlW2JdIH07XG4gICAgICAgICAgICAgICAgcmV0dXJuIGYoYW9iaiwgYm9iaik7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9O1xuICAgIH0pKG9wdHMuY21wKTtcblxuICAgIHZhciBzZWVuID0gW107XG4gICAgcmV0dXJuIChmdW5jdGlvbiBzdHJpbmdpZnkgKG5vZGUpIHtcbiAgICAgICAgaWYgKG5vZGUgJiYgbm9kZS50b0pTT04gJiYgdHlwZW9mIG5vZGUudG9KU09OID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBub2RlID0gbm9kZS50b0pTT04oKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChub2RlID09PSB1bmRlZmluZWQpIHJldHVybjtcbiAgICAgICAgaWYgKHR5cGVvZiBub2RlID09ICdudW1iZXInKSByZXR1cm4gaXNGaW5pdGUobm9kZSkgPyAnJyArIG5vZGUgOiAnbnVsbCc7XG4gICAgICAgIGlmICh0eXBlb2Ygbm9kZSAhPT0gJ29iamVjdCcpIHJldHVybiBKU09OLnN0cmluZ2lmeShub2RlKTtcblxuICAgICAgICB2YXIgaSwgb3V0O1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShub2RlKSkge1xuICAgICAgICAgICAgb3V0ID0gJ1snO1xuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IG5vZGUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoaSkgb3V0ICs9ICcsJztcbiAgICAgICAgICAgICAgICBvdXQgKz0gc3RyaW5naWZ5KG5vZGVbaV0pIHx8ICdudWxsJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBvdXQgKyAnXSc7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobm9kZSA9PT0gbnVsbCkgcmV0dXJuICdudWxsJztcblxuICAgICAgICBpZiAoc2Vlbi5pbmRleE9mKG5vZGUpICE9PSAtMSkge1xuICAgICAgICAgICAgaWYgKGN5Y2xlcykgcmV0dXJuIEpTT04uc3RyaW5naWZ5KCdfX2N5Y2xlX18nKTtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0NvbnZlcnRpbmcgY2lyY3VsYXIgc3RydWN0dXJlIHRvIEpTT04nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBzZWVuSW5kZXggPSBzZWVuLnB1c2gobm9kZSkgLSAxO1xuICAgICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG5vZGUpLnNvcnQoY21wICYmIGNtcChub2RlKSk7XG4gICAgICAgIG91dCA9ICcnO1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGtleSA9IGtleXNbaV07XG4gICAgICAgICAgICB2YXIgdmFsdWUgPSBzdHJpbmdpZnkobm9kZVtrZXldKTtcblxuICAgICAgICAgICAgaWYgKCF2YWx1ZSkgY29udGludWU7XG4gICAgICAgICAgICBpZiAob3V0KSBvdXQgKz0gJywnO1xuICAgICAgICAgICAgb3V0ICs9IEpTT04uc3RyaW5naWZ5KGtleSkgKyAnOicgKyB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBzZWVuLnNwbGljZShzZWVuSW5kZXgsIDEpO1xuICAgICAgICByZXR1cm4gJ3snICsgb3V0ICsgJ30nO1xuICAgIH0pKGRhdGEpO1xufTtcbiIsImltcG9ydCB7IGdldEZyYWdtZW50UXVlcnlEb2N1bWVudCB9IGZyb20gJ2Fwb2xsby11dGlsaXRpZXMnO1xuXG5mdW5jdGlvbiBxdWVyeUZyb21Qb2pvKG9iaikge1xuICAgIHZhciBvcCA9IHtcbiAgICAgICAga2luZDogJ09wZXJhdGlvbkRlZmluaXRpb24nLFxuICAgICAgICBvcGVyYXRpb246ICdxdWVyeScsXG4gICAgICAgIG5hbWU6IHtcbiAgICAgICAgICAgIGtpbmQ6ICdOYW1lJyxcbiAgICAgICAgICAgIHZhbHVlOiAnR2VuZXJhdGVkQ2xpZW50UXVlcnknLFxuICAgICAgICB9LFxuICAgICAgICBzZWxlY3Rpb25TZXQ6IHNlbGVjdGlvblNldEZyb21PYmoob2JqKSxcbiAgICB9O1xuICAgIHZhciBvdXQgPSB7XG4gICAgICAgIGtpbmQ6ICdEb2N1bWVudCcsXG4gICAgICAgIGRlZmluaXRpb25zOiBbb3BdLFxuICAgIH07XG4gICAgcmV0dXJuIG91dDtcbn1cbmZ1bmN0aW9uIGZyYWdtZW50RnJvbVBvam8ob2JqLCB0eXBlbmFtZSkge1xuICAgIHZhciBmcmFnID0ge1xuICAgICAgICBraW5kOiAnRnJhZ21lbnREZWZpbml0aW9uJyxcbiAgICAgICAgdHlwZUNvbmRpdGlvbjoge1xuICAgICAgICAgICAga2luZDogJ05hbWVkVHlwZScsXG4gICAgICAgICAgICBuYW1lOiB7XG4gICAgICAgICAgICAgICAga2luZDogJ05hbWUnLFxuICAgICAgICAgICAgICAgIHZhbHVlOiB0eXBlbmFtZSB8fCAnX19GYWtlVHlwZScsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICBuYW1lOiB7XG4gICAgICAgICAgICBraW5kOiAnTmFtZScsXG4gICAgICAgICAgICB2YWx1ZTogJ0dlbmVyYXRlZENsaWVudFF1ZXJ5JyxcbiAgICAgICAgfSxcbiAgICAgICAgc2VsZWN0aW9uU2V0OiBzZWxlY3Rpb25TZXRGcm9tT2JqKG9iaiksXG4gICAgfTtcbiAgICB2YXIgb3V0ID0ge1xuICAgICAgICBraW5kOiAnRG9jdW1lbnQnLFxuICAgICAgICBkZWZpbml0aW9uczogW2ZyYWddLFxuICAgIH07XG4gICAgcmV0dXJuIG91dDtcbn1cbmZ1bmN0aW9uIHNlbGVjdGlvblNldEZyb21PYmoob2JqKSB7XG4gICAgaWYgKHR5cGVvZiBvYmogPT09ICdudW1iZXInIHx8XG4gICAgICAgIHR5cGVvZiBvYmogPT09ICdib29sZWFuJyB8fFxuICAgICAgICB0eXBlb2Ygb2JqID09PSAnc3RyaW5nJyB8fFxuICAgICAgICB0eXBlb2Ygb2JqID09PSAndW5kZWZpbmVkJyB8fFxuICAgICAgICBvYmogPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGlmIChBcnJheS5pc0FycmF5KG9iaikpIHtcbiAgICAgICAgcmV0dXJuIHNlbGVjdGlvblNldEZyb21PYmoob2JqWzBdKTtcbiAgICB9XG4gICAgdmFyIHNlbGVjdGlvbnMgPSBbXTtcbiAgICBPYmplY3Qua2V5cyhvYmopLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgICB2YXIgbmVzdGVkU2VsU2V0ID0gc2VsZWN0aW9uU2V0RnJvbU9iaihvYmpba2V5XSk7XG4gICAgICAgIHZhciBmaWVsZCA9IHtcbiAgICAgICAgICAgIGtpbmQ6ICdGaWVsZCcsXG4gICAgICAgICAgICBuYW1lOiB7XG4gICAgICAgICAgICAgICAga2luZDogJ05hbWUnLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBrZXksXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2VsZWN0aW9uU2V0OiBuZXN0ZWRTZWxTZXQgfHwgdW5kZWZpbmVkLFxuICAgICAgICB9O1xuICAgICAgICBzZWxlY3Rpb25zLnB1c2goZmllbGQpO1xuICAgIH0pO1xuICAgIHZhciBzZWxlY3Rpb25TZXQgPSB7XG4gICAgICAgIGtpbmQ6ICdTZWxlY3Rpb25TZXQnLFxuICAgICAgICBzZWxlY3Rpb25zOiBzZWxlY3Rpb25zLFxuICAgIH07XG4gICAgcmV0dXJuIHNlbGVjdGlvblNldDtcbn1cbnZhciBqdXN0VHlwZW5hbWVRdWVyeSA9IHtcbiAgICBraW5kOiAnRG9jdW1lbnQnLFxuICAgIGRlZmluaXRpb25zOiBbXG4gICAgICAgIHtcbiAgICAgICAgICAgIGtpbmQ6ICdPcGVyYXRpb25EZWZpbml0aW9uJyxcbiAgICAgICAgICAgIG9wZXJhdGlvbjogJ3F1ZXJ5JyxcbiAgICAgICAgICAgIG5hbWU6IG51bGwsXG4gICAgICAgICAgICB2YXJpYWJsZURlZmluaXRpb25zOiBudWxsLFxuICAgICAgICAgICAgZGlyZWN0aXZlczogW10sXG4gICAgICAgICAgICBzZWxlY3Rpb25TZXQ6IHtcbiAgICAgICAgICAgICAgICBraW5kOiAnU2VsZWN0aW9uU2V0JyxcbiAgICAgICAgICAgICAgICBzZWxlY3Rpb25zOiBbXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGtpbmQ6ICdGaWVsZCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGlhczogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBraW5kOiAnTmFtZScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6ICdfX3R5cGVuYW1lJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBhcmd1bWVudHM6IFtdLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGlyZWN0aXZlczogW10sXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3Rpb25TZXQ6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgXSxcbn07XG5cbnZhciBBcG9sbG9DYWNoZSA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQXBvbGxvQ2FjaGUoKSB7XG4gICAgfVxuICAgIEFwb2xsb0NhY2hlLnByb3RvdHlwZS50cmFuc2Zvcm1Eb2N1bWVudCA9IGZ1bmN0aW9uIChkb2N1bWVudCkge1xuICAgICAgICByZXR1cm4gZG9jdW1lbnQ7XG4gICAgfTtcbiAgICBBcG9sbG9DYWNoZS5wcm90b3R5cGUudHJhbnNmb3JtRm9yTGluayA9IGZ1bmN0aW9uIChkb2N1bWVudCkge1xuICAgICAgICByZXR1cm4gZG9jdW1lbnQ7XG4gICAgfTtcbiAgICBBcG9sbG9DYWNoZS5wcm90b3R5cGUucmVhZFF1ZXJ5ID0gZnVuY3Rpb24gKG9wdGlvbnMsIG9wdGltaXN0aWMpIHtcbiAgICAgICAgaWYgKG9wdGltaXN0aWMgPT09IHZvaWQgMCkgeyBvcHRpbWlzdGljID0gZmFsc2U7IH1cbiAgICAgICAgcmV0dXJuIHRoaXMucmVhZCh7XG4gICAgICAgICAgICBxdWVyeTogb3B0aW9ucy5xdWVyeSxcbiAgICAgICAgICAgIHZhcmlhYmxlczogb3B0aW9ucy52YXJpYWJsZXMsXG4gICAgICAgICAgICBvcHRpbWlzdGljOiBvcHRpbWlzdGljLFxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIEFwb2xsb0NhY2hlLnByb3RvdHlwZS5yZWFkRnJhZ21lbnQgPSBmdW5jdGlvbiAob3B0aW9ucywgb3B0aW1pc3RpYykge1xuICAgICAgICBpZiAob3B0aW1pc3RpYyA9PT0gdm9pZCAwKSB7IG9wdGltaXN0aWMgPSBmYWxzZTsgfVxuICAgICAgICByZXR1cm4gdGhpcy5yZWFkKHtcbiAgICAgICAgICAgIHF1ZXJ5OiBnZXRGcmFnbWVudFF1ZXJ5RG9jdW1lbnQob3B0aW9ucy5mcmFnbWVudCwgb3B0aW9ucy5mcmFnbWVudE5hbWUpLFxuICAgICAgICAgICAgdmFyaWFibGVzOiBvcHRpb25zLnZhcmlhYmxlcyxcbiAgICAgICAgICAgIHJvb3RJZDogb3B0aW9ucy5pZCxcbiAgICAgICAgICAgIG9wdGltaXN0aWM6IG9wdGltaXN0aWMsXG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgQXBvbGxvQ2FjaGUucHJvdG90eXBlLndyaXRlUXVlcnkgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICB0aGlzLndyaXRlKHtcbiAgICAgICAgICAgIGRhdGFJZDogJ1JPT1RfUVVFUlknLFxuICAgICAgICAgICAgcmVzdWx0OiBvcHRpb25zLmRhdGEsXG4gICAgICAgICAgICBxdWVyeTogb3B0aW9ucy5xdWVyeSxcbiAgICAgICAgICAgIHZhcmlhYmxlczogb3B0aW9ucy52YXJpYWJsZXMsXG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgQXBvbGxvQ2FjaGUucHJvdG90eXBlLndyaXRlRnJhZ21lbnQgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICB0aGlzLndyaXRlKHtcbiAgICAgICAgICAgIGRhdGFJZDogb3B0aW9ucy5pZCxcbiAgICAgICAgICAgIHJlc3VsdDogb3B0aW9ucy5kYXRhLFxuICAgICAgICAgICAgdmFyaWFibGVzOiBvcHRpb25zLnZhcmlhYmxlcyxcbiAgICAgICAgICAgIHF1ZXJ5OiBnZXRGcmFnbWVudFF1ZXJ5RG9jdW1lbnQob3B0aW9ucy5mcmFnbWVudCwgb3B0aW9ucy5mcmFnbWVudE5hbWUpLFxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIEFwb2xsb0NhY2hlLnByb3RvdHlwZS53cml0ZURhdGEgPSBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgdmFyIGlkID0gX2EuaWQsIGRhdGEgPSBfYS5kYXRhO1xuICAgICAgICBpZiAodHlwZW9mIGlkICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgdmFyIHR5cGVuYW1lUmVzdWx0ID0gbnVsbDtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgdHlwZW5hbWVSZXN1bHQgPSB0aGlzLnJlYWQoe1xuICAgICAgICAgICAgICAgICAgICByb290SWQ6IGlkLFxuICAgICAgICAgICAgICAgICAgICBvcHRpbWlzdGljOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgcXVlcnk6IGp1c3RUeXBlbmFtZVF1ZXJ5LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBfX3R5cGVuYW1lID0gKHR5cGVuYW1lUmVzdWx0ICYmIHR5cGVuYW1lUmVzdWx0Ll9fdHlwZW5hbWUpIHx8ICdfX0NsaWVudERhdGEnO1xuICAgICAgICAgICAgdmFyIGRhdGFUb1dyaXRlID0gT2JqZWN0LmFzc2lnbih7IF9fdHlwZW5hbWU6IF9fdHlwZW5hbWUgfSwgZGF0YSk7XG4gICAgICAgICAgICB0aGlzLndyaXRlRnJhZ21lbnQoe1xuICAgICAgICAgICAgICAgIGlkOiBpZCxcbiAgICAgICAgICAgICAgICBmcmFnbWVudDogZnJhZ21lbnRGcm9tUG9qbyhkYXRhVG9Xcml0ZSwgX190eXBlbmFtZSksXG4gICAgICAgICAgICAgICAgZGF0YTogZGF0YVRvV3JpdGUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMud3JpdGVRdWVyeSh7IHF1ZXJ5OiBxdWVyeUZyb21Qb2pvKGRhdGEpLCBkYXRhOiBkYXRhIH0pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gQXBvbGxvQ2FjaGU7XG59KCkpO1xuXG52YXIgQ2FjaGU7XG4oZnVuY3Rpb24gKENhY2hlKSB7XG59KShDYWNoZSB8fCAoQ2FjaGUgPSB7fSkpO1xuXG5leHBvcnQgeyBBcG9sbG9DYWNoZSwgQ2FjaGUgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJ1bmRsZS5lc20uanMubWFwXG4iLCJ2YXIgc2NvcGUgPSAodHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBnbG9iYWwpIHx8XG4gICAgICAgICAgICAodHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIgJiYgc2VsZikgfHxcbiAgICAgICAgICAgIHdpbmRvdztcbnZhciBhcHBseSA9IEZ1bmN0aW9uLnByb3RvdHlwZS5hcHBseTtcblxuLy8gRE9NIEFQSXMsIGZvciBjb21wbGV0ZW5lc3NcblxuZXhwb3J0cy5zZXRUaW1lb3V0ID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBuZXcgVGltZW91dChhcHBseS5jYWxsKHNldFRpbWVvdXQsIHNjb3BlLCBhcmd1bWVudHMpLCBjbGVhclRpbWVvdXQpO1xufTtcbmV4cG9ydHMuc2V0SW50ZXJ2YWwgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG5ldyBUaW1lb3V0KGFwcGx5LmNhbGwoc2V0SW50ZXJ2YWwsIHNjb3BlLCBhcmd1bWVudHMpLCBjbGVhckludGVydmFsKTtcbn07XG5leHBvcnRzLmNsZWFyVGltZW91dCA9XG5leHBvcnRzLmNsZWFySW50ZXJ2YWwgPSBmdW5jdGlvbih0aW1lb3V0KSB7XG4gIGlmICh0aW1lb3V0KSB7XG4gICAgdGltZW91dC5jbG9zZSgpO1xuICB9XG59O1xuXG5mdW5jdGlvbiBUaW1lb3V0KGlkLCBjbGVhckZuKSB7XG4gIHRoaXMuX2lkID0gaWQ7XG4gIHRoaXMuX2NsZWFyRm4gPSBjbGVhckZuO1xufVxuVGltZW91dC5wcm90b3R5cGUudW5yZWYgPSBUaW1lb3V0LnByb3RvdHlwZS5yZWYgPSBmdW5jdGlvbigpIHt9O1xuVGltZW91dC5wcm90b3R5cGUuY2xvc2UgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5fY2xlYXJGbi5jYWxsKHNjb3BlLCB0aGlzLl9pZCk7XG59O1xuXG4vLyBEb2VzIG5vdCBzdGFydCB0aGUgdGltZSwganVzdCBzZXRzIHVwIHRoZSBtZW1iZXJzIG5lZWRlZC5cbmV4cG9ydHMuZW5yb2xsID0gZnVuY3Rpb24oaXRlbSwgbXNlY3MpIHtcbiAgY2xlYXJUaW1lb3V0KGl0ZW0uX2lkbGVUaW1lb3V0SWQpO1xuICBpdGVtLl9pZGxlVGltZW91dCA9IG1zZWNzO1xufTtcblxuZXhwb3J0cy51bmVucm9sbCA9IGZ1bmN0aW9uKGl0ZW0pIHtcbiAgY2xlYXJUaW1lb3V0KGl0ZW0uX2lkbGVUaW1lb3V0SWQpO1xuICBpdGVtLl9pZGxlVGltZW91dCA9IC0xO1xufTtcblxuZXhwb3J0cy5fdW5yZWZBY3RpdmUgPSBleHBvcnRzLmFjdGl2ZSA9IGZ1bmN0aW9uKGl0ZW0pIHtcbiAgY2xlYXJUaW1lb3V0KGl0ZW0uX2lkbGVUaW1lb3V0SWQpO1xuXG4gIHZhciBtc2VjcyA9IGl0ZW0uX2lkbGVUaW1lb3V0O1xuICBpZiAobXNlY3MgPj0gMCkge1xuICAgIGl0ZW0uX2lkbGVUaW1lb3V0SWQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uIG9uVGltZW91dCgpIHtcbiAgICAgIGlmIChpdGVtLl9vblRpbWVvdXQpXG4gICAgICAgIGl0ZW0uX29uVGltZW91dCgpO1xuICAgIH0sIG1zZWNzKTtcbiAgfVxufTtcblxuLy8gc2V0aW1tZWRpYXRlIGF0dGFjaGVzIGl0c2VsZiB0byB0aGUgZ2xvYmFsIG9iamVjdFxucmVxdWlyZShcInNldGltbWVkaWF0ZVwiKTtcbi8vIE9uIHNvbWUgZXhvdGljIGVudmlyb25tZW50cywgaXQncyBub3QgY2xlYXIgd2hpY2ggb2JqZWN0IGBzZXRpbW1lZGlhdGVgIHdhc1xuLy8gYWJsZSB0byBpbnN0YWxsIG9udG8uICBTZWFyY2ggZWFjaCBwb3NzaWJpbGl0eSBpbiB0aGUgc2FtZSBvcmRlciBhcyB0aGVcbi8vIGBzZXRpbW1lZGlhdGVgIGxpYnJhcnkuXG5leHBvcnRzLnNldEltbWVkaWF0ZSA9ICh0eXBlb2Ygc2VsZiAhPT0gXCJ1bmRlZmluZWRcIiAmJiBzZWxmLnNldEltbWVkaWF0ZSkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgKHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIgJiYgZ2xvYmFsLnNldEltbWVkaWF0ZSkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgKHRoaXMgJiYgdGhpcy5zZXRJbW1lZGlhdGUpO1xuZXhwb3J0cy5jbGVhckltbWVkaWF0ZSA9ICh0eXBlb2Ygc2VsZiAhPT0gXCJ1bmRlZmluZWRcIiAmJiBzZWxmLmNsZWFySW1tZWRpYXRlKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICh0eXBlb2YgZ2xvYmFsICE9PSBcInVuZGVmaW5lZFwiICYmIGdsb2JhbC5jbGVhckltbWVkaWF0ZSkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAodGhpcyAmJiB0aGlzLmNsZWFySW1tZWRpYXRlKTtcbiIsIi8qXHJcbiAgICBEZXByZWNhdGVkIERlY29yYXRvciB2MC4xXHJcbiAgICBodHRwczovL2dpdGh1Yi5jb20vdmlsaWMvZGVwcmVjYXRlZC1kZWNvcmF0b3JcclxuKi9cclxuXCJ1c2Ugc3RyaWN0XCI7XHJcbi8qKiBAaW50ZXJuYWwgKi9cclxuZXhwb3J0cy5vcHRpb25zID0ge1xyXG4gICAgZ2V0V2FybmVyOiB1bmRlZmluZWRcclxufTtcclxuZnVuY3Rpb24gY3JlYXRlV2FybmVyKHR5cGUsIG5hbWUsIGFsdGVybmF0aXZlLCB2ZXJzaW9uLCB1cmwpIHtcclxuICAgIHZhciB3YXJuZWRQb3NpdGlvbnMgPSB7fTtcclxuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIHN0YWNrID0gKG5ldyBFcnJvcigpKS5zdGFjayB8fCAnJztcclxuICAgICAgICB2YXIgYXQgPSAoc3RhY2subWF0Y2goLyg/OlxccythdFxccy4rKXsyfVxccythdFxccyguKykvKSB8fCBbdW5kZWZpbmVkLCAnJ10pWzFdO1xyXG4gICAgICAgIGlmICgvXFwpJC8udGVzdChhdCkpIHtcclxuICAgICAgICAgICAgYXQgPSBhdC5tYXRjaCgvW14oXSsoPz1cXCkkKS8pWzBdO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgYXQgPSBhdC50cmltKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChhdCBpbiB3YXJuZWRQb3NpdGlvbnMpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB3YXJuZWRQb3NpdGlvbnNbYXRdID0gdHJ1ZTtcclxuICAgICAgICB2YXIgbWVzc2FnZTtcclxuICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcclxuICAgICAgICAgICAgY2FzZSAnY2xhc3MnOlxyXG4gICAgICAgICAgICAgICAgbWVzc2FnZSA9ICdDbGFzcyc7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAncHJvcGVydHknOlxyXG4gICAgICAgICAgICAgICAgbWVzc2FnZSA9ICdQcm9wZXJ0eSc7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAnbWV0aG9kJzpcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSAnTWV0aG9kJztcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICdmdW5jdGlvbic6XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlID0gJ0Z1bmN0aW9uJztcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgICBtZXNzYWdlICs9IFwiIGBcIiArIG5hbWUgKyBcImAgaGFzIGJlZW4gZGVwcmVjYXRlZFwiO1xyXG4gICAgICAgIGlmICh2ZXJzaW9uKSB7XHJcbiAgICAgICAgICAgIG1lc3NhZ2UgKz0gXCIgc2luY2UgdmVyc2lvbiBcIiArIHZlcnNpb247XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChhbHRlcm5hdGl2ZSkge1xyXG4gICAgICAgICAgICBtZXNzYWdlICs9IFwiLCB1c2UgYFwiICsgYWx0ZXJuYXRpdmUgKyBcImAgaW5zdGVhZFwiO1xyXG4gICAgICAgIH1cclxuICAgICAgICBtZXNzYWdlICs9ICcuJztcclxuICAgICAgICBpZiAoYXQpIHtcclxuICAgICAgICAgICAgbWVzc2FnZSArPSBcIlxcbiAgICBhdCBcIiArIGF0O1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodXJsKSB7XHJcbiAgICAgICAgICAgIG1lc3NhZ2UgKz0gXCJcXG5DaGVjayBvdXQgXCIgKyB1cmwgKyBcIiBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cIjtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc29sZS53YXJuKG1lc3NhZ2UpO1xyXG4gICAgfTtcclxufVxyXG5mdW5jdGlvbiBkZWNvcmF0ZVByb3BlcnR5KHR5cGUsIG5hbWUsIGRlc2NyaXB0b3IsIGFsdGVybmF0aXZlLCB2ZXJzaW9uLCB1cmwpIHtcclxuICAgIHZhciB3YXJuZXIgPSAoZXhwb3J0cy5vcHRpb25zLmdldFdhcm5lciB8fCBjcmVhdGVXYXJuZXIpKHR5cGUsIG5hbWUsIGFsdGVybmF0aXZlLCB2ZXJzaW9uLCB1cmwpO1xyXG4gICAgZGVzY3JpcHRvciA9IGRlc2NyaXB0b3IgfHwge1xyXG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgfTtcclxuICAgIHZhciBkZXByZWNhdGVkRGVzY3JpcHRvciA9IHtcclxuICAgICAgICBlbnVtZXJhYmxlOiBkZXNjcmlwdG9yLmVudW1lcmFibGUsXHJcbiAgICAgICAgY29uZmlndXJhYmxlOiBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZVxyXG4gICAgfTtcclxuICAgIGlmIChkZXNjcmlwdG9yLmdldCB8fCBkZXNjcmlwdG9yLnNldCkge1xyXG4gICAgICAgIGlmIChkZXNjcmlwdG9yLmdldCkge1xyXG4gICAgICAgICAgICBkZXByZWNhdGVkRGVzY3JpcHRvci5nZXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB3YXJuZXIoKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBkZXNjcmlwdG9yLmdldC5jYWxsKHRoaXMpO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoZGVzY3JpcHRvci5zZXQpIHtcclxuICAgICAgICAgICAgZGVwcmVjYXRlZERlc2NyaXB0b3Iuc2V0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICB3YXJuZXIoKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBkZXNjcmlwdG9yLnNldC5jYWxsKHRoaXMsIHZhbHVlKTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICB2YXIgcHJvcGVydHlWYWx1ZV8xID0gZGVzY3JpcHRvci52YWx1ZTtcclxuICAgICAgICBkZXByZWNhdGVkRGVzY3JpcHRvci5nZXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHdhcm5lcigpO1xyXG4gICAgICAgICAgICByZXR1cm4gcHJvcGVydHlWYWx1ZV8xO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgaWYgKGRlc2NyaXB0b3Iud3JpdGFibGUpIHtcclxuICAgICAgICAgICAgZGVwcmVjYXRlZERlc2NyaXB0b3Iuc2V0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICB3YXJuZXIoKTtcclxuICAgICAgICAgICAgICAgIHByb3BlcnR5VmFsdWVfMSA9IHZhbHVlO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBkZXByZWNhdGVkRGVzY3JpcHRvcjtcclxufVxyXG5mdW5jdGlvbiBkZWNvcmF0ZUZ1bmN0aW9uKHR5cGUsIHRhcmdldCwgYWx0ZXJuYXRpdmUsIHZlcnNpb24sIHVybCkge1xyXG4gICAgdmFyIG5hbWUgPSB0YXJnZXQubmFtZTtcclxuICAgIHZhciB3YXJuZXIgPSAoZXhwb3J0cy5vcHRpb25zLmdldFdhcm5lciB8fCBjcmVhdGVXYXJuZXIpKHR5cGUsIG5hbWUsIGFsdGVybmF0aXZlLCB2ZXJzaW9uLCB1cmwpO1xyXG4gICAgdmFyIGZuID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHdhcm5lcigpO1xyXG4gICAgICAgIHJldHVybiB0YXJnZXQuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxuICAgIH07XHJcbiAgICBmb3IgKHZhciBfaSA9IDAsIF9hID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModGFyZ2V0KTsgX2kgPCBfYS5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICB2YXIgcHJvcGVydHlOYW1lID0gX2FbX2ldO1xyXG4gICAgICAgIHZhciBkZXNjcmlwdG9yID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIHByb3BlcnR5TmFtZSk7XHJcbiAgICAgICAgaWYgKGRlc2NyaXB0b3Iud3JpdGFibGUpIHtcclxuICAgICAgICAgICAgZm5bcHJvcGVydHlOYW1lXSA9IHRhcmdldFtwcm9wZXJ0eU5hbWVdO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSkge1xyXG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZm4sIHByb3BlcnR5TmFtZSwgZGVzY3JpcHRvcik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZuO1xyXG59XHJcbmZ1bmN0aW9uIGRlcHJlY2F0ZWQoKSB7XHJcbiAgICB2YXIgYXJncyA9IFtdO1xyXG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICBhcmdzW19pIC0gMF0gPSBhcmd1bWVudHNbX2ldO1xyXG4gICAgfVxyXG4gICAgdmFyIGZuID0gYXJnc1thcmdzLmxlbmd0aCAtIDFdO1xyXG4gICAgaWYgKHR5cGVvZiBmbiA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgIGZuID0gYXJncy5wb3AoKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGZuID0gdW5kZWZpbmVkO1xyXG4gICAgfVxyXG4gICAgdmFyIG9wdGlvbnMgPSBhcmdzWzBdO1xyXG4gICAgdmFyIGFsdGVybmF0aXZlO1xyXG4gICAgdmFyIHZlcnNpb247XHJcbiAgICB2YXIgdXJsO1xyXG4gICAgaWYgKHR5cGVvZiBvcHRpb25zID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgIGFsdGVybmF0aXZlID0gb3B0aW9ucztcclxuICAgICAgICB2ZXJzaW9uID0gYXJnc1sxXTtcclxuICAgICAgICB1cmwgPSBhcmdzWzJdO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAob3B0aW9ucykge1xyXG4gICAgICAgIChhbHRlcm5hdGl2ZSA9IG9wdGlvbnMuYWx0ZXJuYXRpdmUsIHZlcnNpb24gPSBvcHRpb25zLnZlcnNpb24sIHVybCA9IG9wdGlvbnMudXJsLCBvcHRpb25zKTtcclxuICAgIH1cclxuICAgIGlmIChmbikge1xyXG4gICAgICAgIHJldHVybiBkZWNvcmF0ZUZ1bmN0aW9uKCdmdW5jdGlvbicsIGZuLCBhbHRlcm5hdGl2ZSwgdmVyc2lvbiwgdXJsKTtcclxuICAgIH1cclxuICAgIHJldHVybiBmdW5jdGlvbiAodGFyZ2V0LCBuYW1lLCBkZXNjcmlwdG9yKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBuYW1lID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgICB2YXIgdHlwZSA9IGRlc2NyaXB0b3IgJiYgdHlwZW9mIGRlc2NyaXB0b3IudmFsdWUgPT09ICdmdW5jdGlvbicgP1xyXG4gICAgICAgICAgICAgICAgJ21ldGhvZCcgOiAncHJvcGVydHknO1xyXG4gICAgICAgICAgICByZXR1cm4gZGVjb3JhdGVQcm9wZXJ0eSh0eXBlLCBuYW1lLCBkZXNjcmlwdG9yLCBhbHRlcm5hdGl2ZSwgdmVyc2lvbiwgdXJsKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIHRhcmdldCA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICB2YXIgY29uc3RydWN0b3IgPSBkZWNvcmF0ZUZ1bmN0aW9uKCdjbGFzcycsIHRhcmdldCwgYWx0ZXJuYXRpdmUsIHZlcnNpb24sIHVybCk7XHJcbiAgICAgICAgICAgIHZhciBjbGFzc05hbWUgPSB0YXJnZXQubmFtZTtcclxuICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBfYSA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGNvbnN0cnVjdG9yKTsgX2kgPCBfYS5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICAgICAgICAgIHZhciBwcm9wZXJ0eU5hbWUgPSBfYVtfaV07XHJcbiAgICAgICAgICAgICAgICB2YXIgZGVzY3JpcHRvcl8xID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihjb25zdHJ1Y3RvciwgcHJvcGVydHlOYW1lKTtcclxuICAgICAgICAgICAgICAgIGRlc2NyaXB0b3JfMSA9IGRlY29yYXRlUHJvcGVydHkoJ2NsYXNzJywgY2xhc3NOYW1lLCBkZXNjcmlwdG9yXzEsIGFsdGVybmF0aXZlLCB2ZXJzaW9uLCB1cmwpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGRlc2NyaXB0b3JfMS53cml0YWJsZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0cnVjdG9yW3Byb3BlcnR5TmFtZV0gPSB0YXJnZXRbcHJvcGVydHlOYW1lXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGRlc2NyaXB0b3JfMS5jb25maWd1cmFibGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY29uc3RydWN0b3IsIHByb3BlcnR5TmFtZSwgZGVzY3JpcHRvcl8xKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gY29uc3RydWN0b3I7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxufVxyXG5leHBvcnRzLmRlcHJlY2F0ZWQgPSBkZXByZWNhdGVkO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbmV4cG9ydHMuZGVmYXVsdCA9IGRlcHJlY2F0ZWQ7XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCIsInZhciB2MSA9IHJlcXVpcmUoJy4vdjEnKTtcbnZhciB2NCA9IHJlcXVpcmUoJy4vdjQnKTtcblxudmFyIHV1aWQgPSB2NDtcbnV1aWQudjEgPSB2MTtcbnV1aWQudjQgPSB2NDtcblxubW9kdWxlLmV4cG9ydHMgPSB1dWlkO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==